(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{18:function(s){s.exports=JSON.parse('[{"intro":"<p>\u5bf9\u4e8e\u4e00\u4e2amock\u670d\u52a1\u6765\u8bf4\uff0c\u70ed\u66f4\u65b0\u662f\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u529f\u80fd\uff0c\u4e0d\u7528\u6bcf\u6b21\u66f4\u6539mock\u6570\u636e\u4e4b\u540e\u8fd8\u8981\u91cd\u542f\u4e00\u4e0b\uff0c\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\u3002\u70ed\u66f4\u65b0\u7684\u5bf9\u8c61\u6709\u4e24\u79cd\uff1a\u914d\u7f6e\u6587\u4ef6\u548cmock\u6570\u636e\u6587\u4ef6\u3002</p>\\n","content":"<p>\u5bf9\u4e8e\u4e00\u4e2amock\u670d\u52a1\u6765\u8bf4\uff0c\u70ed\u66f4\u65b0\u662f\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u529f\u80fd\uff0c\u4e0d\u7528\u6bcf\u6b21\u66f4\u6539mock\u6570\u636e\u4e4b\u540e\u8fd8\u8981\u91cd\u542f\u4e00\u4e0b\uff0c\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\u3002\u70ed\u66f4\u65b0\u7684\u5bf9\u8c61\u6709\u4e24\u79cd\uff1a\u914d\u7f6e\u6587\u4ef6\u548cmock\u6570\u636e\u6587\u4ef6\u3002</p>\\n<h3 id=\\"\u914d\u7f6e\u6587\u4ef6\\">\u914d\u7f6e\u6587\u4ef6</h3>\\n<p>\u4ee5\u6211\u4eec\u76ee\u524d\u9879\u76ee\u4e2d\u7684\u4f7f\u7528MockServer\u65b9\u5f0f\u6765\u8bf4\uff0c\u6211\u4eec\u76ee\u524d\u662f\u4f5c\u4e3aexpress\u4e2d\u95f4\u4ef6\u7684\u5f62\u5f0f\u6302\u8f7d\u5728\u672c\u5730\u5f00\u53d1\u65f6\u542f\u52a8\u7684Node\u670d\u52a1\u4e0a\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// vue.config.js</span>\\n<span class=\\"hljs-keyword\\">const</span> mock = <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'cf-mock-server/express-mw\'</span>)\\n\\n<span class=\\"hljs-built_in\\">module</span>.exports = {\\n  <span class=\\"hljs-attr\\">devServer</span>: {\\n    <span class=\\"hljs-attr\\">after</span>: <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">app</span>) =&gt;</span> {\\n     app.use(mock({\\n      <span class=\\"hljs-attr\\">config</span>: path.join(__dirname, <span class=\\"hljs-string\\">\'./mock-server/config.js\'</span>)\\n     }))\\n    }\\n  }\\n}</code></pre>\\n<p>\u4f20\u5165\u7684config\u6307\u5411\u914d\u7f6e\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\u3002\u8fd9\u91cc\u7684mock\u65b9\u6cd5\u6839\u636e\u4f20\u5165\u7684\u9009\u9879\u521d\u59cb\u5316\u4e2d\u95f4\u4ef6\u5e76\u8fd4\u56de\u4e2d\u95f4\u4ef6\u7684\u5904\u7406\u51fd\u6570\uff1a</p>\\n<pre><code class=\\"language-javascript\\">exports.expressMockMiddleware = <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">options</span>) =&gt;</span> {\\n  <span class=\\"hljs-keyword\\">try</span> {\\n    initMiddleware(options) <span class=\\"hljs-comment\\">// \u521d\u59cb\u5316\u4e2d\u95f4\u4ef6</span>\\n  } <span class=\\"hljs-keyword\\">catch</span> (error) {\\n    <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'\\\\n\'</span>)\\n    handleError(error)\\n  }\\n\\n  <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-keyword\\">async</span> (req, res, next) =&gt; {\\n    ...\\n  }\\n}</code></pre>\\n<p>\u521d\u59cb\u5316\u65b9\u6cd5\u89e3\u6790\u5e76\u76d1\u542c\u4e86\u914d\u7f6e\u6587\u4ef6\uff0c\u5982\u679c\u6587\u4ef6\u6539\u52a8\u5219\u91cd\u65b0\u89e3\u6790\u914d\u7f6e\u6587\u4ef6\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">/**\\n * \u521d\u59cb\u5316\u4e2d\u95f4\u4ef6\\n *\\n * @param {object} options\\n */</span>\\nfunction initMiddleware (<span class=\\"hljs-keyword\\">options</span>) {\\n  <span class=\\"hljs-comment\\">// \u83b7\u53d6\u5b8c\u6574\u8def\u5f84</span>\\n  let confFile = typeof <span class=\\"hljs-keyword\\">options</span>.config === <span class=\\"hljs-string\\">\'object\'</span>\\n    ? null\\n    : utils.getFullPathOfFile(<span class=\\"hljs-keyword\\">options</span>.config, [<span class=\\"hljs-string\\">\'.js\'</span>, <span class=\\"hljs-string\\">\'.json\'</span>])\\n  <span class=\\"hljs-comment\\">// \u521d\u59cb\u5316\u6570\u636e</span>\\n  Object.<span class=\\"hljs-keyword\\">assign</span>(<span class=\\"hljs-keyword\\">options</span>, {\\n    confFile, <span class=\\"hljs-comment\\">// mock\u914d\u7f6e\u6587\u4ef6\u8def\u5f84</span>\\n    dataFilePath: <span class=\\"hljs-string\\">\'\'</span>, <span class=\\"hljs-comment\\">// \u6570\u636e\u6587\u4ef6\u57fa\u7840\u8def\u5f84</span>\\n    apiConf: null, <span class=\\"hljs-comment\\">// API\u914d\u7f6e</span>\\n  })\\n\\n  <span class=\\"hljs-comment\\">// \u76d1\u542cmock\u914d\u7f6e\u6587\u4ef6\u6539\u52a8\uff0c\u70ed\u66f4\u65b0API\u914d\u7f6e</span>\\n  <span class=\\"hljs-keyword\\">options</span>.confFile &amp;&amp; utils.watch([<span class=\\"hljs-keyword\\">options</span>.confFile], (<span class=\\"hljs-keyword\\">file</span>) =&gt; {\\n    <span class=\\"hljs-built-in\\">log</span>.warning(`<span class=\\"hljs-symbol\\">$</span>{<span class=\\"hljs-keyword\\">file</span>} changed!`)\\n    delete require.cache[<span class=\\"hljs-keyword\\">file</span>]\\n    handleConfig(<span class=\\"hljs-keyword\\">options</span>)\\n  })\\n  <span class=\\"hljs-comment\\">// \u89e3\u6790\u914d\u7f6e\u6587\u4ef6</span>\\n  handleConfig(<span class=\\"hljs-keyword\\">options</span>)\\n}</code></pre>\\n<p>\u89e3\u6790\u7684\u7ed3\u679c\u90fd\u6302\u8f7d\u5230options\u5bf9\u8c61\u4e0a\uff0c\u7136\u540e\u4e2d\u95f4\u4ef6\u7684\u5904\u7406\u51fd\u6570\u4e5f\u662f\u4eceoptions\u5bf9\u8c61\u4e0a\u83b7\u53d6\u89e3\u6790\u540e\u7684API\u914d\u7f6e\u3002\u6240\u4ee5\u5bf9\u4e8e\u914d\u7f6e\u6587\u4ef6\u7684\u70ed\u66f4\u65b0\u5176\u5b9e\u5c31\u662f<strong>\u76d1\u542c\u6587\u4ef6\u6539\u53d8+\u66f4\u65b0\u6587\u4ef6\u5904\u7406\u7ed3\u679c\u7684\u5f15\u7528</strong>\u3002</p>\\n<h3 id=\\"mock\u6570\u636e\\">Mock\u6570\u636e</h3>\\n<p>\u6700\u521d\u8bbe\u8ba1MockServer\u7684\u65f6\u5019\uff0cmock\u6570\u636e\u652f\u6301\u591a\u79cd\u683c\u5f0f\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">let</span> Mock = <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'cf-mock-server\'</span>)\\n\\n<span class=\\"hljs-keyword\\">let</span> app = <span class=\\"hljs-keyword\\">new</span> Mock({\\n  <span class=\\"hljs-attr\\">config</span>: {\\n    <span class=\\"hljs-attr\\">dataFile</span>: <span class=\\"hljs-string\\">\'./mockData\'</span>,\\n    <span class=\\"hljs-attr\\">api</span>: {\\n      <span class=\\"hljs-string\\">\'GET /api/users/all\'</span>: <span class=\\"hljs-string\\">\'[{\\"name\\":\\"tom\\"},{\\"name\\":\\"jerry\\"}]\'</span>,\\n      <span class=\\"hljs-string\\">\'GET /api/users/?name=tom\'</span>: <span class=\\"hljs-string\\">\'users/tom.json\'</span>,\\n      <span class=\\"hljs-string\\">\'GET /api/users/?name=/^A.*\\\\\\\\^$/\'</span>: <span class=\\"hljs-string\\">\'users/tom.js\'</span>,\\n      <span class=\\"hljs-string\\">\'GET /api/users/?name=*\'</span>: <span class=\\"hljs-string\\">\'users/tom.txt\'</span>,\\n      <span class=\\"hljs-string\\">\'POST /api/users\'</span>: <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">req, res</span>) =&gt;</span> {\\n        <span class=\\"hljs-keyword\\">if</span> (req.body.name === <span class=\\"hljs-string\\">\'tom\'</span>) {\\n          res.status(<span class=\\"hljs-number\\">200</span>).send({ <span class=\\"hljs-attr\\">message</span>: <span class=\\"hljs-string\\">\'Create user success!\'</span> })\\n        }\\n      },\\n    }\\n  },\\n  <span class=\\"hljs-attr\\">watch</span>: <span class=\\"hljs-literal\\">true</span>,\\n})\\n\\napp.run()</code></pre>\\n<p>JSON\u5b57\u7b26\u4e32\u548c\u51fd\u6570\u7684\u5c31\u4e0d\u5fc5\u8bf4\u4e86\uff0c\u8ddf\u968f\u914d\u7f6e\u6587\u4ef6\u6539\u52a8\u3002\u90a3JS\u6587\u4ef6\uff0cJSON\u6587\u4ef6\uff0cTXT\u6587\u4ef6\u8fd9\u4e9b\u662f\u600e\u4e48\u652f\u6301\u70ed\u66f4\u65b0\u7684\u5462\uff1f\u53ef\u4ee5\u770b\u4e00\u4e0b\u8bfb\u53d6\u6587\u4ef6\u7684\u5904\u7406\uff1a</p>\\n<pre><code class=\\"language-javascript\\">/**\\n * \u8bfb\u53d6\u6587\u4ef6\\n *\\n * @param <span class=\\"hljs-built_in\\">{string</span>} file - \u6587\u4ef6\u8def\u5f84\\n * @returns {object} {\\n *   header: {},\\n *   body: Response Data,\\n * }\\n */\\n<span class=\\"hljs-keyword\\">function</span> readFile (file) {\\n  file = getFullPathOfFile(file, [<span class=\\"hljs-string\\">\'.json\'</span>, <span class=\\"hljs-string\\">\'.js\'</span>, <span class=\\"hljs-string\\">\'.txt\'</span>])\\n\\n  <span class=\\"hljs-keyword\\">let</span> ext =<span class=\\"hljs-built_in\\"> path</span>.extname(file)\\n  <span class=\\"hljs-keyword\\">let</span> content = readFileSync(file, <span class=\\"hljs-string\\">\'utf-8\'</span>)\\n  <span class=\\"hljs-keyword\\">switch</span> (ext) {\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-string\\">\'.json\'</span>:\\n      <span class=\\"hljs-keyword\\">return</span> {\\n        header: {},\\n        body: JSON.parse(content)\\n      }\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-string\\">\'.txt\'</span>:\\n      <span class=\\"hljs-keyword\\">let</span> [header, body] = <span class=\\"hljs-variable\\">$crlf</span>.crlf(content, <span class=\\"hljs-variable\\">$crlf</span>.LF).split(<span class=\\"hljs-string\\">\'\\\\n\\\\n\'</span>)\\n      <span class=\\"hljs-keyword\\">return</span> {\\n        header: header.split(<span class=\\"hljs-string\\">\'\\\\n\'</span>).reduce((obj, <span class=\\"hljs-type\\">item</span>) =&gt; {\\n          <span class=\\"hljs-keyword\\">if</span> (!<span class=\\"hljs-type\\">item</span>.includes(<span class=\\"hljs-string\\">\': \'</span>)) <span class=\\"hljs-keyword\\">return</span> obj\\n          <span class=\\"hljs-keyword\\">let</span> <span class=\\"hljs-built_in\\">[key</span>, <span class=\\"hljs-keyword\\">value</span>] = <span class=\\"hljs-type\\">item</span>.split(<span class=\\"hljs-string\\">\': \'</span>)\\n          obj<span class=\\"hljs-built_in\\">[key</span>] = <span class=\\"hljs-keyword\\">value</span>\\n          <span class=\\"hljs-keyword\\">return</span> obj\\n        }, {}),\\n        body: JSON.parse(body)\\n      }\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-string\\">\'.js\'</span>:\\n      <span class=\\"hljs-keyword\\">delete</span> require.cache[file]\\n      <span class=\\"hljs-keyword\\">return</span> require(file)\\n    default:\\n      <span class=\\"hljs-keyword\\">return</span> content\\n  }\\n}\\n</code></pre>\\n<p>JSON\u6587\u4ef6\u548cTXT\u6587\u4ef6\u90fd\u662f\u6bcf\u6b21\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\uff0c\u81ea\u7136\u662f\u6700\u65b0\u7684\u3002\u800cJS\u6587\u4ef6\u5219\u5148\u6e05\u7f13\u5b58\u518d\u91cd\u65b0require.</p>\\n<h3 id=\\"requirecache\\">require.cache</h3>\\n<p>\u5047\u5982\u6211\u4eec\u6709\u4e00\u4e2ajs\u6587\u4ef6,  \u88ab\u5f15\u7528\u4e86\u4e24\u6b21\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// hello.js</span>\\nconsole.log(<span class=\\"hljs-string\\">\'Hello World!\'</span>)\\n\\n<span class=\\"hljs-comment\\">// index.js</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-title\\">require</span><span class=\\"hljs-params\\">(<span class=\\"hljs-string\\">\'./hello\'</span>)</span></span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-title\\">require</span><span class=\\"hljs-params\\">(<span class=\\"hljs-string\\">\'./hello\'</span>)</span></span></code></pre>\\n<p>\u6267\u884c\u4e00\u4e0bindex:</p>\\n<pre><code class=\\"language-javascript\\">\u279c  test <span class=\\"hljs-keyword\\">node</span> <span class=\\"hljs-title\\">index</span>.js\\nHello World!\\n\u279c  test</code></pre>\\n<p>\u53ef\u4ee5\u770b\u5230console.log\u53ea\u6267\u884c\u4e86\u4e00\u6b21\u3002\u7b2c\u4e00\u6b21require\u7684\u65f6\u5019\uff0cnode\u4f1a\u6267\u884c\u6a21\u5757\u7684\u4ee3\u7801\uff0c\u7136\u540e\u7f13\u5b58\u8d77\u6765\uff0c\u7b2c\u4e8c\u6b21require\u7684\u65f6\u5019\u5c31\u4f1a\u4ece\u7f13\u5b58\u4e2d\u62ff\u3002\u800c\u8fd9\u4e2a\u7f13\u5b58\u5c31\u662frequire.cache:</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// index.js</span>\\nconsole.<span class=\\"hljs-keyword\\">log</span>(<span class=\\"hljs-keyword\\">require</span>.<span class=\\"hljs-keyword\\">cache</span>)\\n<span class=\\"hljs-keyword\\">require</span>(<span class=\\"hljs-string\\">\'./hello\'</span>)\\nconsole.<span class=\\"hljs-keyword\\">log</span>(<span class=\\"hljs-keyword\\">require</span>.<span class=\\"hljs-keyword\\">cache</span>)\\n<span class=\\"hljs-keyword\\">require</span>(<span class=\\"hljs-string\\">\'./hello\'</span>)\\n\\n\u279c  test node index.js\\n{ <span class=\\"hljs-string\\">\'/Users/zhangruiwu/Desktop/test/index.js\'</span>:\\n   Module {\\n     id: <span class=\\"hljs-string\\">\'.\'</span>,\\n     exports: {},\\n     <span class=\\"hljs-keyword\\">parent</span>: <span class=\\"hljs-built_in\\">null</span>,\\n     filename: <span class=\\"hljs-string\\">\'/Users/zhangruiwu/Desktop/test/index.js\'</span>,\\n     loaded: <span class=\\"hljs-literal\\">false</span>,\\n     children: <span class=\\"hljs-meta\\">[</span><span class=\\"hljs-meta\\">]</span>,\\n     paths:\\n      <span class=\\"hljs-meta\\">[</span> <span class=\\"hljs-string\\">\'/Users/zhangruiwu/Desktop/test/node_modules\'</span>,\\n        <span class=\\"hljs-string\\">\'/Users/zhangruiwu/Desktop/node_modules\'</span>,\\n        <span class=\\"hljs-string\\">\'/Users/zhangruiwu/node_modules\'</span>,\\n        <span class=\\"hljs-string\\">\'/Users/node_modules\'</span>,\\n        <span class=\\"hljs-string\\">\'/node_modules\'</span> <span class=\\"hljs-meta\\">]</span> } }\\nHello World!\\n{ \'/Users/zhangruiwu/Desktop/test/index.js\':\\n   Module { ... },\\n  \'/Users/zhangruiwu/Desktop/test/hello.js\':\\n   Module { ... }\\n}\\n\u279c  test</code></pre>\\n<p>\u53ef\u4ee5\u770b\u5230\u4e00\u5f00\u59cb\uff0crequire.cache\u53ea\u6709<code>index.js</code>\u672c\u8eab\uff0c\u7b2c\u4e00\u6b21require\u540e\u5c31\u6709\u4e86hello.js\u3002\\n\u7f13\u5b58\u7684\u662fModule\u5bf9\u8c61\uff0c\u5176\u4e2dexports\u662f\u6a21\u5757\u8f93\u51fa\u7684\u5185\u5bb9\u3002\u7b2c\u4e8c\u6b21require\u7684\u65f6\u5019\u5148\u53bb\u7f13\u5b58\u4e2d\u770b\u4e00\u4e0b\uff0c\u5982\u679c\u6709\u7684\u8bdd\u53d6\u7f13\u5b58\uff0c\u6ca1\u6709\u7684\u8bdd\u6267\u884c\u6a21\u5757\u4ee3\u7801\u3002\u6240\u4ee5\u6211\u4eec\u9700\u8981\u6e05\u7a7a\u4e00\u4e0b\u7f13\u5b58\u624d\u4f1a\u91cd\u65b0\u6267\u884c\u65b0\u7684\u6a21\u5757\u4ee3\u7801\u3002</p>\\n<h3 id=\\"\u62c6\u5206js\u6587\u4ef6\\">\u62c6\u5206js\u6587\u4ef6</h3>\\n<p>\u6709\u65f6\u5019\u4e3a\u4e86\u65b9\u4fbf\u7ef4\u62a4\uff0c\u4f1a\u8fd9\u4e48\u914d\u7f6emock\u6570\u636e</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// config.js</span>\\n<span class=\\"hljs-string\\">\'GET XXXX\'</span>: <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'xxx.js\'</span>)\\n\\n<span class=\\"hljs-comment\\">// xxx.js</span>\\n<span class=\\"hljs-built_in\\">module</span>.exports = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">req, res</span>) </span>{ ... }</code></pre>\\n<p>\u8fd9\u6837\u914d\u7f6e\u672c\u8d28\u4e0a\u662f\u4e4b\u524d\u8bf4\u7684\u51fd\u6570\u7684\u65b9\u6cd5\uff0c\u53ea\u662f\u505a\u4e86\u4e0b\u4ee3\u7801\u62c6\u5206\u3002\u4f46\u662f\u4fee\u6539<code>xxx.js</code>\u6587\u4ef6\u540e\u5c31\u4e0d\u4f1a\u8fdb\u884c\u70ed\u66f4\u65b0\u4e86\u3002\u800c\u4e14\u968f\u7740\u9879\u76ee\u8d8a\u6765\u8d8a\u591a\uff0c<code>config.js</code>\u4e5f\u53ef\u80fd\u8d8a\u6765\u8d8a\u5927\uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u6309\u6a21\u5757\u62c6\u5206\u51fa\u6765\u7684js\u4e5f\u4e0d\u4f1a\u8fdb\u884c\u70ed\u66f4\u65b0\u3002</p>\\n<p>\u4e3a\u4e86\u5904\u7406\u8fd9\u79cd\u60c5\u51b5\uff0c\u6211\u4eec \u9700\u8981\u8fdb\u4e00\u6b65\u83b7\u53d6\u914d\u7f6e\u6587\u4ef6\u5f15\u7528\u4e86\u54ea\u4e9bjs\u6587\u4ef6\uff0c\u76d1\u542c\u4ed6\u4eec\u7684\u6539\u52a8\uff0c\u66f4\u65b0\u914d\u7f6e\u3002</p>\\n<h4 id=\\"\u83b7\u53d6\u914d\u7f6e\u6587\u4ef6\u5f15\u7528\u4e86\u54ea\u4e9bjs\u6587\u4ef6\\">\u83b7\u53d6\u914d\u7f6e\u6587\u4ef6\u5f15\u7528\u4e86\u54ea\u4e9bjs\u6587\u4ef6</h4>\\n<p>\u9996\u5148\uff0c\u5982\u4f55\u83b7\u53d6\u914d\u7f6e\u6587\u4ef6\u5f15\u7528\u4e86\u54ea\u4e9bjs\u6587\u4ef6\uff1f\u89c2\u5bdf\u4e0a\u9762\u8f93\u51fa\u7684Module\u5bf9\u8c61\uff0c\u53d1\u73b0\u6709\u4e2achildren\u5bf9\uff0cget:</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">const</span> watchFiles = []\\n\\n<span class=\\"hljs-keyword\\">if</span> (options.confFile) {\\n  watchFiles.push(options.confFile)\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">collectChildren</span> <span class=\\"hljs-params\\">(parent)</span> </span>{\\n    <span class=\\"hljs-keyword\\">if</span> (<span class=\\"hljs-keyword\\">parent</span>.length === <span class=\\"hljs-number\\">0</span>) <span class=\\"hljs-keyword\\">return</span>\\n    <span class=\\"hljs-keyword\\">parent</span>.children.<span class=\\"hljs-keyword\\">forEach</span>(children =&gt; {\\n      <span class=\\"hljs-comment\\">// \u8fc7\u6ee4\u6389\u7b2c\u4e09\u65b9\u4f9d\u8d56</span>\\n      <span class=\\"hljs-keyword\\">if</span> (children.filename.includes(<span class=\\"hljs-string\\">\'node_modules\'</span>)) <span class=\\"hljs-keyword\\">return</span>\\n      watchFiles.push(children.filename)\\n      collectChildren(children)\\n    })\\n  }\\n  collectChildren(<span class=\\"hljs-keyword\\">require</span>.cache[options.confFile])\\n}</code></pre>\\n<p>\u8fd9\u662f\u5bf9\u4e8e\u6709\u914d\u7f6e\u6587\u4ef6\u7684\u60c5\u51b5\uff0c\u5982\u679c\u914d\u7f6e\u76f4\u63a5\u4f20JSON\u6570\u636e\u7684\u8bdd\u5c31\u4e0d\u80fd\u7528\u8fd9\u79cd\u65b9\u6cd5\u4e86\u3002\u6240\u4ee5\u589e\u52a0\u4e86\u4e00\u4e2a\u914d\u7f6e\u9879<code>watchs</code>, \u6700\u7ec8\u5904\u7406\u65b9\u6848\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">let</span> watchFiles = []\\n\\n<span class=\\"hljs-keyword\\">if</span> (options.confFile) {\\n  watchFiles.push(options.confFile)\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">collectChildren</span> <span class=\\"hljs-params\\">(parent)</span> </span>{\\n    <span class=\\"hljs-keyword\\">if</span> (<span class=\\"hljs-keyword\\">parent</span>.length === <span class=\\"hljs-number\\">0</span>) <span class=\\"hljs-keyword\\">return</span>\\n    <span class=\\"hljs-keyword\\">parent</span>.children.<span class=\\"hljs-keyword\\">forEach</span>(children =&gt; {\\n      <span class=\\"hljs-keyword\\">if</span> (children.filename.includes(<span class=\\"hljs-string\\">\'node_modules\'</span>)) <span class=\\"hljs-keyword\\">return</span>\\n      watchFiles.push(children.filename)\\n      collectChildren(children)\\n    })\\n  }\\n  collectChildren(<span class=\\"hljs-keyword\\">require</span>.cache[options.confFile])\\n}\\n\\n<span class=\\"hljs-keyword\\">if</span> (options.watchs) {\\n  options.watchs.<span class=\\"hljs-keyword\\">forEach</span>(filepath =&gt; {\\n    <span class=\\"hljs-keyword\\">if</span> (fs.statSync(filepath).isDirectory()) {\\n      watchFiles.push(...utils.files(filepath))\\n    } <span class=\\"hljs-keyword\\">else</span> {\\n      watchFiles.push(filepath)\\n    }\\n  })\\n}\\n\\nwatchFiles = [...<span class=\\"hljs-keyword\\">new</span> Set(watchFiles)]</code></pre>\\n<h4 id=\\"\u76d1\u542c\u5e76\u66f4\u65b0\u914d\u7f6e\\">\u76d1\u542c\u5e76\u66f4\u65b0\u914d\u7f6e</h4>\\n<p>\u83b7\u53d6\u4e86\u9700\u8981\u76d1\u542c\u7684\u6587\u4ef6\u4e4b\u540e\uff0c\u5c31\u8981\u5f00\u59cb\u76d1\u542c\u6539\u52a8\u4e86\uff0c\u4e00\u5f00\u59cb\u6211\u662f\u8fd9\u4e48\u5904\u7406\u7684\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// \u76d1\u542cmock\u914d\u7f6e\u6587\u4ef6\u6539\u52a8\uff0c\u70ed\u66f4\u65b0API\u914d\u7f6e</span>\\nwatchFiles.length &gt; <span class=\\"hljs-number\\">0</span> &amp;&amp; utils.watch(watchFiles, (<span class=\\"hljs-keyword\\">file</span>) =&gt; {\\n  <span class=\\"hljs-built-in\\">log</span>.warning(`<span class=\\"hljs-symbol\\">$</span>{<span class=\\"hljs-keyword\\">file</span>} changed!`)\\n  delete require.cache[<span class=\\"hljs-keyword\\">file</span>]\\n  handleConfig(<span class=\\"hljs-keyword\\">options</span>)\\n})</code></pre>\\n<p>\u8c01\u6539\u52a8\u4e86\u6e05\u8c01\u7684\u7f13\u5b58\uff0c\u770b\u7740\u6ca1\u6bdb\u75c5\uff0c\u53ef\u662f\u5b9e\u9645\u6267\u884c\u8d77\u6765\u53d1\u73b0\u5e76\u6ca1\u6709\u5b9e\u73b0\u70ed\u66f4\u65b0\u7684\u6548\u679c\u3002\u4e3a\u5565\u5462\uff1f\u60f3\u4e86\u4e00\u4e0b\uff0c\u867d\u7136\u6e05\u4e86\u6539\u52a8\u6587\u4ef6\u7684\u7f13\u5b58\uff0c\u4f46\u662f\u5165\u53e3\u7684\u914d\u7f6e\u6587\u4ef6\u7684\u7f13\u5b58\u5e76\u6ca1\u6709\u6e05\uff0c\u6267\u884chandleConfig\u65f6\uff0c\u91cc\u9762require\u4e86\u914d\u7f6e\u6587\u4ef6\uff0c\u8fd8\u662f\u8d70\u7684\u7f13\u5b58\u3002\u6240\u4ee5\u6539\u52a8\u6587\u4ef6\u7684\u7236\u6587\u4ef6\u90fd\u8981\u6e05\u4e00\u4e0b\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// \u76d1\u542cmock\u914d\u7f6e\u6587\u4ef6\u6539\u52a8\uff0c\u70ed\u66f4\u65b0API\u914d\u7f6e</span>\\nwatchFiles.length &gt; <span class=\\"hljs-number\\">0</span> &amp;&amp; utils.watch(watchFiles, (file) =&gt; {\\n  log.warning(<span class=\\"hljs-string\\">`<span class=\\"hljs-subst\\">${file}</span> changed!`</span>)\\n  <span class=\\"hljs-keyword\\">let</span> <span class=\\"hljs-built_in\\">module</span> = <span class=\\"hljs-built_in\\">require</span>.cache[file]\\n  <span class=\\"hljs-keyword\\">if</span> (options.confFile) {\\n    <span class=\\"hljs-keyword\\">while</span> (<span class=\\"hljs-built_in\\">module</span>.filename !== options.confFile) {\\n      <span class=\\"hljs-keyword\\">delete</span> <span class=\\"hljs-built_in\\">require</span>.cache[<span class=\\"hljs-built_in\\">module</span>.filename]\\n      <span class=\\"hljs-built_in\\">module</span> = <span class=\\"hljs-built_in\\">module</span>.parent\\n    }\\n  }\\n  <span class=\\"hljs-keyword\\">delete</span> <span class=\\"hljs-built_in\\">require</span>.cache[<span class=\\"hljs-built_in\\">module</span>.filename]\\n  handleConfig(options)\\n})</code></pre>\\n<p>OK, MockServer\u7684\u70ed\u66f4\u65b0\u673a\u5236\u5c31\u66f4\u52a0\u5b8c\u5584\u4e86\uff01</p>\\n<p>npm\u5730\u5740\uff1a<a href=\\"https://www.npmjs.com/package/cf-mock-server\\">https://www.npmjs.com/package/cf-mock-server</a></p>\\n","title":"MockServer\u4e2d\u7684\u70ed\u66f4\u65b0","tags":["node"],"slug":"hot-update-in-mockserver","createDate":1585220447984,"id":"hot-update-in-mockserver","thumb":"https://images.unsplash.com/photo-1586626381781-a0885cf82fec?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"content":"<p>\u65e0\u540d\u5c0f\u8f88</p>\\n","title":"About Me","tags":[],"slug":"about-me","createDate":1583208169205,"id":"about-me","thumb":"https://images.unsplash.com/photo-1581838998255-531eb68a5055?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>Node.js\u662f\u80fd\u591f\u5728\u670d\u52a1\u5668\u7aef\u8fd0\u884cJavaScript\u7684\u5f00\u653e\u6e90\u4ee3\u7801\u3001\u8de8\u5e73\u53f0JavaScript\u8fd0\u884c\u73af\u5883\u3002\u5b83\u8ba9JS\u8131\u79bb\u4e86\u6d4f\u89c8\u5668\u7684\u9650\u5236\uff0c\u5728\u66f4\u591a\u7684\u5e73\u53f0\u4e0a\u8fd0\u884c\u3002\u8fd1\u51e0\u5e74\u662f\u8d8a\u6765\u8d8a\u706b\u3002\u8ba9\u5b83\u8fd9\u4e48\u706b\u7684\u539f\u56e0\u6709\u54ea\u4e9b\u5462\uff1f</p>\\n<ul>\\n<li>\u57fa\u4e8eC++\u7684Chrome V8\u5f15\u64ce\u8ba9\u5b83\u901f\u5ea6\u975e\u5e38\u5feb</li>\\n<li>\u4e8b\u4ef6\u5faa\u73af\u4e0e\u5f02\u6b65I/0\u8ba9\u5b83\u53ef\u4ee5\u8f7b\u677e\u5904\u7406\u9ad8\u5e76\u53d1</li>\\n<li>\u7edf\u4e00\u6280\u672f\u6808</li>\\n<li>\u670d\u52a1\u7aef\u6e32\u67d3\uff08\u540c\u6784Web\u5e94\u7528\uff09</li>\\n<li>...</li>\\n</ul>\\n<p>\u672c\u6587\u4e3b\u8981\u5c31\u7b2c\u4e8c\u70b9\u8c08\u8c08\uff0c\u4ec0\u4e48\u662f\u4e8b\u4ef6\u5faa\u73af\u4e0e\u5f02\u6b65I/O\uff0c\u4ee5\u53ca\u4ed6\u4eec\u662f\u600e\u6837\u5904\u7406\u9ad8\u5e76\u53d1\u7684\u3002</p>\\n","content":"<p>Node.js\u662f\u80fd\u591f\u5728\u670d\u52a1\u5668\u7aef\u8fd0\u884cJavaScript\u7684\u5f00\u653e\u6e90\u4ee3\u7801\u3001\u8de8\u5e73\u53f0JavaScript\u8fd0\u884c\u73af\u5883\u3002\u5b83\u8ba9JS\u8131\u79bb\u4e86\u6d4f\u89c8\u5668\u7684\u9650\u5236\uff0c\u5728\u66f4\u591a\u7684\u5e73\u53f0\u4e0a\u8fd0\u884c\u3002\u8fd1\u51e0\u5e74\u662f\u8d8a\u6765\u8d8a\u706b\u3002\u8ba9\u5b83\u8fd9\u4e48\u706b\u7684\u539f\u56e0\u6709\u54ea\u4e9b\u5462\uff1f</p>\\n<ul>\\n<li>\u57fa\u4e8eC++\u7684Chrome V8\u5f15\u64ce\u8ba9\u5b83\u901f\u5ea6\u975e\u5e38\u5feb</li>\\n<li>\u4e8b\u4ef6\u5faa\u73af\u4e0e\u5f02\u6b65I/0\u8ba9\u5b83\u53ef\u4ee5\u8f7b\u677e\u5904\u7406\u9ad8\u5e76\u53d1</li>\\n<li>\u7edf\u4e00\u6280\u672f\u6808</li>\\n<li>\u670d\u52a1\u7aef\u6e32\u67d3\uff08\u540c\u6784Web\u5e94\u7528\uff09</li>\\n<li>...</li>\\n</ul>\\n<p>\u672c\u6587\u4e3b\u8981\u5c31\u7b2c\u4e8c\u70b9\u8c08\u8c08\uff0c\u4ec0\u4e48\u662f\u4e8b\u4ef6\u5faa\u73af\u4e0e\u5f02\u6b65I/O\uff0c\u4ee5\u53ca\u4ed6\u4eec\u662f\u600e\u6837\u5904\u7406\u9ad8\u5e76\u53d1\u7684\u3002</p>\\n<h2 id=\\"\u4ec0\u4e48\u662f\u5f02\u6b65\\">\u4ec0\u4e48\u662f\u5f02\u6b65</h2>\\n<p>\u8ba1\u7b97\u673a\u9886\u57df\u4e2d\u7684\u540c\u6b65\u548c\u5f02\u6b65\u7684\u6982\u5ff5\u548c\u6211\u4eec\u5e73\u65f6\u751f\u6d3b\u4e2d\u7684\u540c\u6b65\u548c\u5f02\u6b65\u662f\u4e0d\u4e00\u6837\u7684\uff1a</p>\\n<pre><code>\u540c\u6b65\u5c31\u662f\u6574\u4e2a\u5904\u7406\u8fc7\u7a0b\u987a\u5e8f\u6267\u884c\uff0c\u5f53\u5404\u4e2a\u8fc7\u7a0b\u90fd\u6267\u884c\u5b8c\u6bd5\uff0c\u5e76\u8fd4\u56de\u7ed3\u679c\u3002\u662f\u4e00\u79cd\u7ebf\u6027\u6267\u884c\u7684\u65b9\u5f0f\uff0c\u6267\u884c\u7684\u6d41\u7a0b\u4e0d\u80fd\u8de8\u8d8a\u3002\\n\\n\u5f02\u6b65\u5219\u662f\u53ea\u662f\u53d1\u9001\u4e86\u8c03\u7528\u7684\u6307\u4ee4\uff0c\u8c03\u7528\u8005\u65e0\u9700\u7b49\u5f85\u88ab\u8c03\u7528\u7684\u65b9\u6cd5\u5b8c\u5168\u6267\u884c\u5b8c\u6bd5\uff1b\u800c\u662f\u7ee7\u7eed\u6267\u884c\u4e0b\u9762\u7684\u6d41\u7a0b\u3002\u662f\u4e00\u79cd\u5e76\u884c\u5904\u7406\u7684\u65b9\u5f0f\uff0c\u4e0d\u5fc5\u7b49\u5f85\u4e00\u4e2a\u7a0b\u5e8f\u6267\u884c\u5b8c\uff0c\u53ef\u4ee5\u6267\u884c\u5176\u5b83\u7684\u4efb\u52a1</code></pre><p>\u6211\u4eec\u7ecf\u5e38\u542c\u5230\u7684Ajax\u8bf7\u6c42\u7684A\u5c31\u662f\u5f02\u6b65(Asynchronous)\u7684\u610f\u601d\u3002\u6d4f\u89c8\u5668\u4e2dJavaScript\u5728\u5355\u7ebf\u7a0b\u4e0a\u6267\u884c\uff0c\u800c\u4e14\u4e0eUI\u6e32\u67d3\u5171\u7528\u4e00\u4e2a\u7ebf\u7a0b\u3002\u8fd9\u610f\u5473\u7740\u5728js\u6267\u884c\u7684\u65f6\u5019\uff0cUI\u6e32\u67d3\u548c\u54cd\u5e94\u662f\u5904\u4e8e\u505c\u6ede\u72b6\u6001\u7684\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u7528js\u8fdb\u884c\u5927\u91cf\u8ba1\u7b97\u65f6\u9875\u9762\u4f1a\u5361\u4e3b\u3002</p>\\n<p>\u5982\u679c\u524d\u7aef\u53d1\u8bf7\u6c42\u662f\u901a\u8fc7\u540c\u6b65\u7684\u65b9\u5f0f\uff0c\u90a3\u4e48js\u9700\u8981\u7b49\u5230\u540e\u7aef\u8fd4\u56de\u6570\u636e\u540e\u624d\u80fd\u7ee7\u7eed\u6267\u884c\u3002\u8fd9\u671f\u95f4UI\u5c06\u505c\u987f\uff0c\u65e0\u6cd5\u54cd\u5e94\u7528\u6237\u7684\u4ea4\u4e92\u884c\u4e3a\u3002\u4f46\u662f\u901a\u8fc7\u53d1\u9001\u5f02\u6b65\u8bf7\u6c42\uff0cjs\u548cUI\u6e32\u67d3\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\uff0c\u7b49\u6536\u5230\u54cd\u5e94\u7684\u6570\u636e\u6267\u884c\u56de\u8c03\u5373\u53ef\u3002\u7528\u6237\u4f53\u9a8c\u66f4\u4f73\u3002</p>\\n<h2 id=\\"\u4ec0\u4e48\u662fio\\">\u4ec0\u4e48\u662fI/O</h2>\\n<p>I/O\u5728\u8ba1\u7b97\u673a\u4e2d\u6307Input/Output\uff0c\u4e5f\u5c31\u662f\u8f93\u5165\u548c\u8f93\u51fa\u3002\u6bd4\u5982\u78c1\u76d8I/O\uff0c\u7f51\u7edcI/O\u7b49\u8fdb\u884c\u6570\u636e\u4ea4\u6362\u7684\u64cd\u4f5c\u3002</p>\\n<h3 id=\\"\u4ec0\u4e48\u662f\u5f02\u6b65io\\">\u4ec0\u4e48\u662f\u5f02\u6b65I/O</h3>\\n<p>\u8ba1\u7b97\u673a\u5728\u53d1\u5c55\u8fc7\u7a0b\u4e2d\u5c06\u7ec4\u4ef6\u8fdb\u884c\u4e86\u62bd\u8c61\uff0c\u5206\u4e3aI/O\u8bbe\u5907\u548c\u8ba1\u7b97\u8bbe\u5907\u3002\u901a\u5e38CPU\u4e0eI/O\u662f\u53ef\u4ee5\u5e76\u884c\u7684\u3002\u5047\u5982\u6709\u4e00\u4e0b\u4ee3\u7801\uff1a</p>\\n<pre><code><span class=\\"hljs-keyword\\">var</span> result = <span class=\\"hljs-keyword\\">db</span>.<span class=\\"hljs-keyword\\">query</span>(<span class=\\"hljs-string\\">\\"select * from T\\"</span>);\\n<span class=\\"hljs-comment\\">// use result</span></code></pre><p>\u601d\u8003\u4e00\u4e0b\u6267\u884c\u8fd9\u884cSQL\u7684\u65f6\u5019\uff0c\u5176\u5b9e\u662f\u8c03\u7528\u4e86I/O\u64cd\u4f5c\uff0c\u90a3\u4e48\u5728\u6570\u636e\u8fd4\u56de\u4e4b\u524d\uff0cCPU\u5728\u5e72\u561b\uff1f\u662f\u4e0d\u662f\u7a7a\u95f2\u4e86\u3002</p>\\n<p>\u5047\u5982\u5904\u7406\u4e00\u4e2a\u8bf7\u6c42\u9700\u8981\u6765\u81ea\u67e5\u8be2\u4e24\u4efd\u6570\u636e\uff0c\u7b2c\u4e00\u4e2a\u8017\u65f6M\uff0c\u7b2c\u4e8c\u4e2a\u8017\u65f6N\uff0c\u91c7\u7528\u540c\u6b65\u7684\u65b9\u5f0f\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p>\\n<pre><code><span class=\\"hljs-comment\\">// \u6d88\u8d39\u65f6\u95f4\u4e3aM</span>\\n<span class=\\"hljs-selector-tag\\">getData</span>(<span class=\\"hljs-string\\">\'from_db\'</span>);\\n<span class=\\"hljs-comment\\">// \u6d88\u8d39\u65f6\u95f4\u4e3aN</span>\\n<span class=\\"hljs-selector-tag\\">getData</span>(<span class=\\"hljs-string\\">\'from_remote_api\'</span>);</code></pre><p>\u7b2c\u4e00\u4e2a\u8d44\u6e90\u83b7\u53d6\u540e\u624d\u4f1a\u83b7\u53d6\u7b2c\u4e8c\u4e2a\u8d44\u6e90\uff0c\u603b\u8017\u65f6 M+N\u3002\u4f46\u662f\u5982\u679c\u91c7\u7528\u5f02\u6b65\u7684\u65b9\u5f0f\uff1a</p>\\n<pre><code>getData(<span class=\\"hljs-string\\">\'from_db\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">(result)</span> </span>{\\n<span class=\\"hljs-comment\\">// \u6d88\u8d39\u65f6\u95f4\u4e3aM</span>\\n});\\n\\ngetData(<span class=\\"hljs-string\\">\'from_remote_api\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">(result)</span> </span>{\\n<span class=\\"hljs-comment\\">// \u6d88\u8d39\u65f6\u95f4\u4e3aN</span>\\n});</code></pre><p>\u7b2c\u4e00\u4e2a\u8d44\u6e90\u5e76\u4e0d\u4f1a\u963b\u585e\u7b2c\u4e8c\u4e2a\u8d44\u6e90\u7684\u83b7\u53d6\uff0c\u603b\u8017\u65f6max(M, N)\u3002\u968f\u7740\u5e94\u7528\u8d8a\u6765\u8d8a\u590d\u6742\uff0c\u540c\u6b65\u548c\u5f02\u6b65\u7684\u4f18\u52a3\u4f1a\u8d8a\u6765\u8d8a\u660e\u663e\u3002</p>\\n<p>I/O\u662f\u6602\u8d35\u7684\uff0c<strong>\u5f02\u6b65I/O\u80fd\u66f4\u5feb\u7684\u54cd\u5e94\u8d44\u6e90</strong>\u3002</p>\\n<p><img src=\\"https://xiao555.netlify.com/28b0c513315b4c13a96a46f7ac7bac6b_image.png\\" alt=\\"28b0c513315b4c13a96a46f7ac7bac6b_image.png\\"></p>\\n<p>\u5b98\u65b9\u6709\u4e2a\u5c0f\u4f8b\u5b50\u4e5f\u4f53\u73b0\u4e86\u5f02\u6b65\u7684\u9ad8\u6548\uff1a<a href=\\"https://nodejs.org/en/docs/guides/simple-profiling/\\">https://nodejs.org/en/docs/guides/simple-profiling/</a></p>\\n<p>\u5728\u767b\u5f55\u6ce8\u518c\u7684\u903b\u8f91\u4e2d\uff0c\u6211\u4eec\u7ecf\u5e38\u4f1a\u7528\u5230\u52a0\u5bc6\u7b97\u6cd5\uff0c\u8fd9\u79cd\u590d\u6742\u8ba1\u7b97\u662f\u5f88\u8017CPU\u7684\u3002\u4e0a\u9762\u7684\u6587\u7ae0\u63d0\u5230\u4f7f\u7528\u540c\u6b65\u4ee3\u7801\u8fdb\u884c\u52a0\u5bc6\u8ba1\u7b97\u65f6\uff0c\u6bcf\u79d2\u5904\u7406\u7684\u8bf7\u6c42\u6570\u662f5\uff0c\u800c\u6539\u6210\u4e86\u5f02\u6b65\u4ee3\u7801\u8fdb\u884c\u52a0\u5bc6\u8ba1\u7b97\u65f6\uff0c\u6bcf\u79d2\u5904\u7406\u7684\u8bf7\u6c42\u6570\u53d8\u6210\u56db\u820d\u4e94\u5165\u5c31\u662f20\uff0c\u63d0\u5347\u4e864\u500d\u7684\u6027\u80fd\u3002</p>\\n<h2 id=\\"\u5f02\u6b65io\u7684\u5b9e\u73b0\\">\u5f02\u6b65I/O\u7684\u5b9e\u73b0</h2>\\n<p>\u5f02\u6b65I/O\u5e76\u975eNode\u539f\u521b\u3002\u4e0b\u9762\u6211\u4eec\u770b\u4e00\u4e0b\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u5f02\u6b65I/O\u7684\u652f\u6301\u60c5\u51b5\u3002</p>\\n<h3 id=\\"\u963b\u585e\u4e0e\u975e\u963b\u585e\\">\u963b\u585e\u4e0e\u975e\u963b\u585e</h3>\\n<p>\u5728\u8ba8\u8bba\u540c\u6b65/\u5f02\u6b65\u65f6\uff0c\u6211\u4eec\u4e5f\u5c1d\u5c1d\u542c\u5230\u963b\u585e\u548c\u975e\u963b\u585e\uff0c\u4ece\u6548\u679c\u4e0a\u8bb2\u5f02\u6b65\u548c\u975e\u963b\u585e\u597d\u50cf\u662f\u4e00\u56de\u4e8b\u3002\u4f46\u662f\u5bf9\u4e8e\u8ba1\u7b97\u673a\u5185\u6838\u6765\u8bf4\uff0c\u5b83\u4eec\u662f\u4e24\u56de\u4e8b\u3002\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u5bf9\u4e8eI/O\u53ea\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a\u963b\u585e\u4e0e\u975e\u963b\u585e\u3002</p>\\n<p>\u963b\u585eI/O\u662f\u8c03\u7528\u4e4b\u540e\u4e00\u5b9a\u8981\u7b49\u5230\u6570\u636e\u8fd4\u56de\uff0c\u8fd9\u4e2a\u8c03\u7528\u624d\u7ed3\u675f\u3002</p>\\n<p><img src=\\"https://xiao555.netlify.com/4d19e938b5644a81924735fca57a4723_image.png\\" alt=\\"4d19e938b5644a81924735fca57a4723_image.png\\"></p>\\n<p>\u963b\u585eI/O\u9020\u6210CPU\u7b49\u5f85I/O, \u6d6a\u8d39\u7b49\u5f85\u65f6\u95f4\uff0cCPU\u7684\u5904\u7406\u80fd\u529b\u4e0d\u80fd\u5f97\u5230\u5145\u5206\u5229\u7528\u3002\u4e3a\u4e86\u63d0\u9ad8\u6027\u80fd\uff0c\u5185\u6838\u63d0\u4f9b\u4e86\u975e\u963b\u585eI/O\u3002</p>\\n<p><img src=\\"https://xiao555.netlify.com/803ca124254e42198715f684acc85f1e_image.png\\" alt=\\"803ca124254e42198715f684acc85f1e_image.png\\"></p>\\n<p>\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u8ba1\u7b97\u673a\u8fdb\u884c\u4e86\u62bd\u8c61\uff0c\u5c06\u6240\u6709\u8f93\u5165\u8f93\u51fa\u8bbe\u5907\u62bd\u8c61\u4e3a\u6587\u4ef6\u3002\u5185\u6838\u5728\u8fdb\u884c\u6587\u4ef6I/O\u64cd\u4f5c\u65f6\uff0c\u901a\u8fc7\u6587\u4ef6\u63cf\u8ff0\u7b26(fd)\u8fdb\u884c\u7ba1\u7406\u3002\u8fdb\u884cI/O\u8c03\u7528\u65f6\uff0c\u5148\u6253\u5f00\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u518d\u6839\u636e\u6587\u4ef6\u63cf\u8ff0\u7b26\u53bb\u5b9e\u73b0\u6587\u4ef6\u7684\u6570\u636e\u8bfb\u5199\u3002</p>\\n<p>\u975e\u963b\u585eI/O\u5728\u8c03\u7528\u540e\u4e0d\u5e26\u6570\u636e\u7acb\u5373\u8fd4\u56de\uff0cCPU\u53ef\u4ee5\u7ee7\u7eed\u5904\u7406\u5176\u4ed6\u4e8b\u52a1\uff0c\u63d0\u5347\u4e86\u6027\u80fd\u3002\u4f46\u5e26\u6765\u7684\u95ee\u9898\u662f\uff0c\u6211\u4eec\u5e76\u4e0d\u77e5\u9053I/O\u662f\u5426\u5b8c\u6210\u3002\u4e3a\u4e86\u83b7\u53d6\u5b8c\u6574\u7684\u6570\u636e\uff0c\u7a0b\u5e8f\u9700\u8981\u91cd\u590d\u8c03\u7528I/O\u6765\u786e\u8ba4\uff0c\u5373<strong>\u8f6e\u8be2</strong>\u3002</p>\\n<p>\u73b0\u6709\u7684\u8f6e\u8be2\u6280\u672f\u4e3b\u8981\u6709\uff1aread, select, poll\u548cepoll\u3002</p>\\n<p>read\u662f\u6700\u539f\u59cb\uff0c\u6027\u80fd\u6700\u4f4e\u7684\u4e00\u79cd\uff0c\u901a\u8fc7\u91cd\u590d\u8c03\u7528\u6765\u68c0\u67e5I/O\u72b6\u6001\u83b7\u53d6\u5b8c\u6574\u7684\u6570\u636e\u3002\u5728\u5f97\u5230\u6570\u636e\u524d\uff0cCPU\u4e00\u76f4\u8017\u5728\u7b49\u5f85\u4e0a\u3002</p>\\n<p><img src=\\"https://xiao555.netlify.com/30ebef2fb9304bf2b07bf3680ab9e7b0_image.png\\" alt=\\"30ebef2fb9304bf2b07bf3680ab9e7b0_image.png\\"></p>\\n<p>select\u5728read\u57fa\u7840\u4e0a\u8fdb\u884c\u4e86\u6539\u8fdb\uff0c\u53ef\u4ee5\u540c\u65f6\u76d1\u542c\u591a\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u8fdb\u884c\u975e\u963b\u585e\u8c03\u7528\u540e\uff0c\u901a\u8fc7\u4e0d\u65ad\u904d\u5386\u6bcf\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u4e0a\u7684\u4e8b\u4ef6\u72b6\u6001\u6765\u5224\u65adI/O\u662f\u5426\u5b8c\u6210\uff0c\u5c5e\u4e8e\u591a\u8def\u590d\u7528I/O\u7684\u4e00\u79cd\u3002\u5b83\u7684\u9650\u5236\u662f\u72b6\u6001\u5b58\u50a8\u5728\u4e00\u4e2a1024\u957f\u5ea6\u7684\u6570\u7ec4\u4e2d\uff0c\u6240\u4ee5\u6700\u591a\u540c\u65f6\u68c0\u67e51024\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u3002</p>\\n<p><img src=\\"https://xiao555.netlify.com/e4f98fc94dc6422b944cd208e5c6c94f_image.png\\" alt=\\"e4f98fc94dc6422b944cd208e5c6c94f_image.png\\"></p>\\n<p>poll\u8ddfsellect\u7c7b\u4f3c\uff0c\u8fdb\u884c\u4e86\u4e00\u4e9b\u6539\u8fdb\uff0c\u91c7\u7528\u94fe\u8868\u7684\u65b9\u5f0f\u7a81\u7834\u6570\u7ec4\u7684\u957f\u5ea6\u9650\u5236\u3002\u4f46\u662fpoll\u548cselect\u90fd\u9700\u8981\u904d\u5386\uff0c\u5f53\u6587\u4ef6\u63cf\u8ff0\u7b26\u6bd4\u8f83\u591a\u7684\u65f6\u5019\uff0c\u6027\u80fd\u6bd4\u8f83\u4f4e\u3002</p>\\n<p>epoll\u662fLinux\u4e0b\u6548\u7387\u6700\u9ad8\u7684I/O\u4e8b\u4ef6\u901a\u77e5\u673a\u5236\uff0c\u5982\u679c\u6ca1\u6709\u68c0\u67e5\u5230I/O\u4e8b\u4ef6\uff0c\u4f1a\u8fdb\u884c\u4f11\u7720\uff0c\u76f4\u5230\u4e8b\u4ef6\u5c06\u5b83\u5524\u9192\u3002\u5229\u7528\u4e86\u4e8b\u4ef6\u901a\u77e5\uff0c\u6267\u884c\u56de\u8c03\u7684\u65b9\u5f0f\uff0c\u800c\u4e0d\u662f\u904d\u5386\u67e5\u8be2\uff0c\u4e0d\u4f1a\u6d6a\u8d39CPU\uff0c\u6267\u884c\u6548\u7387\u9ad8\u3002\u4f46\u662f\u5982\u679cI/O\u4e8b\u4ef6\u5e76\u4e0d\u591a\u7684\u60c5\u51b5\u4e0b\uff0cepoll\u5e76\u975e\u6027\u80fd\u6700\u9ad8\u7684\uff0c\u6bd5\u7adf\u5b9e\u73b0\u4e8b\u4ef6\u901a\u77e5\u673a\u5236\u4e5f\u4f1a\u6709\u4e00\u5b9a\u6d88\u8017\u3002</p>\\n<p><img src=\\"https://xiao555.netlify.com/eac966fd47684d69a005ff291ee1fb9f_image.png\\" alt=\\"eac966fd47684d69a005ff291ee1fb9f_image.png\\"></p>\\n<p>\u5982\u679c\u8981\u5f62\u8c61\u7684\u63cf\u8ff0\u4e00\u4e0b\u8fd9\u51e0\u4e2a\u8f6e\u8be2\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u516c\u53f8\u6709\u597d\u51e0\u4e2a\u9700\u6c42(I/O\u4e8b\u4ef6)\u9700\u8981\u5f00\u53d1\uff0c\u6bcf\u4e2a\u9700\u6c42\u5206\u914d\u4e86\u4e00\u4e2a\u4ea7\u54c1(\u7ebf\u7a0b)\uff0c\u6bcf\u4e2a\u9700\u6c42\u4ea4\u7ed9\u4e00\u4e2a\u5f00\u53d1\u53bb\u5b8c\u6210(\u8fdb\u884cI/O\u8c03\u7528)\uff0c\u6bcf\u4e2a\u4ea7\u54c1\u9700\u8981\u4e0d\u65ad\u7684\u53bb\u95ee\u5bf9\u5e94\u7684\u5f00\u53d1\u9700\u6c42(I/O\u8c03\u7528)\u662f\u5426\u5b8c\u6210\uff0c\u8fd9\u5c31\u662fread\u3002</p>\\n<p>\u540e\u6765\u516c\u53f8\u5f15\u5165\u4e86jira\u7edf\u4e00\u7ba1\u7406\u9700\u6c42\uff0c\u628a\u8fd9\u51e0\u4e2a\u9700\u6c42\u5728jira\u4e0a\u90fd\u4ea4\u7ed9\u4e00\u4e2a\u4ea7\u54c1(\u7ebf\u7a0b)\u53bb\u7ba1\u7406\uff0c\u6bcf\u4e2a\u9700\u6c42\u8fd8\u662f\u4ea4\u7ed9\u4e00\u4e2a\u5f00\u53d1\u53bb\u5b8c\u6210(\u8fdb\u884cI/O\u8c03\u7528)\uff0c\u4f46\u53ea\u9700\u8981\u8fd9\u4e2a\u4ea7\u54c1\u53bb\u4e0d\u65ad\u67e5\u770b\u6bcf\u4e2ajira\u7684\u72b6\u6001\u5373\u53ef(\u904d\u5386)\uff0c\u8fd9\u79cd\u5c31\u662fselect\u548cpoll\u7684\u65b9\u5f0f\u3002</p>\\n<p>\u518d\u540e\u6765\u516c\u53f8\u53c8\u542f\u7528\u4e86\u4f01\u4e1a\u5fae\u4fe1\uff0c\u5f00\u53d1\u5f00\u53d1\u5b8c\u540e\u76f4\u63a5\u5728\u4f01\u4e1a\u5fae\u4fe1\u4e0a\u901a\u77e5(\u4e8b\u4ef6\u901a\u77e5)\u4ea7\u54c1\u5f00\u53d1\u5b8c\u4e86\uff0c\u4e0d\u7528\u4ea7\u54c1\u4e00\u4e2a\u4e00\u4e2a\u53bb\u67e5\u770b\u72b6\u6001\u4e86\uff0c\u8fd9\u79cd\u5c31\u662fepoll\u7684\u65b9\u5f0f\u3002</p>\\n<h3 id=\\"\u5f02\u6b65io\u7684\u7406\u60f3\u4e0e\u73b0\u5b9e\\">\u5f02\u6b65I/O\u7684\u7406\u60f3\u4e0e\u73b0\u5b9e</h3>\\n<p>\u6211\u4eec\u671f\u671b\u7684\u5f02\u6b65I/O\u662f\u5e94\u7528\u7a0b\u5e8f\u53d1\u8d77I/O\u8c03\u7528\u540e\uff0c\u65e0\u987b\u901a\u8fc7\u904d\u5386\u6216\u8005\u4e8b\u4ef6\u901a\u77e5\u7b49\u65b9\u5f0f\u8f6e\u8be2\uff0c\u53ef\u4ee5\u76f4\u63a5\u5904\u7406\u540e\u7eed\u903b\u8f91\uff0c\u53ea\u9700\u8981\u5728I/O\u5b8c\u6210\u540e\u5c06\u6570\u636e\u8fd4\u56de\u7ed9\u5e94\u7528\u7a0b\u5e8f\u6267\u884c\u56de\u8c03\u3002</p>\\n<p><img src=\\"https://xiao555.netlify.com/3b9cb346c07149638576a41fabff06f6_image.png\\" alt=\\"3b9cb346c07149638576a41fabff06f6_image.png\\"></p>\\n<p>\u800c\u73b0\u5b9e\u4e2d\u7684\u5f02\u6b65I/O\u5927\u591a\u662f\u901a\u8fc7\u7ebf\u7a0b\u6c60\u7684\u65b9\u5f0f\u6765\u95f4\u63a5\u5b9e\u73b0\u7684\u3002\u8ba9\u90e8\u5206\u7ebf\u7a0b\u8fdb\u884c\u963b\u585eI/O\u6216\u8005\u975e\u963b\u585eI/O\u52a0\u8f6e\u8be2\u6280\u672f\u6765\u5b8c\u6210\u6570\u636e\u83b7\u53d6\uff0c\u8ba9\u4e00\u4e2a\u7ebf\u7a0b\u8fdb\u884c\u8ba1\u7b97\u5904\u7406\uff0c\u901a\u8fc7\u7ebf\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1\u8fdb\u884c\u6570\u636e\u4f20\u9012\uff0c\u53ef\u4ee5\u8f7b\u677e\u5b9e\u73b0\u5f02\u6b65I/O\u3002</p>\\n<p><img src=\\"https://xiao555.netlify.com/8f524f1ae111459f99a01b58674b6bd9_image.png\\" alt=\\"8f524f1ae111459f99a01b58674b6bd9_image.png\\"></p>\\n<h3 id=\\"\u8de8\u5e73\u53f0\u7684\u5f02\u6b65io\u5b9e\u73b0\\">\u8de8\u5e73\u53f0\u7684\u5f02\u6b65I/O\u5b9e\u73b0</h3>\\n<p>Node\u662f\u8de8\u5e73\u53f0\u7684\uff0c\u4e0a\u9762\u6211\u4eec\u8bf4\u7684\u5c31\u662fUnix\u7cfb\u7edf\uff0c\u5728Windows\u5e73\u53f0\u4e0a\uff0c\u672c\u8eab\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7406\u60f3\u7684\u5f02\u6b65I/O\u2014\u2014IOCP\uff0c\u867d\u7136\u5b83\u5185\u90e8\u4ecd\u7136\u662f\u7ebf\u7a0b\u6c60\u7684\u539f\u7406\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u4e9b\u7ebf\u7a0b\u6c60\u662f\u6709\u7cfb\u7edf\u5185\u6838\u7ba1\u7406\u7684\u800c\u975e\u5e94\u7528\u7a0b\u5e8f\u3002Node\u63d0\u4f9b\u4e86libuv\u4f5c\u4e3a\u62bd\u8c61\u5c01\u88c5\u5c42\uff0c\u517c\u5bb9\u4e86\u4e0d\u540c\u5e73\u53f0\u95f4\u7684\u5dee\u5f02\u3002</p>\\n<p><img src=\\"https://xiao555.netlify.com/de7a832ab9af4b6dad29b499873f0efb_image.png\\" alt=\\"de7a832ab9af4b6dad29b499873f0efb_image.png\\"></p>\\n<p>\u6240\u4ee5\u867d\u7136\u6211\u4eec\u5e38\u8bf4Node\u662f\u5355\u7ebf\u7a0b\u7684\uff0c\u5176\u5b9e\u53ea\u662f\u8bf4js\u6267\u884c\u5728\u5355\u7ebf\u7a0b\u4e2d\uff0c\u5185\u90e8\u5b8c\u6210I/O\u4efb\u52a1\u7684\u53e6\u6709\u7ebf\u7a0b\u6c60\u3002</p>\\n<h3 id=\\"node\u7684\u5f02\u6b65io\\">Node\u7684\u5f02\u6b65I/O</h3>\\n<p>\u4ecb\u7ecd\u5b8c\u5f02\u6b65I/O\u7684\u5b9e\u73b0\uff0c\u8fd8\u8981\u8bf4\u4e00\u4e0bNode\u7684\u6267\u884c\u6a21\u578b\uff0c\u5b8c\u6210\u6574\u4e2a\u5f02\u6b65I/O\u7684\u6709\u4e8b\u4ef6\u5faa\u73af\uff0c\u89c2\u5bdf\u8005\u548c\u8bf7\u6c42\u5bf9\u8c61\u7b49\u3002</p>\\n<h4 id=\\"\u4e8b\u4ef6\u5faa\u73af\\">\u4e8b\u4ef6\u5faa\u73af</h4>\\n<p>\u5728\u8fdb\u7a0b\u542f\u52a8\u65f6\uff0cNode\u4fbf\u4f1a\u521b\u5efa\u4e00\u4e2a\u7c7b\u4f3c\u4e8ewhile(true)\u7684\u5faa\u73af\uff0c\u6bcf\u6267\u884c\u4e00\u6b21\u5faa\u73af\u4f53\u7684\u8fc7\u7a0b\u6211\u4eec\u79f0\u4e3aTick\u3002\u6bcf\u4e2aTick\u7684\u8fc7\u7a0b\u5c31\u662f\u67e5\u770b\u662f\u5426\u6709\u4e8b\u4ef6\u5f85\u5904\u7406\uff0c\u5982\u679c\u6709\uff0c\u5c31\u53d6\u51fa\u4e8b\u4ef6\u53ca\u5176\u76f8\u5173\u7684\u56de\u8c03\u51fd\u6570\u3002\u5982\u679c\u5b58\u5728\u5173\u8054\u7684\u56de\u8c03\u51fd\u6570\uff0c\u5c31\u6267\u884c\u5b83\u4eec\u3002\u7136\u540e\u8fdb\u5165\u4e0b\u4e2a\u5faa\u73af\uff0c\u5982\u679c\u4e0d\u518d\u6709\u4e8b\u4ef6\u5904\u7406\uff0c\u5c31\u9000\u51fa\u8fdb\u7a0b\u3002</p>\\n<p><img src=\\"https://xiao555.netlify.com/bdecb4903b1e4bd9b892a1e82a0644b4_image.png\\" alt=\\"bdecb4903b1e4bd9b892a1e82a0644b4_image.png\\"></p>\\n<h4 id=\\"\u89c2\u5bdf\u8005\\">\u89c2\u5bdf\u8005</h4>\\n<p>\u5728\u6bcf\u4e2aTick\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5982\u4f55\u5224\u65ad\u662f\u5426\u6709\u4e8b\u4ef6\u9700\u8981\u5904\u7406\u5462\uff1f\u8fd9\u91cc\u5c31\u8981\u5f15\u5165\u89c2\u5bdf\u8005\u7684\u6982\u5ff5\uff0c\u6bcf\u4e2a\u4e8b\u4ef6\u5faa\u73af\u4e2d\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u89c2\u5bdf\u8005\uff0c\u800c\u5224\u65ad\u662f\u5426\u6709\u4e8b\u4ef6\u8981\u5904\u7406\u5c31\u662f\u5411\u8fd9\u4e9b\u89c2\u5bdf\u8005\u8be2\u95ee\u3002</p>\\n<p>\u5728\u6d4f\u89c8\u5668\u4e2d\uff0c\u4e8b\u4ef6\u53ef\u4ee5\u80fd\u6765\u81ea\u7528\u6237\u4ea4\u4e92\u884c\u4e3a\uff0c\u6bd4\u5982\u70b9\u51fb\u4e00\u4e2a\u6309\u94ae\u7b49\u7b49\uff0c\u90fd\u6709\u5bf9\u5e94\u7684\u89c2\u5bdf\u8005\u3002\u5728Node\u4e2d\uff0c\u4e8b\u4ef6\u53ef\u80fd\u6765\u81ea\u7f51\u7edc\u8bf7\u6c42\uff0c\u6587\u4ef6I/O\u7b49\uff0c\u8fd9\u4e9b\u4e8b\u4ef6\u5bf9\u5e94\u7684\u89c2\u5bdf\u8005\u6709\u6587\u4ef6I/O\u89c2\u5bdf\u8005\uff0c\u7f51\u7edcI/O\u89c2\u5bdf\u8005\u7b49\u3002</p>\\n<p>\u4e8b\u4ef6\u5faa\u73af\u662f\u4e00\u4e2a\u5178\u578b\u7684\u751f\u4ea7\u8005/\u6d88\u8d39\u8005\u6a21\u578b\u3002\u5f02\u6b65I/O\u3001\u7f51\u7edc\u8bf7\u6c42\u7b49\u5219\u662f\u4e8b\u4ef6\u7684\u751f\u4ea7\u8005\uff0c\u6e90\u6e90\u4e0d\u65ad\u4e3aNode\u63d0\u4f9b\u4e0d\u540c\u7c7b\u578b\u7684\u4e8b\u4ef6\uff0c\u8fd9\u4e9b\u4e8b\u4ef6\u88ab\u4f20\u9012\u5230\u5bf9\u5e94\u7684\u89c2\u5bdf\u8005\u90a3\u91cc\uff0c\u4e8b\u4ef6\u5faa\u73af\u5219\u4ece\u89c2\u5bdf\u8005\u90a3\u91cc\u53d6\u51fa\u4e8b\u4ef6\u5e76\u5904\u7406\u3002</p>\\n<h4 id=\\"\u8bf7\u6c42\u5bf9\u8c61\\">\u8bf7\u6c42\u5bf9\u8c61</h4>\\n<p>\u5f02\u6b65I/O\u7684\u56de\u8c03\u51fd\u6570\u4e0d\u662f\u7531\u6211\u4eec\u5f00\u53d1\u8005\u8c03\u7528\u7684\u3002\u4ecejs\u53d1\u8d77\u8c03\u7528\u5230\u5185\u6838\u6267\u884c\u5b8cI/O\u64cd\u4f5c\u7684\u8fc7\u6e21\u8fc7\u7a0b\u4e2d\uff0c\u5b58\u5728\u4e00\u79cd\u4e2d\u95f4\u4ea7\u7269\uff0c\u53eb\u505a\u8bf7\u6c42\u5bf9\u8c61\u3002</p>\\n<p>\u4ee5<code>fs.open()</code>\u4e3a\u4f8b\uff0c\u4ecejs\u8c03\u7528Node\u7684\u6838\u5fc3\u6a21\u5757(fs)\uff0c\u6838\u5fc3\u6a21\u5757\u8c03\u7528C++\u5185\u5efa\u6a21\u5757\uff0c\u5185\u5efa\u6a21\u5757\u901a\u8fc7libuv\u8fdb\u884c\u7cfb\u7edf\u8c03\u7528\u3002libuv\u8fdb\u884c\u7cfb\u7edf\u8c03\u7528\u8fc7\u7a0b\u4e2d\uff0c\u521b\u5efa\u4e86\u4e00\u4e2a\u8bf7\u6c42\u5bf9\u8c61\uff0c\u4ecejs\u5c42\u4f20\u5165\u7684\u53c2\u6570\u548c\u5f53\u524d\u65b9\u6cd5\u90fd\u88ab\u5c01\u88c5\u5728\u8fd9\u4e2a\u8bf7\u6c42\u5bf9\u8c61\u4e2d\uff0c\u56de\u8c03\u51fd\u6570\u4e5f\u8bbe\u7f6e\u5728\u8fd9\u4e2a\u5bf9\u8c61\u7684oncomplete_sym\u5c5e\u6027\u4e0a\u3002\u5bf9\u8c61\u5305\u88c5\u5b8c\u6bd5\u540e\uff0c\u5c31\u88ab\u63a8\u5165\u7ebf\u7a0b\u6c60\u4e2d\u7b49\u5f85\u6267\u884c\u3002</p>\\n<p>\u81f3\u6b64\uff0cjs\u8c03\u7528\u7acb\u5373\u8fd4\u56de\uff0c\u7531JavaScript\u5c42\u9762\u53d1\u8d77\u7684\u5f02\u6b65\u8c03\u7528\u7684\u7b2c\u4e00\u9636\u6bb5\u5c31\u6b64\u7ed3\u675f\u3002 JavaScript\u7ebf\u7a0b\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\u5f53\u524d\u4efb\u52a1\u7684\u540e\u7eed\u64cd\u4f5c\u3002\u5f53\u524d\u7684I/O\u64cd\u4f5c\u5728\u7ebf\u7a0b\u6c60\u4e2d\u7b49\u5f85\u6267\u884c\uff0c\u4e0d\u7ba1\u5b83\u662f\u5426\u963b\u585eI/O\uff0c\u90fd\u4e0d\u4f1a\u5f71\u54cd\u5230JavaScript\u7ebf\u7a0b\u7684\u540e\u7eed\u6267\u884c\uff0c\u5982\u6b64\u5c31\u8fbe\u5230\u4e86\u5f02\u6b65\u7684\u76ee\u7684\u3002</p>\\n<p>\u8bf7\u6c42\u5bf9\u8c61\u662f\u5f02\u6b65I/O\u8fc7\u7a0b\u4e2d\u7684\u91cd\u8981\u4e2d\u95f4\u4ea7\u7269\uff0c\u6240\u6709\u7684\u72b6\u6001\u90fd\u4fdd\u5b58\u5728\u8fd9\u4e2a\u5bf9\u8c61\u4e2d\uff0c\u5305\u62ec\u9001\u5165\u7ebf\u7a0b\u6c60\u7b49\u5f85\u6267\u884c\u4ee5\u53caI/O\u64cd\u4f5c\u5b8c\u6bd5\u540e\u7684\u56de\u8c03\u5904\u7406\u3002</p>\\n<h4 id=\\"\u6267\u884c\u56de\u8c03\\">\u6267\u884c\u56de\u8c03</h4>\\n<p>\u7ec4\u88c5\u597d\u8bf7\u6c42\u5bf9\u8c61\u3001\u9001\u5165I/O\u7ebf\u7a0b\u6c60\u7b49\u5f85\u6267\u884c\uff0c\u5b9e\u9645\u4e0a\u5b8c\u6210\u4e86\u5f02\u6b65I/O\u7684\u7b2c\u4e00\u90e8\u5206\uff0c\u56de\u8c03\u901a\u77e5\u662f\u7b2c\u4e8c\u90e8\u5206\u3002</p>\\n<p>\u5728\u4e8b\u4ef6\u5faa\u73af\u7684\u6bcf\u6b21Tick\u8fc7\u7a0b\u4e2d\uff0c\u4e5f\u5b58\u5728I/O\u89c2\u5bdf\u8005\u53bb\u68c0\u67e5\u7ebf\u7a0b\u6c60\u4e2d\u662f\u5426\u6709\u6267\u884c\u5b8c\u7684\u8bf7\u6c42\uff0c\u5982\u679c\u5b58\u5728\uff0c\u4f1a\u5c06\u8bf7\u6c42\u5bf9\u8c61\u52a0\u5230I/O\u89c2\u5bdf\u8005\u7684\u961f\u5217\u4e2d\uff0c\u7136\u540e\u5c06\u5176\u5f53\u505a\u4e8b\u4ef6\u5904\u7406\u3002</p>\\n<p>I/O\u89c2\u5bdf\u8005\u56de\u8c03\u51fd\u6570\u7684\u884c\u4e3a\u5c31\u662f\u53d6\u51fa\u8bf7\u6c42\u5bf9\u8c61\u7684result\u5c5e\u6027\u4f5c\u4e3a\u53c2\u6570\uff0c\u53d6\u51faoncomplete_sym\u5c5e\u6027\u4f5c\u4e3a\u65b9\u6cd5\uff0c\u7136\u540e\u8c03\u7528\u6267\u884c\uff0c\u4ee5\u6b64\u8fbe\u5230\u8c03\u7528JavaScript\u4e2d\u4f20\u5165\u7684\u56de\u8c03\u51fd\u6570\u7684\u76ee\u7684\u3002</p>\\n<p>\u4ee5Windows\u5e73\u53f0\u4e0a\u7684IOCP\u4e3a\u4f8b\uff0c\u6574\u4e2a\u5f02\u6b65I/O\u7684\u6d41\u7a0b\u5927\u6982\u662f\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/61ad2742e89c4c249712ce65c4e387ae_image.png\\" alt=\\"61ad2742e89c4c249712ce65c4e387ae_image.png\\"></p>\\n<p>\u4e8b\u4ef6\u5faa\u73af\u3001\u89c2\u5bdf\u8005\u3001\u8bf7\u6c42\u5bf9\u8c61\u3001I/O\u7ebf\u7a0b\u6c60\u8fd9\u56db\u8005\u5171\u540c\u6784\u6210\u4e86Node\u5f02\u6b65I/O\u6a21\u578b\u7684\u57fa\u672c\u8981\u7d20\u3002</p>\\n<h2 id=\\"\u4e8b\u4ef6\u9a71\u52a8\\">\u4e8b\u4ef6\u9a71\u52a8</h2>\\n<p>\u4e8b\u4ef6\u9a71\u52a8\u662f\u5728\u6301\u7eed\u7684\u4e8b\u7269\u7ba1\u7406\u8fc7\u7a0b\u4e2d\uff0c\u7531\u5f53\u524d\u65f6\u95f4\u8282\u70b9\u4e0a\u51fa\u73b0\u7684\u4e8b\u4ef6\u5f15\u8d77\u7684\u8c03\u7528\u53ef\u7528\u8d44\u6e90\u6267\u884c\u76f8\u5173\u4efb\u52a1\uff0c\u89e3\u51b3\u95ee\u9898\uff0c\u9632\u6b62\u4e8b\u7269\u5806\u79ef\u7684\u4e00\u79cd\u7b56\u7565\u3002\u524d\u9762\u4ecb\u7ecd\u5f02\u6b65\u7684\u5b9e\u73b0\u539f\u7406\u4e5f\u57fa\u672c\u52fe\u52d2\u5904\u7406\u4e8b\u4ef6\u9a71\u52a8\u7684\u5b9e\u8d28\uff0c\u5373\u901a\u8fc7\u4e3b\u5faa\u73af\u52a0\u4e8b\u4ef6\u89e6\u53d1\u7684\u65b9\u5f0f\u6765\u8fd0\u884c\u7a0b\u5e8f\u3002\u57fa\u4e8eNode\u6784\u5efa\u7684Web\u670d\u52a1\u5668\u4e5f\u662f\u901a\u8fc7\u4e8b\u4ef6\u9a71\u52a8\u6765\u5904\u7406\u8bf7\u6c42\u7684\u3002</p>\\n<p><img src=\\"https://xiao555.netlify.com/9142627df5b34afcbc6450c11f0ea42a_image.png\\" alt=\\"9142627df5b34afcbc6450c11f0ea42a_image.png\\"></p>\\n<p>\u4e0b\u9762\u4e3a\u51e0\u79cd\u7ecf\u5178\u7684\u670d\u52a1\u5668\u6a21\u578b</p>\\n<ul>\\n<li>\u540c\u6b65\u5f0f\u3002\u5bf9\u4e8e\u540c\u6b65\u5f0f\u7684\u670d\u52a1\uff0c\u4e00\u6b21\u53ea\u80fd\u5904\u7406\u4e00\u4e2a\u8bf7\u6c42\uff0c\u5e76\u4e14\u5176\u4f59\u8bf7\u6c42\u90fd\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u3002</li>\\n<li>\u6bcf\u8fdb\u7a0b/\u6bcf\u8bf7\u6c42\u3002\u4e3a\u6bcf\u4e2a\u8bf7\u6c42\u542f\u52a8\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u8fd9\u6837\u53ef\u4ee5\u5904\u7406\u591a\u4e2a\u8bf7\u6c42\uff0c\u4f46\u662f\u5b83\u4e0d\u5177\u5907\u6269\u5c55\u6027\uff0c\u56e0\u4e3a\u7cfb\u7edf\u8d44\u6e90\u53ea\u6709\u90a3\u4e48\u591a\u3002</li>\\n<li>\u6bcf\u7ebf\u7a0b/\u6bcf\u8bf7\u6c42\u3002\u4e3a\u6bcf\u4e2a\u8bf7\u6c42\u542f\u52a8\u4e00\u4e2a\u7ebf\u7a0b\u6765\u5904\u7406\u3002\u5c3d\u7ba1\u7ebf\u7a0b\u6bd4\u8fdb\u7a0b\u8981\u8f7b\u91cf\uff0c\u4f46\u662f\u7531\u4e8e\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u5360\u7528\u4e00\u5b9a\u5185\u5b58\uff0c\u5f53\u5927\u5e76\u53d1\u8bf7\u6c42\u5230\u6765\u65f6\uff0c\u5185\u5b58\u5c06\u4f1a\u5f88\u5feb\u7528\u5149\uff0c\u5bfc\u81f4\u670d\u52a1\u5668\u7f13\u6162\u3002</li>\\n</ul>\\n<p>\u591a\u7ebf\u7a0b\u4f18\u70b9\u662f\u53ef\u4ee5\u9ad8\u6548\u5229\u7528\u591a\u6838CPU\uff0c\u7f3a\u70b9\u662f\u521b\u5efa\u7ebf\u7a0b\u9700\u8981\u6d88\u8017\u5185\u5b58\uff0cCPU\u5728\u7ebf\u7a0b\u4e4b\u95f4\u8fdb\u884c\u4e0a\u4e0b\u6587\u5207\u6362\u9700\u8981\u82b1\u8d39\u65f6\u95f4\uff0c\u8fd8\u6709\u6700\u5934\u75db\u7684\u72b6\u6001\u540c\u6b65\u95ee\u9898\u7b49\u7b49\u3002Apache\u91c7\u7528\u7684\u662f\u6bcf\u7ebf\u7a0b/\u6bcf\u8bf7\u6c42\u7684\u65b9\u5f0f\uff0c\u800cNginx\u5219\u662f\u4e8b\u4ef6\u9a71\u52a8\uff0c\u6211\u4eec\u770b\u4e00\u4e0b\u8fd9\u4e24\u4e2a\u7684\u6027\u80fd\u6bd4\u8f83\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/67bbbba6a2d34116a2bee74664c9d606_image.png\\" alt=\\"67bbbba6a2d34116a2bee74664c9d606_image.png\\">\\n<img src=\\"https://xiao555.netlify.com/34e201b99a0f4197b9b66fd53af3886c_image.png\\" alt=\\"34e201b99a0f4197b9b66fd53af3886c_image.png\\"></p>\\n<p>\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u968f\u7740\u5e76\u53d1\u6570\u7684\u589e\u52a0\uff0cnginx\u6bcf\u79d2\u5904\u7406\u7684\u8bf7\u6c42\u6570\u66f4\u591a(\u7701\u53bb\u4e86\u591a\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u6d88\u8017)\uff0c\u5360\u7528\u7684\u5185\u5b58\u57fa\u672c\u4e0d\u53d8\uff0capache\u5185\u5b58\u7ebf\u6027\u589e\u52a0(\u6bcf\u4e2a\u7ebf\u7a0b\u5360\u7528\u4e00\u5b9a\u7684\u5185\u5b58)\u3002\u6240\u4ee5\u4e8b\u4ef6\u9a71\u52a8\u5728\u5904\u7406\u9ad8\u5e76\u53d1\u65f6\u6027\u80fd\u662f\u975e\u5e38\u9ad8\u7684\u3002</p>\\n<p>\u53c2\u8003\u94fe\u63a5\uff1a\\n\u300a\u6df1\u5165\u6d45\u51faNode.js\u300b\\n<a href=\\"https://blog.csdn.net/shiyong1949/article/details/80854656\\">https://blog.csdn.net/shiyong1949/article/details/80854656</a>\\n<a href=\\"https://nodejs.org/en/docs/guides/simple-profiling/\\">https://nodejs.org/en/docs/guides/simple-profiling/</a>\\n<a href=\\"https://www.zhihu.com/question/28594409\\">https://www.zhihu.com/question/28594409</a>\\n<a href=\\"http://s3.amazonaws.com/four.livejournal/20091117/jsconf.pdf\\">http://s3.amazonaws.com/four.livejournal/20091117/jsconf.pdf</a></p>\\n","title":"\u6df1\u5165\u6d45\u51faNode.js\u4e4b\u4e8b\u4ef6\u5faa\u73af\u4e0e\u5f02\u6b65I/O","tags":["Node.js"],"slug":"in-depth-explanation-of-the-event-loop-and-asynchronous-i%2Fo-of-node.js","createDate":1575367200000,"id":"in-depth-explanation-of-the-event-loop-and-asynchronous-i%2Fo-of-node.js","thumb":"https://images.unsplash.com/photo-1580337603547-6209ef255d26?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>\u770b\u5230\u8fd9\u4e2a\u6807\u9898\uff0c\u6709\u4eba\u53ef\u80fd\u4f1a\u7591\u60d1\uff1a\u63d0\u9ad8\u7ec4\u4ef6\u590d\u7528\u6027\u4e0d\u662f\u6211\u4eec\u5e94\u8be5\u62e5\u62b1\u7684\u4e00\u4ef6\u4e8b\u60c5\u5417\uff0c\u4e3a\u4ec0\u4e48\u8981\u62d2\u7edd\u5b83\uff1f\u662f\u7684\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u6211\u4eec\u9700\u8981\u5c3d\u91cf\u590d\u7528\u7ec4\u4ef6\uff0c\u4ee3\u7801\u5c42\u9762\u7684\u7ec4\u4ef6\u590d\u7528\u63d0\u9ad8\u4e86\u4ee3\u7801\u7684\u590d\u7528\u6027\uff0c\u4fbf\u4e8e\u7ef4\u62a4\u3002\u9875\u9762\u6e32\u67d3\u5c42\u9762\u7684\u7ec4\u4ef6\u590d\u7528\u63d0\u9ad8\u4e86\u6027\u80fd\u3002\u4f46\u662f\uff0c\u5728\u6709\u4e9b\u573a\u666f\u4e0b\u662f\u4f1a\u9047\u5230\u4e0d\u9700\u8981\u7ec4\u4ef6\u590d\u7528\u7684\u60c5\u51b5\u3002</p>\\n","content":"<p>\u770b\u5230\u8fd9\u4e2a\u6807\u9898\uff0c\u6709\u4eba\u53ef\u80fd\u4f1a\u7591\u60d1\uff1a\u63d0\u9ad8\u7ec4\u4ef6\u590d\u7528\u6027\u4e0d\u662f\u6211\u4eec\u5e94\u8be5\u62e5\u62b1\u7684\u4e00\u4ef6\u4e8b\u60c5\u5417\uff0c\u4e3a\u4ec0\u4e48\u8981\u62d2\u7edd\u5b83\uff1f\u662f\u7684\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u6211\u4eec\u9700\u8981\u5c3d\u91cf\u590d\u7528\u7ec4\u4ef6\uff0c\u4ee3\u7801\u5c42\u9762\u7684\u7ec4\u4ef6\u590d\u7528\u63d0\u9ad8\u4e86\u4ee3\u7801\u7684\u590d\u7528\u6027\uff0c\u4fbf\u4e8e\u7ef4\u62a4\u3002\u9875\u9762\u6e32\u67d3\u5c42\u9762\u7684\u7ec4\u4ef6\u590d\u7528\u63d0\u9ad8\u4e86\u6027\u80fd\u3002\u4f46\u662f\uff0c\u5728\u6709\u4e9b\u573a\u666f\u4e0b\u662f\u4f1a\u9047\u5230\u4e0d\u9700\u8981\u7ec4\u4ef6\u590d\u7528\u7684\u60c5\u51b5\u3002</p>\\n<p>Vue\u5728\u6e32\u67d3\u9875\u9762\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u5c3d\u91cf\u53bb\u590d\u7528\u5df2\u6709\u5143\u7d20\uff0c\u5c31\u4f1a\u51fa\u73b0\u4e0a\u4e2atab\u7684\u8f93\u5165\u6846\u88ab\u5e26\u5230\u4e0b\u4e00\u4e2atab\u4e2d\uff0c\u5207\u6362tab\u540e\u5217\u8868\u4e2d\u7684\u56fe\u7247\u6ca1\u53d8\u7b49\u95ee\u9898\u3002\u5bf9\u4e8e\u8fd9\u79cd\u95ee\u9898\uff0c\u6700\u7b80\u5355\u7684\u529e\u6cd5\u5c31\u662f\u52a0\u4e2akey\u3002</p>\\n<blockquote>\\n<p><code>key</code> \u7684\u7279\u6b8a\u5c5e\u6027\u4e3b\u8981\u7528\u5728 Vue \u7684\u865a\u62df DOM \u7b97\u6cd5\uff0c\u5728\u65b0\u65e7 nodes \u5bf9\u6bd4\u65f6\u8fa8\u8bc6 VNodes\u3002\u5982\u679c\u4e0d\u4f7f\u7528 key\uff0cVue \u4f1a\u4f7f\u7528\u4e00\u79cd\u6700\u5927\u9650\u5ea6\u51cf\u5c11\u52a8\u6001\u5143\u7d20\u5e76\u4e14\u5c3d\u53ef\u80fd\u7684\u5c1d\u8bd5\u4fee\u590d/\u518d\u5229\u7528\u76f8\u540c\u7c7b\u578b\u5143\u7d20\u7684\u7b97\u6cd5\u3002\u4f7f\u7528 key\uff0c\u5b83\u4f1a\u57fa\u4e8e key \u7684\u53d8\u5316\u91cd\u65b0\u6392\u5217\u5143\u7d20\u987a\u5e8f\uff0c\u5e76\u4e14\u4f1a\u79fb\u9664 key \u4e0d\u5b58\u5728\u7684\u5143\u7d20\u3002</p>\\n</blockquote>\\n<p>\u4e0a\u8ff0\u662f\u5f15\u7528Vue\u5b98\u65b9\u6587\u6863\u7684\u8bf4\u6cd5\u3002\u53ef\u4ee5\u5904\u7406\u7edd\u5927\u90e8\u5206\u4e0d\u60f3\u590d\u7528\u7684\u60c5\u51b5\u3002\u7136\u800c\u524d\u51e0\u5929\u5374\u9047\u5230\u4e86\u4e00\u4e2akey\u5904\u7406\u4e0d\u4e86(\u5176\u5b9e\u53ef\u4ee5\uff0c\u4f46\u5f88\u9ebb\u70e6\uff0c\u4e0d\u4f18\u96c5)\u7684\u60c5\u51b5\u3002\u6545\u4e8b\u662f\u8fd9\u6837\u7684:</p>\\n<p>\u6211\u4eec\u9879\u76ee\u4e00\u5f00\u59cb\u7684\u8def\u7531\u7ed3\u6784\uff1a</p>\\n<pre><code class=\\"language-javascript\\">// \u6587\u4ef6\u7ed3\u6784\\n- product\\n  - <span class=\\"hljs-keyword\\">Index</span>.vue\\n  - product-list\\n  - product-detail\\n- <span class=\\"hljs-keyword\\">order</span>\\n  - <span class=\\"hljs-keyword\\">Index</span>.vue\\n  - <span class=\\"hljs-keyword\\">order</span>-list\\n  - <span class=\\"hljs-keyword\\">order</span>-detail\\n\\n// vue-router\\n{\\n  <span class=\\"hljs-type\\">path</span>: <span class=\\"hljs-string\\">\'/product\'</span>\\n  component: product/<span class=\\"hljs-keyword\\">Index</span>.vue,\\n  children: [\\n    {\\n      <span class=\\"hljs-type\\">path</span>: <span class=\\"hljs-string\\">\'/\'</span>\\n      component: product-list\\n    }.\\n    {\\n      <span class=\\"hljs-type\\">path</span>: <span class=\\"hljs-string\\">\'/detail\'</span>\\n      component: product-detail\\n    }\\n  ],\\n  <span class=\\"hljs-type\\">path</span>: <span class=\\"hljs-string\\">\'/order\'</span>\\n  component: <span class=\\"hljs-keyword\\">order</span>/<span class=\\"hljs-keyword\\">Index</span>.vue,\\n  children: [\\n    {\\n      <span class=\\"hljs-type\\">path</span>: <span class=\\"hljs-string\\">\'/\'</span>\\n      component: <span class=\\"hljs-keyword\\">order</span>-list\\n    }.\\n    {\\n      <span class=\\"hljs-type\\">path</span>: <span class=\\"hljs-string\\">\'/detail\'</span>\\n      component: <span class=\\"hljs-keyword\\">order</span>-detail\\n    }\\n  ]\\n}\\n\\n// <span class=\\"hljs-keyword\\">Index</span>.vue\\n&lt;<span class=\\"hljs-keyword\\">template</span>&gt;\\n  &lt;main&gt;\\n    &lt;keep-alive :<span class=\\"hljs-keyword\\">include</span>=<span class=\\"hljs-string\\">\'product-list\'</span>&gt;\\n      &lt;router-<span class=\\"hljs-keyword\\">view</span>&gt;&lt;/router-<span class=\\"hljs-keyword\\">view</span>&gt;\\n     &lt;/keep-alive&gt;\\n  &lt;/main&gt;\\n&lt;/<span class=\\"hljs-keyword\\">template</span>&gt;</code></pre>\\n<p>\u53ef\u4ee5\u770b\u5230\u6bcf\u4e00\u7ea7\u5bfc\u822a\u4e0b\u9762\u90fd\u6709\u4e00\u4e2aIndex.vue\uff0c\u5185\u5bb9\u4e5f\u662f\u5dee\u4e0d\u591a\u7684\uff0c\u53ea\u4e0d\u8fc7\u6709\u7684\u652f\u6301keepAlive\uff0c\u6709\u7684\u4e0d\u652f\u6301\u3002\u79c9\u7740\u7ec4\u4ef6\u590d\u7528\u7684\u539f\u5219\uff0c\u6211\u628a\u5b83\u4eec\u62bd\u6210\u4e86\u4e00\u4e2a\u7ec4\u4ef6\u2014\u2014\u652f\u6301keepAlive\u7684SingleRouterView.vue\uff08\u8bba\u575b\u7684\u6392\u7248\u597d\u96be\uff09:</p>\\n<pre><code>&lt;template&gt;\\n  &lt;keep-alive :include=<span class=\\"hljs-string\\">\\"keepAliveComponentNames\\"</span>&gt;\\n    &lt;router-view&gt;&lt;/router-view&gt;\\n  &lt;/keep-alive&gt;\\n&lt;/template&gt;\\n\\n&lt;script&gt;\\nexport  <span class=\\"hljs-keyword\\">default</span> {\\n  <span class=\\"hljs-keyword\\">data</span> () {\\n    <span class=\\"hljs-keyword\\">return</span> {\\n      keepAliveComponentNames: [], <span class=\\"hljs-comment\\">// \u8bb0\u5f55\u5f00\u542fkeepAlive\u7684\u7ec4\u4ef6\u540d</span>\\n    }\\n  },\\n  watch: {\\n    <span class=\\"hljs-string\\">\'$route\'</span>:  <span class=\\"hljs-string\\">\'checkKeepAlive\'</span>\\n  },\\n  methods: {\\n    checkKeepAlive () { <span class=\\"hljs-comment\\">// \u68c0\u67e5\u662f\u5426\u5f00\u542fkeepAlive</span>\\n      let  matched  =  <span class=\\"hljs-keyword\\">this</span>.$route.matched\\n      let  name\\n      <span class=\\"hljs-keyword\\">try</span> {\\n        name  =  matched[matched.length  -  <span class=\\"hljs-number\\">1</span>].components.<span class=\\"hljs-keyword\\">default</span>.name\\n      } <span class=\\"hljs-keyword\\">catch</span> (error) {\\n        <span class=\\"hljs-keyword\\">return</span>\\n      }\\n      <span class=\\"hljs-keyword\\">if</span> (!name) <span class=\\"hljs-keyword\\">return</span>\\n      <span class=\\"hljs-keyword\\">if</span> (<span class=\\"hljs-keyword\\">this</span>.$route.meta.keepAlive) { <span class=\\"hljs-comment\\">// \u5f00\u542f\u7684\u52a0\u5230keepAliveComponentNames</span>\\n        <span class=\\"hljs-keyword\\">if</span> (!<span class=\\"hljs-keyword\\">this</span>.keepAliveComponentNames.includes(name)) {\\n          <span class=\\"hljs-keyword\\">this</span>.keepAliveComponentNames.push(name)\\n        }\\n      } <span class=\\"hljs-keyword\\">else</span> { <span class=\\"hljs-comment\\">// \u4e0d\u5f00\u542f\u7684\u4ecekeepAliveComponentNames\u53bb\u6389</span>\\n        <span class=\\"hljs-keyword\\">if</span> (<span class=\\"hljs-keyword\\">this</span>.keepAliveComponentNames.includes(name)) {\\n          <span class=\\"hljs-keyword\\">this</span>.keepAliveComponentNames.splice(<span class=\\"hljs-keyword\\">this</span>.keepAliveComponentNames.indexOf(name), <span class=\\"hljs-number\\">1</span>)\\n        }\\n      }\\n    }\\n  },\\n  created () {\\n    <span class=\\"hljs-keyword\\">this</span>.checkKeepAlive()\\n  }\\n}\\n&lt;script&gt;</code></pre><p>\u8fd9\u6837\u6211\u4eec\u7684\u8def\u7531\u7ed3\u6784\u5c31\u53d8\u6210\u4e86\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// \u6587\u4ef6\u7ed3\u6784</span>\\n<span class=\\"hljs-selector-tag\\">-</span> <span class=\\"hljs-selector-tag\\">product</span>\\n  <span class=\\"hljs-selector-tag\\">-</span> <span class=\\"hljs-selector-tag\\">product-list</span>\\n  <span class=\\"hljs-selector-tag\\">-</span> <span class=\\"hljs-selector-tag\\">product-detail</span>\\n<span class=\\"hljs-selector-tag\\">-</span> <span class=\\"hljs-selector-tag\\">order</span>\\n  <span class=\\"hljs-selector-tag\\">-</span> <span class=\\"hljs-selector-tag\\">order-list</span>\\n  <span class=\\"hljs-selector-tag\\">-</span> <span class=\\"hljs-selector-tag\\">order-detail</span>\\n\\n<span class=\\"hljs-comment\\">// vue-router</span>\\n{\\n  <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/product\'</span>\\n  <span class=\\"hljs-attribute\\">component</span>: SingleRouterView,\\n  <span class=\\"hljs-attribute\\">children</span>: [\\n    {\\n      <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/\'</span>\\n      <span class=\\"hljs-attribute\\">meta</span>: {\\n        <span class=\\"hljs-attribute\\">keepAlive</span>: true\\n      },\\n      <span class=\\"hljs-attribute\\">component</span>: product-list\\n    }.\\n    {\\n      <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/detail\'</span>\\n      <span class=\\"hljs-attribute\\">component</span>: product-detail\\n    }\\n  ],\\n  <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/order\'</span>\\n  <span class=\\"hljs-attribute\\">component</span>: SingleRouterView,\\n  <span class=\\"hljs-attribute\\">children</span>: [\\n    {\\n      <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/\'</span>\\n      <span class=\\"hljs-attribute\\">component</span>: order-list\\n    }.\\n    {\\n      <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/detail\'</span>\\n      <span class=\\"hljs-attribute\\">component</span>: order-detail\\n    }\\n  ]\\n}</code></pre>\\n<p>\u8fd9\u6837\u5c31\u7701\u53bb\u4e86\u5f88\u591aIndex.vue\u6587\u4ef6\uff0c\u8fbe\u5230\u4e86\u7ec4\u4ef6\u590d\u7528\u7684\u76ee\u7684\u3002\u800c\u4e14\u53ef\u4ee5\u52a8\u6001\u914d\u7f6e\u662f\u5426\u5f00\u542fkeepAlive\uff0c\u5982\u679c\u6709\u4e9b\u6761\u4ef6\u4e0b\u4e0d\u60f3keepAlive\uff0c\u628aroute.meta.keepALive\u8bbe\u4e3afalse\u5373\u53ef\uff0cPerfect\uff01</p>\\n<p>\u5c31\u8fd9\u6837\u7528\u4e86\u597d\u4e45\uff0c\u77e5\u9053\u524d\u7aef\u65f6\u95f4\u505a\u9700\u6c42\u65f6\u53d1\u73b0\u4e86\u4e00\u4e2a\u95ee\u9898\uff0c\u5f53\u65f6vue-router\u7684\u914d\u7f6e\u662f\u8fd9\u6837\u7684\uff1a</p>\\n<pre><code class=\\"language-javascript\\">{\\n  <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/rules-management\'</span>\\n  <span class=\\"hljs-attribute\\">component</span>: SingleRouterView,\\n  <span class=\\"hljs-attribute\\">children</span>: [\\n    {\\n      <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/\'</span>\\n      <span class=\\"hljs-attribute\\">meta</span>: {\\n        <span class=\\"hljs-attribute\\">keepAlive</span>: true\\n      },\\n      <span class=\\"hljs-attribute\\">component</span>: rule-list\\n    }.\\n    {\\n      <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/detail\'</span>\\n      <span class=\\"hljs-attribute\\">component</span>: rule-detail\\n    }\\n  ],\\n  <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/violation-management\'</span>\\n  <span class=\\"hljs-attribute\\">component</span>: SingleRouterView,\\n  <span class=\\"hljs-attribute\\">children</span>: [\\n    {\\n      <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/\'</span>\\n      <span class=\\"hljs-attribute\\">meta</span>: {\\n        <span class=\\"hljs-attribute\\">keepAlive</span>: true\\n      },\\n      <span class=\\"hljs-attribute\\">component</span>: violation-list\\n    }.\\n    {\\n      <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/detail\'</span>\\n      <span class=\\"hljs-attribute\\">component</span>: violation-detail\\n    }\\n  ]\\n}</code></pre>\\n<p>\u6709\u89c4\u5219\u7ba1\u7406\u548c\u8fdd\u89c4\u7ba1\u7406\u4e24\u4e2a\u4e0a\u7ea7\u8def\u7531\uff0c\u90fd\u5f15\u7528\u4e86SingleRouterView\u7ec4\u4ef6\uff0c\u4ed6\u4eec\u5b50\u8def\u7531\u4e2d\u90fd\u6709\u9700\u8981keepAlive\u7684\u5730\u65b9\u3002\u4f46\u662f\u9875\u9762\u4e0a\u4f1a\u6709\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u4ecerule-list\u8df3\u5230violation-list\u7684\u65f6\u5019\uff0crule-list\u8fd8\u4f1a\u88ab\u7f13\u5b58\uff0c\u518d\u8df3\u8f6c\u56de\u53bb\u7684\u65f6\u5019\uff0c\u7f13\u5b58\u7684\u7ec4\u4ef6\u4f1a\u88ab\u6fc0\u6d3b\uff0c\u539f\u6765\u9875\u9762\u4e0a\u7684\u72b6\u6001\u4f1a\u88ab\u4fdd\u7559\u3002\u4f46\u662f\u6211\u4eec\u60f3\u8981\u7684\u6548\u679c\u662f\u53ea\u6709\u5217\u8868\u9875\u8df3\u5230\u8be6\u60c5\u9875\u518d\u8fd4\u56de\u7684\u65f6\u5019\uff0c\u9700\u8981\u7f13\u5b58\u5217\u8868\u9875\u4e4b\u524d\u7684\u72b6\u6001\u3002\u4ece\u5217\u8868\u9875\u8df3\u5230\u5176\u4ed6\u8def\u7531\u4e0b\u518d\u56de\u6765\u5e94\u8be5\u662f\u4e00\u4e2a\u5168\u65b0\u7684\u7248\u672c\u3002</p>\\n<p><img src=\\"http://tech.yuceyi.com/upload/daa2c0bc15554dff9aed856c34216666_image.png\\" alt=\\"\u88ab\u590d\u7528\u7684\u7ec4\u4ef6\u7f13\u5b58\u4e86RulesList\u7ec4\u4ef6\\"></p>\\n<p>\u4e0a\u56fe\u4e2d\u53ef\u4ee5\u770b\u5230\u4ece\u89c4\u5219\u7ba1\u7406\u8df3\u8f6c\u5230\u8fdd\u89c4\u7ba1\u7406\uff0cSingleRouterView\u8fd8\u7f13\u5b58\u7740\u4e4b\u524d\u89c4\u5219\u5217\u8868\u7ec4\u4ef6\u3002\u663e\u7136\uff0c\u6211\u4eec\u7684SingleRouterView\u88ab\u590d\u7528\u4e86\u3002\u600e\u4e48\u89e3\u51b3\u5462\uff1f</p>\\n<p>\u65b9\u6cd5\u4e00\uff1a\u4e5f\u662f\u6700\u7b80\u5355\u7684\uff0c\u52a0key\u3002\u4f46\u662f\u95ee\u9898\u6765\u4e86\uff0ckey\u7684\u503c\u662f\u4ec0\u4e48\uff1f\u8def\u7531\u7684path\uff1f\u663e\u7136\u4e0d\u884c\uff0c\u5217\u8868\u9875\u548c\u8be6\u60c5\u9875\u7684path\u662f\u4e0d\u540c\u7684\uff0c\u8fd9\u6837\u4f1a\u5bfc\u81f4\u4ece\u5217\u8868\u9875\u8df3\u8f6c\u5230\u8be6\u60c5\u9875\uff0cSingleRouterView\u5c31\u662f\u4e00\u4e2a\u5168\u65b0\u7684\u7248\u672c\u4e86\uff0c\u4e0d\u4f1a\u6709\u7f13\u5b58\u7684\u7ec4\u4ef6\u3002\u6240\u4ee5\u8981\u4fdd\u8bc1SingleRouterView\u4e0b\u7684\u6240\u6709\u5b50\u8def\u7531\u5171\u4eab\u4e00\u4e2akey\uff0c\u90a3\u7ed9meta\u52a0\u4e2a\u53d8\u91cf\u5427\uff1a</p>\\n<pre><code class=\\"language-js\\">{\\n  <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/rules-management\'</span>\\n  <span class=\\"hljs-attribute\\">component</span>: SingleRouterView,\\n  <span class=\\"hljs-attribute\\">children</span>: [\\n    {\\n      <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/\'</span>\\n      <span class=\\"hljs-attribute\\">meta</span>: {\\n        <span class=\\"hljs-attribute\\">keepAlive</span>: true,\\n        <span class=\\"hljs-attribute\\">key</span>: <span class=\\"hljs-string\\">\'rules-management\'</span>\\n      },\\n      <span class=\\"hljs-attribute\\">component</span>: rule-list\\n    }.\\n    {\\n      <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/detail\'</span>\\n      <span class=\\"hljs-attribute\\">meta</span>: {\\n        <span class=\\"hljs-attribute\\">key</span>: <span class=\\"hljs-string\\">\'rules-management\'</span>\\n      },\\n      <span class=\\"hljs-attribute\\">component</span>: rule-detail\\n    }\\n  ],</code></pre>\\n<p>\u7136\u540e\uff0cSingleRouterView\u91cc\u7528route.meta.key\u505a\u7ec4\u4ef6\u7684key\u3002emmm.....\u53ef\u4ee5\u662f\u53ef\u4ee5\uff0c\u4f46\u662f\u672a\u514d\u4e5f\u592a\u9ebb\u70e6\u4e86\uff0c\u6bcf\u4e2a\u5b50\u8def\u7531\u90fd\u8981\u914d\u4e00\u4e0bkey\uff0c\u800c\u4e14\u5982\u679c\u6709\u5d4c\u5957\u591a\u4e2aSingleRouterView\u7684\u8bdd\u600e\u4e48\u529e\uff1f\u60f3\u60f3\u5c31\u5934\u76ae\u53d1\u9ebb\u3002</p>\\n<p>\u65b9\u6cd5\u4e8c\uff1a\u52a8\u6001\u521b\u5efa\u7ec4\u4ef6\u3002\u7075\u673a\u4e00\u52a8\uff0c\u65e2\u7136\u540c\u4e00\u4e2a\u7ec4\u4ef6\u4f1a\u88ab\u590d\u7528\uff0c\u90a3\u6211\u6bcf\u6b21\u7528\u51fd\u6570\u52a8\u6001\u521b\u5efa\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u4f60\u4f1a\u600e\u4e48\u5904\u7406\uff1f</p>\\n<pre><code><span class=\\"hljs-comment\\">// createSingleRouterView.js</span>\\n\\nexport  <span class=\\"hljs-keyword\\">default</span> () =&gt; {\\n<span class=\\"hljs-keyword\\">return</span> {\\n  <span class=\\"hljs-keyword\\">data</span> () {\\n    <span class=\\"hljs-keyword\\">return</span> {\\n      keepAliveComponentNames: [], <span class=\\"hljs-comment\\">// \u8bb0\u5f55\u5f00\u542fkeepAlive\u7684\u7ec4\u4ef6\u540d</span>\\n    }\\n  },\\n  watch: {\\n    <span class=\\"hljs-string\\">\'$route\'</span>:  <span class=\\"hljs-string\\">\'checkKeepAlive\'</span>\\n  },\\n  methods: {\\n    checkKeepAlive () { <span class=\\"hljs-comment\\">// \u68c0\u67e5\u662f\u5426\u5f00\u542fkeepAlive</span>\\n      let  matched  =  <span class=\\"hljs-keyword\\">this</span>.$route.matched\\n      let  name\\n      <span class=\\"hljs-keyword\\">try</span> {\\n        name  =  matched[matched.length  -  <span class=\\"hljs-number\\">1</span>].components.<span class=\\"hljs-keyword\\">default</span>.name\\n      } <span class=\\"hljs-keyword\\">catch</span> (error) {\\n        <span class=\\"hljs-keyword\\">return</span>\\n      }\\n      <span class=\\"hljs-keyword\\">if</span> (!name) <span class=\\"hljs-keyword\\">return</span>\\n      <span class=\\"hljs-keyword\\">if</span> (<span class=\\"hljs-keyword\\">this</span>.$route.meta.keepAlive) { <span class=\\"hljs-comment\\">// \u5f00\u542f\u7684\u52a0\u5230keepAliveComponentNames</span>\\n        <span class=\\"hljs-keyword\\">if</span> (!<span class=\\"hljs-keyword\\">this</span>.keepAliveComponentNames.includes(name)) {\\n          <span class=\\"hljs-keyword\\">this</span>.keepAliveComponentNames.push(name)\\n        }\\n      } <span class=\\"hljs-keyword\\">else</span> { <span class=\\"hljs-comment\\">// \u4e0d\u5f00\u542f\u7684\u4ecekeepAliveComponentNames\u53bb\u6389</span>\\n        <span class=\\"hljs-keyword\\">if</span> (<span class=\\"hljs-keyword\\">this</span>.keepAliveComponentNames.includes(name)) {\\n          <span class=\\"hljs-keyword\\">this</span>.keepAliveComponentNames.splice(<span class=\\"hljs-keyword\\">this</span>.keepAliveComponentNames.indexOf(name), <span class=\\"hljs-number\\">1</span>)\\n        }\\n      }\\n    }\\n  },\\n  created () {\\n    <span class=\\"hljs-keyword\\">this</span>.checkKeepAlive()\\n  },\\n  render() {\\n    <span class=\\"hljs-keyword\\">return</span> (\\n      &lt;keep-alive  include={<span class=\\"hljs-keyword\\">this</span>.keepAliveComponentNames}&gt;\\n        &lt;router-view&gt;&lt;/router-view&gt;\\n      &lt;/keep-alive&gt;\\n    )\\n  },\\n}</code></pre><pre><code><span class=\\"hljs-comment\\">// vue-router</span>\\n{\\n  <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/rules-management\'</span>\\n  <span class=\\"hljs-attribute\\">component</span>: createSingleRouterView(),\\n  <span class=\\"hljs-attribute\\">children</span>: [\\n    {\\n      <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/\'</span>\\n      <span class=\\"hljs-attribute\\">meta</span>: {\\n        <span class=\\"hljs-attribute\\">keepAlive</span>: true\\n      },\\n      <span class=\\"hljs-attribute\\">component</span>: rule-list\\n    }.\\n    {\\n      <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/detail\'</span>\\n      <span class=\\"hljs-attribute\\">component</span>: rule-detail\\n    }\\n  ],\\n  <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/violation-management\'</span>\\n  <span class=\\"hljs-attribute\\">component</span>: createSingleRouterView(),\\n  <span class=\\"hljs-attribute\\">children</span>: [\\n    {\\n      <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/\'</span>\\n      <span class=\\"hljs-attribute\\">meta</span>: {\\n        <span class=\\"hljs-attribute\\">keepAlive</span>: true\\n      },\\n      <span class=\\"hljs-attribute\\">component</span>: violation-list\\n    }.\\n    {\\n      <span class=\\"hljs-attribute\\">path</span>: <span class=\\"hljs-string\\">\'/detail\'</span>\\n      <span class=\\"hljs-attribute\\">component</span>: violation-detail\\n    }\\n  ]\\n}</code></pre><p>\u53bb\u9875\u9762\u4e0a\u770b\u4e00\u770b\uff0c\u5217\u8868\u9875\u5230\u8be6\u60c5\u9875\u4f1a\u7f13\u5b58\u5217\u8868\u9875\uff0c\u8df3\u5230\u5176\u4ed6\u8def\u7531\u7684\u5217\u8868\u9875\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684router-view\u7ec4\u4ef6\uff0c\u8fd9\u624d\u662f\u771f\u7684\u7684Perfect\uff01</p>\\n<p>\u603b\u7ed3\uff1a\u5bf9\u4e8e\u5927\u90e8\u5206\u9632\u6b62\u7ec4\u4ef6(\u5143\u7d20)\u590d\u7528\u7684\u60c5\u51b5\u53ef\u4ee5\u7528key\u89e3\u51b3\uff0c\u5982\u679ckey\u89e3\u51b3\u4e0d\u4e86\uff0c\u5c31\u8981\u60f3\u60f3\u5176\u4ed6\u529e\u6cd5\u4e86\uff0c\u52a8\u6001\u521b\u5efa\u7ec4\u4ef6\u4e5f\u8bb8\u662f\u4e2a\u4e0d\u9519\u7684\u9009\u62e9\u3002</p>\\n","title":"Vue \u4e2d\u5982\u4f55\u9632\u6b62\u7ec4\u4ef6 (\u5143\u7d20) \u590d\u7528","tags":["Vue"],"slug":"how-to-prevent-component-(element)-reuse-in-vue","createDate":1569834660000,"id":"how-to-prevent-component-(element)-reuse-in-vue","thumb":"https://images.unsplash.com/photo-1580880983727-c7798441751f?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>\u5546\u54c1\u6709\u4e24\u4e2a\u91cd\u8981\u7684\u6982\u5ff5\uff1aSPU(Standard Product Unit )\u548cSKU(Stock Keeping Unit)\u3002\u901a\u4fd7\u70b9\u8bf4\uff0cSPU\u5c31\u662f\u67d0\u4e2a\u5546\u54c1\uff0c\u6bd4\u5982iPhoneX\u548ciPhoneXR\u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u624b\u673a\uff0c\u4e5f\u662f\u4e24\u4e2aSPU\u3002SKU\u662f\u5546\u54c1\u7684\u5177\u4f53\u578b\u53f7\uff0c\u6bd4\u5982\u201c\u9ed1\u8272-iPhoneX-128G-\u56fd\u884c-\u8054\u901a\u7248\u201d\uff0c\u201c\u767d\u8272-iPhoneX-256G-\u56fd\u884c-\u8054\u901a\u7248\u201d\u5c31\u662fiPhoneX\u8fd9\u4e2aSPU\u7684\u4e24\u4e2aSKU\u3002</p>\\n<p>SKU\u6709\u5f88\u591a\u5c5e\u6027\uff0c\u6bd4\u5982\u4e0a\u8ff0iPhoneX\u7684SKU\u5c5e\u6027\u5c31\u5305\u62ec\u989c\u8272\uff0c\u5bb9\u91cf\u7b49\u7b49\uff0c\u8fd9\u79cd\u5f71\u54cd\u5230\u5e93\u5b58\u548c\u4ef7\u683c\u7684\u5c5e\u6027\u4e5f\u53eb\u9500\u552e\u5c5e\u6027\u3002\u76ee\u524d\u6211\u53f8\u524d\u53f0\u5c55\u793a\u7684\u9500\u552e\u5c5e\u6027\u5c31\u5305\u62ecColor\uff0cSize\uff0cUnit\uff0cQuantity\uff0cType\u7b49\u7b49\u3002\u9664\u4e86\u9500\u552e\u5c5e\u6027\u5916\uff0c\u8fd8\u6709\u5f88\u591a\u5546\u54c1\u7684\u5c5e\u6027\u4e0eSKU\u6709\u5173\uff0c\u6bd4\u5982\u5e93\u5b58\uff0c\u7a0e\u7387\u7b49\u7b49\u3002</p>\\n<p>\u6240\u4ee5\uff0cSKU\u662f\u7535\u5546\u7cfb\u7edf\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u800c\u7f16\u8f91SKU\u4e5f\u662f\u5546\u54c1\u7ba1\u7406\u6700\u6838\u5fc3\u6700\u590d\u6742\u7684\u529f\u80fd\u4e4b\u4e00\u3002</p>\\n","content":"<p>\u5546\u54c1\u6709\u4e24\u4e2a\u91cd\u8981\u7684\u6982\u5ff5\uff1aSPU(Standard Product Unit )\u548cSKU(Stock Keeping Unit)\u3002\u901a\u4fd7\u70b9\u8bf4\uff0cSPU\u5c31\u662f\u67d0\u4e2a\u5546\u54c1\uff0c\u6bd4\u5982iPhoneX\u548ciPhoneXR\u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u624b\u673a\uff0c\u4e5f\u662f\u4e24\u4e2aSPU\u3002SKU\u662f\u5546\u54c1\u7684\u5177\u4f53\u578b\u53f7\uff0c\u6bd4\u5982\u201c\u9ed1\u8272-iPhoneX-128G-\u56fd\u884c-\u8054\u901a\u7248\u201d\uff0c\u201c\u767d\u8272-iPhoneX-256G-\u56fd\u884c-\u8054\u901a\u7248\u201d\u5c31\u662fiPhoneX\u8fd9\u4e2aSPU\u7684\u4e24\u4e2aSKU\u3002</p>\\n<p>SKU\u6709\u5f88\u591a\u5c5e\u6027\uff0c\u6bd4\u5982\u4e0a\u8ff0iPhoneX\u7684SKU\u5c5e\u6027\u5c31\u5305\u62ec\u989c\u8272\uff0c\u5bb9\u91cf\u7b49\u7b49\uff0c\u8fd9\u79cd\u5f71\u54cd\u5230\u5e93\u5b58\u548c\u4ef7\u683c\u7684\u5c5e\u6027\u4e5f\u53eb\u9500\u552e\u5c5e\u6027\u3002\u76ee\u524d\u6211\u53f8\u524d\u53f0\u5c55\u793a\u7684\u9500\u552e\u5c5e\u6027\u5c31\u5305\u62ecColor\uff0cSize\uff0cUnit\uff0cQuantity\uff0cType\u7b49\u7b49\u3002\u9664\u4e86\u9500\u552e\u5c5e\u6027\u5916\uff0c\u8fd8\u6709\u5f88\u591a\u5546\u54c1\u7684\u5c5e\u6027\u4e0eSKU\u6709\u5173\uff0c\u6bd4\u5982\u5e93\u5b58\uff0c\u7a0e\u7387\u7b49\u7b49\u3002</p>\\n<p>\u6240\u4ee5\uff0cSKU\u662f\u7535\u5546\u7cfb\u7edf\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u800c\u7f16\u8f91SKU\u4e5f\u662f\u5546\u54c1\u7ba1\u7406\u6700\u6838\u5fc3\u6700\u590d\u6742\u7684\u529f\u80fd\u4e4b\u4e00\u3002</p>\\n<h2 id=\\"\u4e1a\u52a1\u9700\u6c42\\">\u4e1a\u52a1\u9700\u6c42</h2>\\n<p>Seller Central\u5f00\u653e\u5e73\u53f0\u4e3a\u5370\u5ea6seller\u63d0\u4f9b\u81ea\u4e3b\u53d1\u5e03\u7ba1\u7406\u5546\u54c1\u3001\u7ba1\u7406\u8ba2\u5355\u3001\u7ba1\u7406\u9000\u8d27\u9000\u6b3e\u7b49\u670d\u52a1\uff0c\u5c5e\u4e8e\u6211\u4eec\u76ee\u524d\u6bd4\u8f83\u91cd\u8981\u7684\u5e73\u53f0\u4e1a\u52a1\u3002</p>\\n<p>\u672c\u6587\u4ee5Seller Central\u5728\u7ebf\u5546\u54c1\u7f16\u8f91\u4e3a\u4f8b\u6d45\u8c08\u4e00\u4e0bSKU\u7f16\u8f91\u7ec4\u4ef6\u7684\u5b9e\u73b0\u3002</p>\\n<h2 id=\\"\u4ea7\u54c1\u9700\u6c42\\">\u4ea7\u54c1\u9700\u6c42</h2>\\n<p>\u6700\u521d\u7684prd\u5982\u4e0b\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/seller-sku-prd\\" alt=\\"seller-sku-prd\\"></p>\\n<p>\u53ef\u4ee5\u770b\u5230\u8fd9\u662f\u4e00\u4e2a\u8868\u683c\u7ed3\u6784\uff0c\u6bcf\u884c\u4e00\u4e2asku\u3002\u6211\u4eec\u8981\u5b9e\u73b0\u7684\u529f\u80fd\u662f\uff1a</p>\\n<ol>\\n<li>\u5c55\u793aSKU\u5c5e\u6027\u503c\uff0c\u5e93\u5b58\uff0cSeller Sku(\u552f\u4e00\u6807\u8bc6)\uff0c\u4e0a\u4e0b\u67b6\u72b6\u6001\uff0c\u4e0b\u67b6\u539f\u56e0</li>\\n<li>\u53ef\u7f16\u8f91SKU\u5c5e\u6027\u503c\uff0c\u5e93\u5b58\uff0c\u5e76\u8fdb\u884cSKU\u5c5e\u6027\u683c\u5f0f\u5316\u548c\u8f93\u5165\u503c\u7684\u6821\u9a8c\uff0c\u6821\u9a8c\u9519\u8bef\u4fe1\u606f\u5c55\u793a\u5728\u6bcf\u4e00\u884c\u7684\u6700\u540e\u3002</li>\\n<li>\u652f\u6301\u5355\u4e2aSKU\u4e0a\u4e0b\u67b6</li>\\n<li>\u652f\u6301\u9009\u62e9\u591a\u4e2aSKU\u6279\u91cf\u4e0a\u4e0b\u67b6</li>\\n<li>\u652f\u6301\u65b0\u589eSKU\uff08\u4e0a\u56fe\u672a\u4f53\u73b0\u51fa\u6765\uff09</li>\\n</ol>\\n<p>\u56e0\u4e3a\u8bbe\u8ba1\u7a3f\u89c4\u5b9a\u7684\u4e3b\u4f53\u5185\u5bb9\u533a\u57df\u5bbd\u5ea6\u6709\u9650\uff0c\u4e0d\u80fd\u4e00\u6b21\u5c55\u793a\u8fd9\u4e48\u591a\u5217\uff0c\u56e0\u6b64\u6211\u4eec\u6700\u7ec8\u51b3\u5b9a\u91c7\u7528\u9996\u5c3e\u5217\u56fa\u5b9a\uff0c\u4e2d\u95f4\u90e8\u5206\u53ef\u4ee5\u6eda\u52a8\u6d4f\u89c8\u7684\u5e03\u5c40\u65b9\u5f0f\u3002\u6700\u7ec8\u6548\u679c\u5982\u4e0b\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/seller-sku-demo\\" alt=\\"seller-sku-demo\\"></p>\\n<p>\u590d\u9009\u6846\u4e00\u5217\u548cAction\u662f\u56fa\u5b9a\u7684\uff0c\u4e2d\u95f4\u7684\u5185\u5bb9\u53ef\u6eda\u52a8\u67e5\u770b\u3002</p>\\n<h2 id=\\"\u7ec4\u4ef6\u5212\u5206\\">\u7ec4\u4ef6\u5212\u5206</h2>\\n<p>\u9996\u5148\uff0c\u6211\u4eec\u5bf9\u7ec4\u4ef6\u8fdb\u884c\u4e00\u4e0b\u5206\u5c42\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/seller-table-layout-1\\" alt=\\"seller-table-layout-1\\"></p>\\n<p>\u6211\u4eec\u628aSKU\u7f16\u8f91\u6a21\u5757\u62c6\u6210\u4e86\u4e94\u90e8\u5206\uff1a</p>\\n<ol>\\n<li>Table Header \u8d1f\u8d23\u5c55\u793aSKU\u5c5e\u6027\u540d\uff0cStock\uff0c\u4e0a\u4e0b\u67b6\u72b6\u6001\u7b49\u7b49\u3002</li>\\n<li>Table Body \u5305\u62ecTable Row\u548cAdd Sku\u4e24\u90e8\u5206\u3002</li>\\n<li>Table Row \u8d1f\u8d23\u5355\u4e2aSKU\u7684\u6240\u6709\u4e1a\u52a1\u903b\u8f91\u3002</li>\\n<li>Add Sku \u8d1f\u8d23\u65b0\u589eSKU\u3002</li>\\n<li>Table Footer \u63d0\u4f9b\u5168\u9009\u548c\u6279\u91cf\u4e0a\u4e0b\u67b6\u7684\u529f\u80fd\u3002</li>\\n</ol>\\n<p>\u5bf9\u5e94\u7ec4\u4ef6\u5206\u5c42\uff0c\u6211\u4eec\u7684\u6587\u4ef6\u7ed3\u6784\u5982\u4e0b\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/seller-folder\\" alt=\\"seller-folder\\"></p>\\n<h2 id=\\"ui\u5b9e\u73b0\\">UI\u5b9e\u73b0</h2>\\n<p>\u8fd9\u91cc\u91c7\u7528Table\u6765\u5b9e\u73b0\u9875\u9762\u5e03\u5c40\uff0c\u672c\u6765\u4e00\u5f00\u59cb\u60f3\u7528div\u624b\u52a8\u5b9e\u73b0\uff0c\u56e0\u4e3a\u5404\u79cd\u590d\u6742\u7684\u60c5\u51b5\u53d1\u73b0\u5f88\u96be\u7528div\u53bb\u6a21\u62dftable\uff0c\u4e3a\u4e86\u5b9e\u73b0\u5bf9\u9f50\u6548\u679c\u5bfc\u81f4\u4ee3\u7801\u5f88\u591a\u5f88\u4e71\uff0c\u9042\u653e\u5f03\u6539\u4e3aTable\u3002\u60f3\u4e86\u4e00\u4e0b\u672c\u6765Table\u5c31\u662f\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u79cd\u5e03\u5c40\u7684\uff0c\u6211\u4e3a\u4ec0\u4e48\u8981\u53bb\u8d39\u65f6\u95f4\u7528div\u53bb\u5b9e\u73b0\u5462==\uff01</p>\\n<p>\u8fd9\u91cc\u7684\u96be\u70b9\u4e3b\u8981\u662f\u5b9e\u73b0\u9996\u5c3e\u5217\u56fa\u5b9a\uff0c\u5176\u4ed6\u90fd\u662f\u5e38\u89c4\u64cd\u4f5c\u3002</p>\\n<h3 id=\\"\u5b9e\u73b0\u9996\u5c3e\u5217\u56fa\u5b9a\\">\u5b9e\u73b0\u9996\u5c3e\u5217\u56fa\u5b9a</h3>\\n<p>\u9996\u5c3e\u5217\u56fa\u5b9a\u662f\u901a\u8fc7\u4e09\u4e2atable\u7684\u7ec4\u5408\u6765\u5b9e\u73b0\u7684\uff0c\u4e00\u4e2atable\u6b63\u5e38\u6e32\u67d3\uff0c\u4e00\u4e2a\u5c55\u793a\u9996\u5217\uff0c\u4e00\u4e2a\u5c55\u793a\u5c3e\u5217\uff0c\u8868\u683c\u5217\u7684\u5bbd\u5ea6\u90fd\u662f\u56fa\u5b9a\u7684\uff0c\u4fdd\u8bc1\u4e09\u4e2atable\u5bbd\u5ea6\u4e00\u81f4\u3002</p>\\n<p><img src=\\"https://xiao555.netlify.com/seller-three-table\\" alt=\\"seller-three-table\\"></p>\\n<p>\u9996\u5c3e\u5217\u5b9a\u4f4d\u4e5f\u6709\u5f88\u591a\u65b9\u6cd5\uff0c\u8fd9\u91cc\u5229\u7528table\u5916\u5c42div\u7edd\u5bf9\u5b9a\u4f4d\u5b9e\u73b0\uff0c\u9996\u5217\u7684div left\u4e3a0\uff0c\u5c3e\u5217 right\u4e3a0\uff0c\u5bbd\u5ea6\u5404\u81ea\u4e3a\u9996\u5c3e\u5217\u7684\u5bbd\u5ea6, \u8d85\u51fa\u90e8\u5206\u9690\u85cf\u3002</p>\\n<p>\u5c3e\u5217\u56e0\u4e3a\u8981\u5c55\u793a\u8868\u683c\u7684\u6700\u540e\u4e00\u90e8\u5206\uff0c\u6240\u6709\u5c3e\u5217\u7684table\u4e5f\u901a\u8fc7\u7edd\u5bf9\u5b9a\u4f4d\u4f7f\u8868\u683c\u53f3\u5bf9\u9f50\u3002\u540c\u65f6\uff0c\u7edd\u5bf9\u5b9a\u4f4d\u7684table\u65e0\u6cd5\u6491\u8d77\u5916\u5c42div\u7684\u9ad8\u5ea6\uff0c\u5f53\u8868\u683c\u521d\u6b21\u6e32\u67d3\u6216\u8005\u6570\u636e\u66f4\u65b0\u7684\u65f6\u5019\uff0c\u9700\u8981\u8ba1\u7b97\u4e00\u4e0b\u6b63\u5e38table\u7684\u9ad8\u5ea6\uff0c\u8bbe\u7f6e\u5230\u9996\u5c3e\u5217\u8868\u683c\u5916\u5c42div\u4e0a\u3002</p>\\n<p>\u4e3a\u4e86\u8ba9\u4e2d\u95f4\u7684table\u6eda\u52a8\u8d77\u6765\uff0c\u9700\u8981\u7ed9\u6bcf\u4e00\u5217\u8bbe\u7f6e\u5bbd\u5ea6\uff0c\u5f53\u603b\u5bbd\u5ea6\u8d85\u8fc7\u5916\u5c42div\u7684\u5bbd\u5ea6\uff0ctable\u5c31\u53ef\u4ee5\u6eda\u52a8\u8d77\u6765\u4e86\u3002\u800c\u4e14\u5b9a\u5bbd\u4e5f\u4f7f\u5f97\u4e09\u4e2atable\u7684\u5bbd\u5ea6\u4e00\u81f4\uff0c\u800c\u4e0d\u662f\u6d4f\u89c8\u5668\u6839\u636e\u53ef\u7528\u7a7a\u95f4\u81ea\u52a8\u5206\u914d\u5bbd\u5ea6\u3002\u8fd9\u91cc\u5229\u7528colgroup\u6765\u8bbe\u7f6e\u6bcf\u4e00\u5217\u7684\u5bbd\u5ea6\u3002</p>\\n<p><img src=\\"https://xiao555.netlify.com/seller-table-colgroup.png\\" alt=\\"seller-table-code\\"></p>\\n<h2 id=\\"\u903b\u8f91\u5b9e\u73b0\\">\u903b\u8f91\u5b9e\u73b0</h2>\\n<p>\u6211\u4eec\u4ee5\u6570\u636e\u6d41\u8f6c\u4e3a\u7ebf\u6765\u8bf4\u4e00\u4e0b\u903b\u8f91\u4e0a\u7684\u5b9e\u73b0\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/seller-table-code\\" alt=\\"seller-table-code\\"></p>\\n<p>SkuEdit\u662fSKU\u7f16\u8f91\u7ec4\u4ef6\u7684\u5165\u53e3\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u9996\u5148\u4f1a\u505a\u4e00\u6b21\u6570\u636e\u521d\u59cb\u5316\u5904\u7406\uff0c\u628a\u540e\u53f0\u8fd4\u56de\u7684\u6570\u636e\u5904\u7406\u6210\u6211\u4eec\u9700\u8981\u7684\u4e00\u4e9b\u6570\u636e\uff0c\u5e76\u653e\u5230Vuex\u91cc\u3002Vuex\u662fVue\u9879\u76ee\u91cc\u4e00\u4e2a\u72b6\u6001\u7ba1\u7406\u7684\u5de5\u5177\u3002SKU\u7684\u5404\u4e2aTable\u7ec4\u4ef6\u90fd\u4ece\u8fd9\u91cc\u62ff\u6570\u636e\uff0c\u800c\u6bcf\u4e2a\u7ec4\u4ef6\u91cc\u6570\u636e\u7684\u66f4\u65b0\u4e5f\u4f1a\u63d0\u4ea4\u5230Vuex\u91cc\u540c\u6b65\u5230\u5176\u4ed6\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\uff0c\u4fdd\u8bc1\u4e86\u6570\u636e\u7684\u4e00\u81f4\u6027\uff0c\u4e5f\u4f7f\u5f97\u4e09\u4e2atable\u4ece\u89c6\u56fe\u5230\u6570\u636e\u90fd\u662f\u4e00\u6a21\u4e00\u6837\u7684\uff0c\u8fd9\u6837\u624d\u80fd\u6a21\u62df\u4e00\u4e2a\u9996\u5c3e\u5217\u56fa\u5b9a\u7684\u8868\u683c\u7ed3\u6784\u3002</p>\\n<p>\u8fd9\u91cc\u4e3b\u8981\u8bf4\u4e00\u4e0b\u6570\u636e\u521d\u59cb\u5316\uff0c\u6570\u636e\u683c\u5f0f\u5316\uff0c\u6570\u636e\u6821\u9a8c\u3002</p>\\n<h3 id=\\"\u6570\u636e\u521d\u59cb\u5316\\">\u6570\u636e\u521d\u59cb\u5316</h3>\\n<p>\u524d\u7aef\u62ff\u5230\u7684\u6570\u636e\u7ed3\u6784\u662f\u8fd9\u6837\u7684\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-string\\">\\"skuDTOs\\"</span>: [{\\n    <span class=\\"hljs-string\\">\\"skuId\\"</span>: 100,\\n    <span class=\\"hljs-string\\">\\"active\\"</span>: <span class=\\"hljs-literal\\">false</span>, <span class=\\"hljs-string\\">//</span> \u4e0a\u4e0b\u67b6\u72b6\u6001\\n    <span class=\\"hljs-string\\">\\"stock\\"</span>: -2, <span class=\\"hljs-string\\">//</span> \u5e93\u5b58\\n    <span class=\\"hljs-string\\">\\"taxRate\\"</span>: 0, <span class=\\"hljs-string\\">//</span> \u7a0e\u7387\\n    <span class=\\"hljs-string\\">\\"sellerSku\\"</span>: <span class=\\"hljs-string\\">\\"test_SellerSku1\\"</span>,\\n    <span class=\\"hljs-string\\">\\"offlineReason\\"</span>: <span class=\\"hljs-string\\">\\"\\"</span>,\\n    <span class=\\"hljs-string\\">\\"managerOperation\\"</span>: <span class=\\"hljs-literal\\">false</span>,\\n    <span class=\\"hljs-string\\">\\"attributes\\"</span>: [{ <span class=\\"hljs-string\\">//</span> sku\u5c5e\u6027\\n        <span class=\\"hljs-string\\">\\"attrName\\"</span>: <span class=\\"hljs-string\\">\\"Color\\"</span>,\\n        <span class=\\"hljs-string\\">\\"attrbuteId\\"</span>: 123123,\\n        <span class=\\"hljs-string\\">\\"attrValue\\"</span>: <span class=\\"hljs-string\\">\\"Yellow\\"</span>\\n      },\\n      {\\n        <span class=\\"hljs-string\\">\\"attrName\\"</span>: <span class=\\"hljs-string\\">\\"Size\\"</span>,\\n        <span class=\\"hljs-string\\">\\"attrbuteId\\"</span>: 123124,\\n        <span class=\\"hljs-string\\">\\"attrValue\\"</span>: <span class=\\"hljs-string\\">\\"L\\"</span>\\n      },\\n      {\\n        <span class=\\"hljs-string\\">\\"attrName\\"</span>: <span class=\\"hljs-string\\">\\"Style\\"</span>,\\n        <span class=\\"hljs-string\\">\\"attrbuteId\\"</span>: 123124,\\n        <span class=\\"hljs-string\\">\\"attrValue\\"</span>: <span class=\\"hljs-string\\">\\"Fashion\\"</span>\\n      }\\n    ]\\n  },\\n  <span class=\\"hljs-string\\">...</span>\\n]</code></pre>\\n<p>\u6211\u4eec\u6784\u9020\u4e86\u4e24\u4efd\u6570\u636e\uff1a</p>\\n<ol>\\n<li><code>skuAttribute</code>\u8bb0\u5f55\u4e86SKU\u7ef4\u5ea6\u5c55\u793a\u7f16\u8f91\u7684\u5c5e\u6027\u540d\u53ca\u5176\u5b57\u6bb5\uff0c\u5305\u62ecColor\uff0cSize\uff0cStock\uff0cActive\u7b49\u7b49\u3002\u4f7f\u5f97\u8868\u5934\u6807\u9898\u7684\u5c55\u793a\u548c\u8868\u683c\u4f53\u6570\u636e\u5c55\u793a\u987a\u5e8f\u4e00\u81f4\u3002</li>\\n<li><code>skuList</code>\u5728\u540e\u53f0\u6570\u636e\u7684\u57fa\u7840\u4e0a\u505a\u4e86\u4e00\u4e9b\u5904\u7406\uff0c\u6bd4\u5982\u7edf\u4e00attributes\u4e2d\u5404\u4e2a\u5c5e\u6027\u7684\u987a\u5e8f\uff0c\u589e\u52a0\u4e86\u4e00\u4e9b\u4e1a\u52a1\u4e0a\u9700\u8981\u7684\u5b57\u6bb5\uff0c\u5982<code>fieldValidateStatus</code>\uff08\u8bb0\u5f55\u6821\u9a8c\u72b6\u6001\uff09\uff0c<code>errorMsg</code>\uff08\u8bb0\u5f55\u9519\u8bef\u4fe1\u606f\uff09\u7b49\u3002</li>\\n</ol>\\n<h3 id=\\"\u6570\u636e\u6821\u9a8c\\">\u6570\u636e\u6821\u9a8c</h3>\\n<p>SKU\u7f16\u8f91\u5f88\u91cd\u8981\u7684\u4e00\u70b9\u662f\u5bf9\u6570\u636e\u8fdb\u884c\u6821\u9a8c\uff0c\u786e\u4fdd\u7528\u6237\u8f93\u5165\u662f\u6b63\u786e\u7684\u503c\u3002\u5305\u62ec\u975e\u7a7a\u6821\u9a8c\uff0c\u662f\u5426\u6709\u975e\u6cd5\u5b57\u7b26\uff0c\u6570\u5b57\u8303\u56f4\u6821\u9a8c\u3002\u6821\u9a8c\u6d41\u7a0b\u7684\u7b80\u5316\u7248\u4ee3\u7801\u5982\u4e0b\uff1a</p>\\n<pre><code class=\\"language-javascript\\">&lt;input type=<span class=\\"hljs-string\\">\'text\'</span> @input=<span class=\\"hljs-string\\">\'setValue($event, index, sku, attr)\'</span>&gt;\\n\\n<span class=\\"hljs-comment\\">/**\\n * \u8bbe\u7f6esku\u5b57\u6bb5\u503c\\n * @param {event} event - input or change \u4e8b\u4ef6\\n * @param {number} index - sku\u7d22\u5f15\\n * @param {object} originSku - \u539f\u59cbsku\u6570\u636e\\n * @param {object} attr - \u4fee\u6539\u7684sku\u5c5e\u6027 {label: \'color\'}\\n */</span>\\nsetValue (<span class=\\"hljs-keyword\\">event</span>, index, originSku, attr) {\\n  <span class=\\"hljs-keyword\\">let</span> <span class=\\"hljs-keyword\\">value</span> = <span class=\\"hljs-keyword\\">event</span>.target.<span class=\\"hljs-keyword\\">value</span>\\n  <span class=\\"hljs-keyword\\">let</span> data = { [attr.key]: <span class=\\"hljs-keyword\\">value</span> }\\n  <span class=\\"hljs-comment\\">// \u5982\u679c\u66f4\u6539\u4e86\u503c, \u8bbe\u7f6esku needConfirm\u5c5e\u6027\u4e3atrue</span>\\n  <span class=\\"hljs-keyword\\">if</span> (originSku[attr.key] !== <span class=\\"hljs-keyword\\">value</span>) {\\n    data.needConfirm = <span class=\\"hljs-literal\\">true</span>\\n  }\\n  commit(<span class=\\"hljs-string\\">\'manageProducts/SET_SKU_FIELD\'</span>, { index, data }) <span class=\\"hljs-comment\\">// \u66f4\u65b0Vuex</span>\\n  validateField(attr) <span class=\\"hljs-comment\\">// \u6821\u9a8c</span>\\n}\\n\\n<span class=\\"hljs-comment\\">// validateField\u662f\u6821\u9a8c\u903b\u8f91\u7684\u5165\u53e3\uff0c\u6839\u636e\u6821\u9a8c\u7684\u5b57\u6bb5\u8c03\u4e0d\u540c\u7684\u65b9\u6cd5</span>\\nvalidateField (attr) {\\n  <span class=\\"hljs-keyword\\">switch</span>(attr.label) {\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-string\\">\'stock\'</span>:\\n      validateStock() <span class=\\"hljs-comment\\">// \u6821\u9a8c\u5e93\u5b58</span>\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-string\\">\'Tax Rate(%)\'</span>:\\n      validateTaxRate() <span class=\\"hljs-comment\\">// \u6821\u9a8c\u7a0e\u7387</span>\\n    <span class=\\"hljs-comment\\">// \u7eaf\u5c55\u793a\u7684\u5b57\u6bb5\u4e0d\u505a\u6821\u9a8c</span>\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-string\\">\'seller Sku\'</span>:\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-string\\">\'Status\'</span>:\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-string\\">\'Reason for Inactive\'</span>:\\n      <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-literal\\">true</span>\\n    <span class=\\"hljs-keyword\\">default</span>:\\n      validateSkuAttribute(attr) <span class=\\"hljs-comment\\">// \u6821\u9a8cSKU\u5c5e\u6027</span>\\n  }\\n},</code></pre>\\n<p>\u901a\u8fc7\u7ed1\u5b9ainput\u4e8b\u4ef6\u89e6\u53d1\u6d41\u7a0b\uff0c\u5148\u628a\u6570\u636e\u66f4\u65b0\u5230vuex\u91cc\uff0c\u518d\u6267\u884c\u6821\u9a8c\u3002<code>needConfirm</code>\u662f\u4e2a\u4f18\u5316UX\u7684\u65b9\u6cd5\uff0c\u5982\u679c\u7528\u6237\u7f16\u8f91\u540e\u5fd8\u4e86\u63d0\u4ea4\u5c31\u53bb\u505a\u5176\u4ed6\u64cd\u4f5c\uff0c\u901a\u8fc7\u5224\u65ad\u8fd9\u4e2a\u5b57\u6bb5\u53ef\u4ee5\u63d0\u9192\u7528\u6237\u5148\u628a\u4f60\u7684\u6539\u52a8\u63d0\u4ea4\u4e86\u3002</p>\\n<p>\u5177\u4f53\u6821\u9a8c\u6211\u4eec\u4ee5\u6821\u9a8c\u975e\u6cd5\u5b57\u7b26\u4e3a\u4f8b\uff1a</p>\\n<pre><code class=\\"language-javascript\\">// \u6821\u9a8c\u975e\u6cd5\u5b57\u7b26\\nlet includeInvalidSymbols = validateInvalidSymbols(value)<span class=\\"hljs-built_in\\">\\nif </span>(includeInvalidSymbols.length !== 0) {\\n  this.setSkuField({\\n    errorMsg: `Invalid Symbol <span class=\\"hljs-string\\">\\"${includeInvalidSymbols.join(\' \')}\\"</span>, please<span class=\\"hljs-built_in\\"> check </span>it.`,\\n    fieldValidateStatus: { [attr.key]: true }\\n  })\\n <span class=\\"hljs-built_in\\"> return </span>false\\n}</code></pre>\\n<p><code>validateInvalidSymbols</code>\u662f\u6211\u4eec\u4e00\u4e2a\u6821\u9a8c\u975e\u6cd5\u5b57\u7b26\u7684\u516c\u5171\u5de5\u5177\u51fd\u6570\uff0c\u7528\u5728\u5f88\u591a\u5730\u65b9\uff0c\u8fd4\u56de\u503c\u662f\u975e\u6cd5\u5b57\u7b26\u7ec4\u6210\u7684\u6570\u7ec4\u3002\u5982\u679c\u6570\u7ec4\u957f\u5ea6\u4e0d\u4e3a0\u5219\u8bf4\u660e\u6709\u975e\u6cd5\u5b57\u7b26\u3002\u6211\u4eec\u4f1a\u628a\u975e\u6cd5\u5b57\u7b26\u653e\u5230\u62a5\u9519\u6587\u6848\u91cc\u8d4b\u7ed9\u5f53\u524dSKU\u7684<code>errorMsg</code>\u5b57\u6bb5\uff0c\u5c55\u793a\u5728\u8fd9\u4e00\u884c\u6700\u540e\uff0c\u8fd9\u6837\u7528\u6237\u770b\u6587\u6848\u5c31\u77e5\u9053\u54ea\u4e9b\u662f\u975e\u6cd5\u5b57\u7b26\u3002\u540c\u65f6<code>fieldValidateStatus</code>\u4e5f\u4f1a\u8bb0\u5f55\u5f53\u524d\u5b57\u6bb5\u6821\u9a8c\u4e0d\u901a\u8fc7\u3002\u4f1a\u9ad8\u4eae\u5bf9\u5e94\u7684input\u8f93\u5165\u6846\uff0c\u7528\u6237\u4e5f\u4f1a\u77e5\u9053\u54ea\u91cc\u6821\u9a8c\u5931\u8d25\u4e86\u3002\u8fd9\u4e9b\u4e5f\u662f\u4f18\u5316UX\u7684\u4e00\u4e9b\u5c0f\u65b9\u6cd5\u3002</p>\\n<p>\u53e6\u5916\uff0c\u63d0\u4ea4\u5355\u4e2aSKU\u7f16\u8f91\u548c\u65b0\u589eSKU\u7684\u65f6\u5019\uff0c\u8fd8\u4f1a\u6821\u9a8c\u662f\u5426\u6709\u91cd\u590d\u7684SKU\u5c5e\u6027\u3002\u603b\u4e4b\uff0c\u9700\u8981\u6821\u9a8c\u7684\u60c5\u51b5\u5f88\u591a\uff0c\u4e5f\u590d\u6742\uff0c\u6709\u7684\u6821\u9a8c\u6761\u4ef6\u8ddf\u72b6\u6001\u6709\u5173\u3002\u524d\u7aef\u6821\u9a8c\u4f1a\u5728\u5411\u540e\u7aef\u53d1\u8bf7\u6c42\u4e4b\u524d\u628a\u95ee\u9898\u66b4\u9732\u51fa\u6765\uff0c\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u8bf7\u6c42\u3002\u540e\u7aef\u4e5f\u6709\u515c\u5e95\u7684\u6821\u9a8c\uff0c\u4e00\u8d77\u786e\u4fddSKU\u7f16\u8f91\u529f\u80fd\u6b63\u5e38\u3002</p>\\n<h3 id=\\"\u6570\u636e\u683c\u5f0f\u5316\\">\u6570\u636e\u683c\u5f0f\u5316</h3>\\n<p>\u50cfColor, Size\u8fd9\u4e9bSKU\u5c5e\u6027\uff0c\u7528\u6237\u7f16\u8f91\u4e4b\u540e\uff0c\u524d\u7aef\u4f1a\u8fdb\u884c\u683c\u5f0f\u5316\u5904\u7406\u6bd4\u5982xl -&gt; XL, xxl -&gt; XXL, 2xl -&gt; 2XL, blue white -&gt; Blue White\u7b49\u7b49\u63d0\u5347\u7528\u6237\u4f53\u9a8c\u3002</p>\\n<pre><code class=\\"language-javascript\\">&lt;input type=<span class=\\"hljs-string\\">\'text\'</span> @change=<span class=\\"hljs-string\\">\'formatInputValue(attr)\'</span>&gt;\\n\\n<span class=\\"hljs-comment\\">/**\\n * \u683c\u5f0f\u5316input\u8f93\u5165\u503c\\n * @param {object} attr - \u8981\u6821\u9a8c\u7684\u5c5e\u6027\u5bf9\u8c61 {key: \'color\'}\\n */</span>\\nformatInputValue (attr) {\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">let</span> <span class=\\"hljs-keyword\\">value</span>\\n  <span class=\\"hljs-title\\">switch</span> (<span class=\\"hljs-params\\">attr.key</span>)</span> {\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-string\\">\'stock\'</span>:\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-string\\">\'taxRate\'</span>:\\n      <span class=\\"hljs-keyword\\">value</span> = <span class=\\"hljs-keyword\\">this</span>.sku[attr.key].toString().trim()\\n      <span class=\\"hljs-comment\\">// \u5982\u679c\u975e\u7a7a\u5b57\u7b26\u4e32\u4e14\u53ef\u8f6c\u6570\u5b57\uff0c\u5219\u8f6c\u4e3a\u6570\u5b57\u7c7b\u578b</span>\\n      <span class=\\"hljs-keyword\\">if</span> (<span class=\\"hljs-keyword\\">value</span> !== <span class=\\"hljs-string\\">\'\'</span> &amp;&amp; !isNaN(<span class=\\"hljs-keyword\\">value</span>)) {\\n        <span class=\\"hljs-keyword\\">value</span> = Number(<span class=\\"hljs-keyword\\">value</span>)\\n      }\\n      <span class=\\"hljs-keyword\\">this</span>.$store.commit(<span class=\\"hljs-string\\">\'manageProducts/SET_SKU_FIELD\'</span>, {\\n        index: <span class=\\"hljs-keyword\\">this</span>.index,\\n        data: { [attr.key]: <span class=\\"hljs-keyword\\">value</span> }\\n      })\\n      <span class=\\"hljs-keyword\\">return</span>\\n    <span class=\\"hljs-keyword\\">default</span>:\\n      <span class=\\"hljs-keyword\\">value</span> = formatSkuAttributeValue(<span class=\\"hljs-keyword\\">this</span>.sku.attributes[attr.attrIndex].attrValue.trim())\\n      <span class=\\"hljs-keyword\\">this</span>.$store.commit(\\n        <span class=\\"hljs-string\\">\'manageProducts/SET_SKU_ATTRIBUTES\'</span>,\\n        { index: <span class=\\"hljs-keyword\\">this</span>.index, attrIndex: attr.attrIndex, <span class=\\"hljs-keyword\\">value</span> },\\n      )\\n  }\\n}</code></pre>\\n<p>\u5176\u4e2d<code>formatSkuAttributeValue</code> \u5c31\u662f\u6211\u4eec\u683c\u5f0f\u5316SKU\u5c5e\u6027\u7684\u5de5\u5177\u51fd\u6570\u3002\u8fd9\u91cc\u6709\u4e24\u4e2a\u95ee\u9898\u503c\u5f97\u63a2\u8ba8\uff1a</p>\\n<ol>\\n<li>\u4e3a\u4ec0\u4e48\u4e0d\u662f\u76d1\u542cinput\u4e8b\u4ef6\u800c\u662fchange\u4e8b\u4ef6\uff1finput\u662f\u8f93\u5165\u7684\u65f6\u5019\u5c31\u89e6\u53d1\uff0c\u800cchange\u662f<code>&lt;input&gt;</code>\u5931\u7126\u540e\u624d\u4f1a\u89e6\u53d1\u3002</li>\\n<li>\u50cf\u5e93\u5b58\uff0c\u7a0e\u7387\u8fd9\u4e9b\u6570\u5b57\u4e3a\u4ec0\u4e48\u4e0d\u7528<code>&lt;input type=&#39;number&#39;&gt;</code>\u5904\u7406\uff0c\u683c\u5f0f\u5316\u7684\u65f6\u5019\u8fd8\u8981\u8f6c\u6210\u6570\u5b57\u3002</li>\\n</ol>\\n<p>\u7b2c\u4e00\u4e2a\u95ee\u9898\uff0c\u5176\u5b9e\u4e00\u5f00\u59cb\u7ed1\u5b9a\u7684\u5c31\u662finput\u4e8b\u4ef6\uff0c\u8fd9\u6837\uff0c\u7528\u6237\u8fb9\u8f93\u5165\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u8fdb\u884c\u683c\u5f0f\u5316\uff0c\u8f93\u5165a\u5c31\u4f1a\u53d8\u6210A\u3002\u4f46\u662f\u8fd9\u6837\u6709\u4e2a\u95ee\u9898\uff0c\u5982\u679c\u7528\u6237\u60f3\u8f93\u5165Blue White\uff0c\u56e0\u4e3a\u6211\u5728\u683c\u5f0f\u5316\u7684\u65f6\u5019\u4f1a\u53bb\u9664\u9996\u5c3e\u7a7a\u683c\uff0c\u6240\u4ee5\u7a7a\u683c\u600e\u4e48\u4e5f\u8f93\u4e0d\u8fdb\u53bb(\u5bf9\u4e0d\u8d77\uff0c\u662f\u6211\u5751\u4e86\u4f60\u4eec)\u3002\u6240\u4ee5\u540e\u6765\u6539\u6210\u4e86\u76d1\u542cchange\u4e8b\u4ef6\uff0c\u5f53\u7528\u6237\u8f93\u5165\u5b8c\u6210\u540e\u8fdb\u884cformat\uff0c\u5373\u8f93\u5165<code>blue white</code>\uff0c\u8f93\u5165\u6846\u5931\u7126\u540e\u518d\u683c\u5f0f\u5316\u6210<code>Blue White</code>\u3002</p>\\n<p>\u7b2c\u4e8c\u4e2a\u95ee\u9898\uff0c\u5176\u5b9e\u8bbe\u7f6e<code>type=&#39;number&#39;</code>\u53ea\u662f\u8ba9\u6d4f\u89c8\u5668\u6309\u7167\u6570\u5b57\u7684\u65b9\u5f0f\u6e32\u67d3\u63a7\u4ef6\uff0c\u53ef\u4ee5\u542f\u7528\u5185\u7f6e\u7684\u9a8c\u8bc1\uff0c\u6b65\u8fdb\u7bad\u5934\u7b49\u7b49\u3002\u4f46\u662felement\u7684value\u8fd8\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u5e76\u4e0d\u662f\u6570\u5b57\u3002\u800c\u4e14\u5185\u7f6e\u7684\u9a8c\u8bc1\u867d\u7136\u65b9\u4fbf\uff0c\u4f46\u4e0d\u53ef\u63a7\uff0c\u8fd8\u6709\u8bb8\u591a\u95ee\u9898\uff0c\u6bd4\u5982\u79d1\u5b66\u8ba1\u6570\u6cd5\u7684<code>e</code>\u662f\u53ef\u8f93\u5165\u7684\uff0c\u4f46\u662f\u6211\u4eec\u5e76\u4e0d\u9700\u8981\u3002\u6240\u4ee5\u6211\u4eec\u9009\u62e9\u7528js\u53bb\u63a7\u5236\u8f93\u5165\u800c\u4e0d\u662f\u6d4f\u89c8\u5668\u5185\u7f6e\u7684\u90a3\u4e00\u5957\u3002</p>\\n<h3 id=\\"todo\\">TODO</h3>\\n<p>\u9700\u6c42\u5f00\u53d1\u65f6\u56e0\u4e3a\u4efb\u52a1\u91cd\uff0c\u65f6\u95f4\u7d27\uff0c\u5199\u5b8c\u4e4b\u540e\u8fd8\u662f\u611f\u89c9\u6709\u5f88\u591a\u53ef\u4ee5\u4f18\u5316\u7684\u5730\u65b9\uff0c\u53ea\u662f\u4e00\u76f4\u6ca1\u65f6\u95f4\u770b\u3002\u5199\u8fd9\u7bc7\u6587\u7ae0\u7684\u65f6\u5019\u5c31\u53d1\u73b0\u4e86\u51e0\u5904\uff1a</p>\\n<ol>\\n<li>TableHeader\u548cTableBody\u662f\u5206\u5f00\u5199\u5728\u4e24\u4e2aTable\u91cc\u7684\uff0c\u5916\u5c42div\u548ctable\u4e4b\u524d\u5176\u5b9e\u8fd8\u6709\u4e24\u4e2adiv\uff0c\u4e00\u4e2a\u5305\u542bheader\u7684table\uff0c\u4e00\u4e2a\u5305\u542bbody\u7684table\u3002\u6211\u5c31\u5728\u60f3\uff0c\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u5b9e\u73b0\u6765\u7740\uff0c\u597d\u50cf\u6ca1\u4ec0\u4e48\u7406\u7531\u3002\u6211\u5c31\u8bd5\u4e86\u4e00\u4e0b\u5199\u5728\u540c\u4e00\u4e2atable\u91cc\uff0c\u53d1\u73b0\u53ef\u884c\uff0c\u800c\u4e14\u7701\u6389\u4e86\u4e0d\u5c11\u4ee3\u7801...</li>\\n<li>TableRow\u91cc\u7684input\u8f93\u5165\u6846\uff0cbutton\u64cd\u4f5c\u6309\u94ae\u7b49\u7b49\u5176\u5b9e\u662f\u5199\u5728TableBody\u91cc\u901a\u8fc7slot\u4f20\u8fdb\u53bb\u7684\u3002\u4e3a\u4ec0\u4e48\u4e0d\u76f4\u63a5\u5199\u5230TableRow\u91cc\u5462\uff0c\u8fd9\u6837\u5bfc\u81f4TableBody\u91cc\u878d\u5408\u4e86\u4e0d\u5c11\u4e1a\u52a1\u903b\u8f91\uff0c\u5206\u5c42\u4e0d\u660e\u786e\u3002\u6211\u4eec\u7684\u7ec4\u4ef6\u5206\u5c42\u8bbe\u8ba1\u4e0aTableHeader\u548cTableBody\u5e94\u8be5\u662f\u5c3d\u91cf\u53ea\u8d1f\u8d23\u5e03\u5c40\uff0c\u5355\u4e2aSKU\u64cd\u4f5c\u7684\u4e1a\u52a1\u903b\u8f91\u653e\u5728TableRow\u91cc\u3002Slot\u7684\u65b9\u5f0f\u4e5f\u589e\u52a0\u4e86\u903b\u8f91\u590d\u6742\u5ea6\u3002</li>\\n</ol>\\n<p>\u5f53\u7136\uff0c\u6709\u65f6\u95f4\u7684\u8bdd\u53ef\u4ee5\u4f18\u5316\u4e00\u4e0b\u3002</p>\\n<h2 id=\\"\u603b\u7ed3\\">\u603b\u7ed3</h2>\\n<p>SKU\u7f16\u8f91\u8fd8\u662f\u5f88\u590d\u6742\u7684\uff0c\u4e5f\u6709\u5f88\u591aUX\u4f18\u5316\u548c\u7ec6\u8282\uff0c\u8fd9\u91cc\u5c31\u7b80\u5355\u8bf4\u4e86\u4e00\u4e0b\u3002\u5176\u5b9eSKU\u7ef4\u5ea6\u7684\u6bcf\u4e00\u4e2a\u5b57\u6bb5\u90fd\u53ef\u4ee5\u6709\u4e00\u5806\u4e1a\u52a1\u903b\u8f91\u3002\u6bd4\u5982\u6700\u8fd1\uff0c\u5bf9\u978b\u7c7b\u5546\u54c1\u7684Size\u5c5e\u6027\u8fdb\u884c\u5c3a\u7801\u8f6c\u6362\u7684\u9700\u6c42\uff0c\u5c31\u57fa\u4e8e\u7c7b\u76ee\uff0c\u5c3a\u7801\uff0c\u5c3a\u7801\u5355\u4f4d\u52a0\u4e86\u4e00\u5806\u903b\u8f91\u3002\u6240\u4ee5\uff0c\u50cf\u8fd9\u6837\u7684\u4e1a\u52a1\u7ec4\u4ef6\uff0c\u4e5f\u8981\u8003\u8651\u53ef\u6269\u5c55\u6027\u3002\u56e0\u4e3a\u4e1a\u52a1\u662f\u8981\u4e0d\u65ad\u6ee1\u8db3\u9700\u6c42\u7684\uff0c\u9700\u6c42\u53c8\u662f\u6c38\u8fdc\u4e0d\u53ef\u80fd\u6ee1\u8db3\u7684\u3002</p>\\n<p>\u7b2c\u4e00\u6b21\u5199\u4e1a\u52a1\u7ec4\u4ef6\uff0c\u5f88\u7d27\u5f20\uff0c\u591a\u591a\u6307\u6559\uff01</p>\\n","title":"\u6d45\u8c08 SKU \u7f16\u8f91\u7ec4\u4ef6\u7684\u5b9e\u73b0","tags":["SKU"],"slug":"on-the-implementation-of-sku-editing-components","createDate":1559552460000,"id":"on-the-implementation-of-sku-editing-components","thumb":"https://images.unsplash.com/photo-1580843527464-30b0d5e8dbbb?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p><a href=\\"https://cli.vuejs.org/zh/\\">Vue Cli 3</a>\u53d1\u5e03\u4e86UI\u529f\u80fd\uff0c\u80fd\u591f\u5728\u6d4f\u89c8\u5668\u4e0a\u8bbf\u95ee\u672c\u5730\u7684Vue Cli\u521b\u5efa\u7684\u9879\u76ee\uff0c\u5b89\u88c5\u4f9d\u8d56\uff0c\u8fd0\u884cnpm script\u7b49\u7b49\uff0c\u5341\u5206\u5f3a\u5927\u3002\u81ea\u5df1\u5728\u5347\u7ea7<a href=\\"https://github.com/xiao555/mock-server\\">mock-server</a>\u7684\u65f6\u5019\uff0c\u4e5f\u5e0c\u671b\u6709\u4e00\u4e2a\u6d4f\u89c8\u5668\u754c\u9762\u8bbf\u95ee\u672c\u5730\u7684mock\u914d\u7f6e\u6587\u4ef6\u3002</p>\\n","content":"<p><a href=\\"https://cli.vuejs.org/zh/\\">Vue Cli 3</a>\u53d1\u5e03\u4e86UI\u529f\u80fd\uff0c\u80fd\u591f\u5728\u6d4f\u89c8\u5668\u4e0a\u8bbf\u95ee\u672c\u5730\u7684Vue Cli\u521b\u5efa\u7684\u9879\u76ee\uff0c\u5b89\u88c5\u4f9d\u8d56\uff0c\u8fd0\u884cnpm script\u7b49\u7b49\uff0c\u5341\u5206\u5f3a\u5927\u3002\u81ea\u5df1\u5728\u5347\u7ea7<a href=\\"https://github.com/xiao555/mock-server\\">mock-server</a>\u7684\u65f6\u5019\uff0c\u4e5f\u5e0c\u671b\u6709\u4e00\u4e2a\u6d4f\u89c8\u5668\u754c\u9762\u8bbf\u95ee\u672c\u5730\u7684mock\u914d\u7f6e\u6587\u4ef6\u3002</p>\\n<p>\u90a3\u4e48\u600e\u4e48\u5b9e\u73b0\u6d4f\u89c8\u5668\u7aef\u8bbf\u95ee\u672c\u5730\u6587\u4ef6\u5462\uff1f\u9996\u5148\u60f3\u5230\u7684\u662fNode\u7684fs\u6a21\u5757\uff0c\u5b83\u63d0\u4f9b\u4e86API\u53ef\u4ee5\u8bbf\u95ee\u672c\u5730\u7684\u6587\u4ef6\u3002\u53ef\u662f\u80fd\u5728\u6d4f\u89c8\u5668\u7aef\u4f7f\u7528fs\u6a21\u5757\u5417\uff1f\u5f53\u7136\u4e0d\u80fd\uff0c\u4e0d\u7136\u4e5f\u592a\u4e0d\u5b89\u5168\u4e86\uff0c\u968f\u4fbf\u4e00\u4e2a\u7f51\u7ad9\u90fd\u80fd\u8bbf\u95ee\u672c\u5730\u7684\u6587\u4ef6...</p>\\n<p>\u4e8e\u662f\u7814\u7a76\u4e86\u4e00\u4e0bVue Cli 3\u7684\u505a\u6cd5\uff0c\u53d1\u73b0\u4ed6\u662f\u672c\u5730\u5f00\u542f\u4e00\u4e2aNode\u670d\u52a1\uff0c\u8bbf\u95ee\u672c\u5730\u7684\u6587\u4ef6\uff0c\u901a\u8fc7GraphQL\u6765\u4e0e\u524d\u7aef\u901a\u4fe1\u3002\u8fd9\u6837\u5c31\u5b9e\u73b0\u4e86\u524d\u7aef\u8bbf\u95ee\u672c\u5730\u7684\u6587\u4ef6\u7cfb\u7edf\u3002</p>\\n<p>\u8bdd\u4e0d\u591a\u8bf4\uff0c\u600e\u4e48\u53bb\u5b9e\u73b0\u8fd9\u6837\u4e00\u4e2aGraphQL\u670d\u52a1\u5462\uff1f    \u4e3a\u4e86\u65b9\u4fbf\u5f00\u53d1\uff0c\u6211\u4eec\u4f7f\u7528<a href=\\"https://github.com/apollographql/apollo-server\\">apollo-server</a>\u6765\u5b9e\u73b0graphQL\u670d\u52a1\u3002\u4f17\u6240\u5468\u77e5\uff0cGraphQL\u662f\u4e00\u4e2a\u4f7f\u7528\u57fa\u4e8e\u7c7b\u578b\u7cfb\u7edf\u6765\u6267\u884c\u67e5\u8be2\u7684\u670d\u52a1\u7aef\u8fd0\u884c\u65f6\u3002\u6211\u4eec\u9700\u8981\u5b9a\u4e49\u5176\u6570\u636e\u7c7b\u578b\u548c\u76f8\u5e94\u7684\u89e3\u6790\u51fd\u6570\uff0c\u5bf9\u5e94apollo-server\u4e0a\u5c31\u662ftypeDefs\u548cresolvers\u3002\\n\u5bf9\u4e8e\u6587\u4ef6\u7c7b\u578b\uff0c\u6211\u4eec\u5b9a\u4e49\u5982\u4e0b\uff1a</p>\\n<pre><code class=\\"language-javascript\\">exports.types  =  gql`\\n\\n   <span class=\\"hljs-built_in\\"> type </span> Folder {\\n\\n        name: String!\\n\\n        path: String!\\n\\n        children: [Folder]\\n\\n        hidden: Boolean\\n\\n        isDirectory: Boolean\\n\\n        isMockConfig: Boolean\\n\\n    }\\n\\n   <span class=\\"hljs-built_in\\"> type </span> Query {\\n\\n        folderCurrent: Folder\\n\\n    }\\n\\n   <span class=\\"hljs-built_in\\"> type </span> Mutation {\\n\\n        folderOpen(path: String!): Folder\\n\\n        folderOpenParent: Folder\\n\\n        getMockConfig(path: String!): [MockItem]\\n\\n    }\\n\\n`</code></pre>\\n<p>\u5176\u4e2dFolder\u662f\u6211\u4eec\u5b9a\u4e49\u7684\u7c7b\u578b\uff0cQuery\u548cMutation\u662f\u67e5\u8be2\u548c\u53d8\u66f4\uff0c\u7c7b\u4f3c\u4e8eGET\u8bf7\u6c42\u548cPOST\u8bf7\u6c42\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u5176\u5b57\u6bb5\u548c\u8fd4\u56de\u7684\u6570\u636e\u7c7b\u578b\u3002\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u76f8\u5f53\u4e8e\u4e00\u5171\u6709\u4e09\u4e2a\u63a5\u53e3\uff0c\u67e5\u8be2\u5f53\u524d\u76ee\u5f55\uff0c\u6253\u5f00\u6307\u5b9a\u76ee\u5f55\uff0c\u6253\u5f00\u4e0a\u5c42\u76ee\u5f55\u3002\u63a5\u4e0b\u6765\u5c31\u662f\u5b9e\u73b0\u4ed6\u4eec\u7684\u89e3\u6790\u51fd\u6570\u4e86\uff1a</p>\\n<pre><code class=\\"language-javascript\\">exports.resolves  = {\\n\\n    Folder: {\\n\\n        children: <span class=\\"hljs-function\\"> <span class=\\"hljs-params\\">_folder</span>  =&gt;</span>  folder.<span class=\\"hljs-built_in\\">list</span><span class=\\"hljs-constructor\\">Children(<span class=\\"hljs-params\\">_folder</span>.<span class=\\"hljs-params\\">path</span>)</span>\\n\\n    },\\n\\n    Query: {\\n\\n        folderCurrent:<span class=\\"hljs-function\\"> <span class=\\"hljs-params\\">()</span> =&gt;</span>  folder.get<span class=\\"hljs-constructor\\">Current()</span>\\n\\n    },\\n\\n    Mutation: {\\n\\n        folderOpen:<span class=\\"hljs-function\\"> (<span class=\\"hljs-params\\">root</span>, { <span class=\\"hljs-params\\">path</span> }) =&gt;</span>  folder.<span class=\\"hljs-keyword\\">open</span>(path),\\n\\n        folderOpenParent:<span class=\\"hljs-function\\"> <span class=\\"hljs-params\\">()</span> =&gt;</span>  folder.<span class=\\"hljs-keyword\\">open</span><span class=\\"hljs-constructor\\">Parent(<span class=\\"hljs-params\\">cwd</span>.<span class=\\"hljs-params\\">get</span>()</span>),\\n\\n        getMockConfig:<span class=\\"hljs-function\\"> (<span class=\\"hljs-params\\">root</span>, { <span class=\\"hljs-params\\">path</span> }) =&gt;</span>  folder.get<span class=\\"hljs-constructor\\">MockConfig(<span class=\\"hljs-params\\">path</span>)</span>\\n\\n    }\\n\\n}</code></pre>\\n<p>folder\u90e8\u5206\u5b9e\u73b0\u5982\u4e0b\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">const</span>  generateFolder  =  <span class=\\"hljs-keyword\\">file</span>  =&gt; {\\n\\n    <span class=\\"hljs-keyword\\">return</span> {\\n\\n        name:  path.basename(<span class=\\"hljs-keyword\\">file</span>),\\n\\n        path:  <span class=\\"hljs-keyword\\">file</span>\\n\\n    }\\n\\n}\\n\\n<span class=\\"hljs-keyword\\">const</span>  listChildren  =  <span class=\\"hljs-keyword\\">file</span>  =&gt; {\\n\\n    <span class=\\"hljs-keyword\\">const</span>  files  =  fs.readdirSync(<span class=\\"hljs-keyword\\">file</span>, \'utf8\')\\n\\n    <span class=\\"hljs-keyword\\">return</span>  files.map(<span class=\\"hljs-keyword\\">file</span>  =&gt; {\\n\\n        <span class=\\"hljs-keyword\\">const</span>  fullPath  =  path.join(cwd.<span class=\\"hljs-built_in\\">get</span>(), <span class=\\"hljs-keyword\\">file</span>)\\n\\n        <span class=\\"hljs-keyword\\">return</span> {\\n\\n            path:  fullPath,\\n\\n            name:  <span class=\\"hljs-keyword\\">file</span>,\\n\\n            hidden:  isHidden(fullPath),\\n\\n            isDirectory:  isDirectory(fullPath),\\n\\n            isMockConfig:  isMockConfig(fullPath)\\n\\n        }\\n\\n    })\\n\\n}\\n\\n<span class=\\"hljs-keyword\\">const</span>  getCurrent  = () =&gt; {\\n\\n    <span class=\\"hljs-keyword\\">const</span>  base  =  cwd.<span class=\\"hljs-built_in\\">get</span>()\\n\\n    <span class=\\"hljs-keyword\\">return</span>  generateFolder(base)\\n\\n}\\n\\n<span class=\\"hljs-keyword\\">const</span>  <span class=\\"hljs-keyword\\">open</span>  =  <span class=\\"hljs-keyword\\">file</span>  =&gt; {\\n\\n    cwd.<span class=\\"hljs-keyword\\">set</span>(<span class=\\"hljs-keyword\\">file</span>)\\n\\n    <span class=\\"hljs-keyword\\">return</span>  generateFolder(cwd.<span class=\\"hljs-built_in\\">get</span>())\\n\\n}\\n\\n<span class=\\"hljs-keyword\\">const</span>  openParent  =  <span class=\\"hljs-keyword\\">file</span>  =&gt; {\\n\\n    <span class=\\"hljs-keyword\\">const</span>  newFile  =  path.dirname(<span class=\\"hljs-keyword\\">file</span>)\\n\\n    cwd.<span class=\\"hljs-keyword\\">set</span>(newFile)\\n\\n    <span class=\\"hljs-keyword\\">return</span>  generateFolder(cwd.<span class=\\"hljs-built_in\\">get</span>())\\n\\n}</code></pre>\\n<p>cwd\u662f\u8bb0\u5f55\u5f53\u524d\u76ee\u5f55\u7684\u4e00\u4e2a\u5bf9\u8c61\uff0c\u9ed8\u8ba4\u662fnode\u8fdb\u7a0b\u7684\u5f53\u524d\u76ee\u5f55\u3002\u67e5\u8be2\u5f53\u524d\u76ee\u5f55\u5c31\u662f\u8fd4\u56decwd\u76ee\u5f55\u7684\u5404\u4e2a\u5b57\u6bb5\uff0c\u6253\u5f00\u6307\u5b9a\u76ee\u5f55\u5c31\u662f\u8bbe\u7f6ecwd\u4e3a\u6307\u5b9a\u76ee\u5f55\uff0c\u6253\u5f00\u4e0a\u5c42\u76ee\u5f55\u5c31\u662f\u8bbe\u7f6ecwd\u4e3acwd\u7684\u4e0a\u5c42\u76ee\u5f55\u3002</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">let</span>  cwd  =  process.cwd()\\n\\n\\nmodule.exports  = {\\n\\n    ge<span class=\\"hljs-variable\\">t:</span> () =&gt;  cwd,\\n\\n    <span class=\\"hljs-keyword\\">se</span><span class=\\"hljs-variable\\">t:</span>  <span class=\\"hljs-keyword\\">file</span>  =&gt; {\\n\\n        <span class=\\"hljs-keyword\\">file</span>  =  normalize(<span class=\\"hljs-keyword\\">file</span>)\\n\\n        <span class=\\"hljs-keyword\\">if</span> (!fs.existsSync(<span class=\\"hljs-keyword\\">file</span>)) <span class=\\"hljs-keyword\\">return</span>\\n\\n        cwd  =  <span class=\\"hljs-keyword\\">file</span>\\n\\n    }\\n\\n}</code></pre>\\n<p>\u7136\u540e\uff0c\u901a\u8fc7\u4e2d\u95f4\u4ef6\u7684\u5f62\u5f0f\u6302\u8f7d\u5230express\u670d\u52a1\u4e0a\uff0c\u6211\u4eec\u7684GraphQL\u5c31\u642d\u5efa\u6210\u529f\u4e86\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">const</span> express = <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'express\'</span>)\\n<span class=\\"hljs-keyword\\">const</span> { ApolloServer } = <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'apollo-server-express\'</span>)\\n<span class=\\"hljs-keyword\\">const</span> typeDefs = <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'./graphql/type-defs\'</span>)\\n<span class=\\"hljs-keyword\\">const</span> resolvers = <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'./graphql/resolves\'</span>)\\n<span class=\\"hljs-keyword\\">const</span> app = express()\\n\\n<span class=\\"hljs-keyword\\">const</span> server = <span class=\\"hljs-keyword\\">new</span> ApolloServer({ typeDefs, resolvers })\\nserver.applyMiddleware({ app })\\n\\napp.listen(port, host)</code></pre>\\n<p>apollo-server \u5185\u7f6e\u4e86GraphQL Playground\uff0c\u6211\u4eec\u53ef\u4ee5\u68c0\u67e5\u914d\u7f6e\u662f\u5426\u6b63\u786e\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/graphql-playground.png\\" alt=\\"graphql-playground.png\\"></p>\\n<p>\u8fd9\u6bb5\u67e5\u8be2\u7684\u610f\u601d\u662f\u6211\u4eec\u8981\u83b7\u53d6\u5f53\u524d\u76ee\u5f55\u7684children\u5b57\u6bb5\uff0c\u56e0\u4e3achildren\u8fd4\u56de\u7684\u662ffolder\u7ec4\u6210\u7684\u6570\u7ec4\uff0c\u6211\u4eec\u6307\u5b9a\u9700\u8981\u6bcf\u4e2afolder\u7684name\u548cpath\uff0c\u7ed3\u679c\u5c31\u8fd4\u56de\u4e86\u6bcf\u4e2a\u5b50\u76ee\u5f55/\u6587\u4ef6\u7684name\u548cpath\u3002    GraphQL\u7684\u597d\u5904\u5c31\u662f\u6211\u4eec\u5728\u5b9a\u4e49\u4e86\u7c7b\u578b\u4e4b\u540e\uff0c\u524d\u7aef\u9700\u8981\u4ec0\u4e48\u5b57\u6bb5\u540e\u53f0\u5c31\u8fd4\u56de\u4ec0\u4e48\u5b57\u6bb5\uff0c\u4e0d\u9700\u8981\u624b\u52a8\u5904\u7406\u3002\u7f3a\u70b9\u5c31\u662f\u6bd4\u8f83\u4e0d\u5bb9\u6613\u7406\u89e3\uff0c\u5b9a\u4e49\u7c7b\u578b\u9ebb\u70e6\uff0c\u4e0d\u8fc7\u4e5f\u662f\u4e00\u52b3\u6c38\u9038\u3002</p>\\n<p>\u6574\u4e2a\u6587\u4ef6\u8bbf\u95ee\u5668\u6700\u7ec8\u6548\u679c\u5982\u4e0b\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/mock-server-ui.png\\" alt=\\"mock-server-ui.png\\"></p>\\n<p>\u9879\u76ee\u5730\u5740\uff1a<a href=\\"https://github.com/xiao555/mock-server/tree/master/ui\\">https://github.com/xiao555/mock-server/tree/master/ui</a></p>\\n","title":"\u7528 GraphQL \u5199\u4e00\u4e2a\u672c\u5730\u6587\u4ef6\u8bbf\u95ee\u5668","tags":["GraphQL"],"slug":"writing-a-local-file-accessor-with-graphql","createDate":1554065280000,"id":"writing-a-local-file-accessor-with-graphql","thumb":"https://images.unsplash.com/photo-1581147378940-fe40824303b9?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<h3 id=\\"\u7b80\u4ecb\\">\u7b80\u4ecb</h3>\\n<p>cf-mock-server \u662f\u76ee\u524d\u524d\u7aef\u4e8c\u7ec4\u6b63\u5728\u4f7f\u7528\u7684mock\u6570\u636e\u89e3\u51b3\u65b9\u6848\uff0c\u4f7f\u5f97\u524d\u7aef\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u53ef\u81ea\u5b9a\u4e49\u63a5\u53e3\u6570\u636e\uff0c\u4e0d\u4f9d\u8d56\u540e\u7aef\u670d\u52a1\uff0c\u4fee\u6539\u6570\u636e\u70ed\u66f4\u65b0\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5730\u6d4b\u8bd5\u4e0d\u540c\u60c5\u51b5\u7684\u6570\u636e\uff0c\u63d0\u9ad8\u4e86\u5f00\u53d1\u6548\u7387\u3002</p>\\n<p>\u5728\u8bbe\u8ba1\u4e0a\uff0c\u65e2\u53ef\u4ee5\u5355\u72ec\u8dd1\u4e00\u4e2aNode\u670d\u52a1\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u4e2d\u95f4\u4ef6\u6302\u8f7d\u5230\u5176\u4ed6\u670d\u52a1\u4e0a\uff0c\u589e\u5f3a\u4e86\u53ef\u6269\u5c55\u6027\u3002\u6709\u6bd4\u8f83\u5b8c\u5584\u7684\u6d4b\u8bd5\u7528\u4f8b\uff0c\u5bf9\u6838\u5fc3\u7684\u4e2d\u95f4\u4ef6\u4ee3\u7801\u548c\u5de5\u5177\u7c7b\u51fd\u6570\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\uff0c\u8986\u76d6\u738799%\u3002\u76ee\u524d\u653e\u5728\u4e2a\u4eba<a href=\\"https://github.com/xiao555/mock-server\\">Github</a>\u4e0a\u7ef4\u62a4\uff0c\u5e76\u642d\u914d<a href=\\"https://travis-ci.org/xiao555/mock-server\\">Travis Ci</a>\u90e8\u7f72\u4e86\u6301\u7eed\u96c6\u6210\u73af\u5883\uff0c\u6b22\u8fcestar\u3002</p>\\n","content":"<h3 id=\\"\u7b80\u4ecb\\">\u7b80\u4ecb</h3>\\n<p>cf-mock-server \u662f\u76ee\u524d\u524d\u7aef\u4e8c\u7ec4\u6b63\u5728\u4f7f\u7528\u7684mock\u6570\u636e\u89e3\u51b3\u65b9\u6848\uff0c\u4f7f\u5f97\u524d\u7aef\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u53ef\u81ea\u5b9a\u4e49\u63a5\u53e3\u6570\u636e\uff0c\u4e0d\u4f9d\u8d56\u540e\u7aef\u670d\u52a1\uff0c\u4fee\u6539\u6570\u636e\u70ed\u66f4\u65b0\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5730\u6d4b\u8bd5\u4e0d\u540c\u60c5\u51b5\u7684\u6570\u636e\uff0c\u63d0\u9ad8\u4e86\u5f00\u53d1\u6548\u7387\u3002</p>\\n<p>\u5728\u8bbe\u8ba1\u4e0a\uff0c\u65e2\u53ef\u4ee5\u5355\u72ec\u8dd1\u4e00\u4e2aNode\u670d\u52a1\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u4e2d\u95f4\u4ef6\u6302\u8f7d\u5230\u5176\u4ed6\u670d\u52a1\u4e0a\uff0c\u589e\u5f3a\u4e86\u53ef\u6269\u5c55\u6027\u3002\u6709\u6bd4\u8f83\u5b8c\u5584\u7684\u6d4b\u8bd5\u7528\u4f8b\uff0c\u5bf9\u6838\u5fc3\u7684\u4e2d\u95f4\u4ef6\u4ee3\u7801\u548c\u5de5\u5177\u7c7b\u51fd\u6570\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\uff0c\u8986\u76d6\u738799%\u3002\u76ee\u524d\u653e\u5728\u4e2a\u4eba<a href=\\"https://github.com/xiao555/mock-server\\">Github</a>\u4e0a\u7ef4\u62a4\uff0c\u5e76\u642d\u914d<a href=\\"https://travis-ci.org/xiao555/mock-server\\">Travis Ci</a>\u90e8\u7f72\u4e86\u6301\u7eed\u96c6\u6210\u73af\u5883\uff0c\u6b22\u8fcestar\u3002</p>\\n<h3 id=\\"features\\">Features</h3>\\n<ul>\\n<li>\u652f\u6301\u4e2d\u95f4\u4ef6\u65b9\u5f0f\u6302\u8f7d\u670d\u52a1\uff0c\u53ef\u7528\u4e8eExpress\u548cKoa\u642d\u5efa\u7684Node\u670d\u52a1</li>\\n<li>\u652f\u6301\u5355\u72ec\u5f00\u542f\u4e00\u4e2aKoa\u670d\u52a1\u63d0\u4f9bmock\u6570\u636e</li>\\n<li>\u652f\u6301\u547d\u4ee4\u884c\u65b9\u5f0f\u542f\u52a8\u670d\u52a1</li>\\n<li>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u70ed\u66f4\u65b0</li>\\n<li>\u652f\u6301\u81ea\u5b9a\u4e49Response Header</li>\\n<li>\u652f\u6301\u8bf7\u6c42\u53c2\u6570\u914d\u7f6e\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f</li>\\n<li>\u652f\u6301\u8bf7\u6c42\u53c2\u6570\u4e0d\u5b8c\u5168\u5339\u914d</li>\\n<li>\u652f\u6301RESTful\u98ce\u683c\u7684API</li>\\n<li>\u652f\u6301\u8bf7\u6c42\u8def\u5f84\u7684\u6a21\u7cca\u5339\u914d</li>\\n</ul>\\n<h3 id=\\"\u4ee3\u7801\\">\u4ee3\u7801</h3>\\n<p>\u9879\u76ee\u4ee3\u7801\u7ed3\u6784\uff1a</p>\\n<pre><code>.\\n|<span class=\\"hljs-string\\">__lib\\n</span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\">__middleware // node \u4e2d\u95f4\u4ef6\\n</span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\">__index.js\\n</span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\">__parse.js\\n</span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\">__match.js\\n</span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\">__server // node server\\n</span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\">__koa.js\\n</span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\">__utils // \u5de5\u5177\u7c7b\\n</span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\">__log.js\\n</span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\">__index.js\\n</span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\">__error.js\\n</span>|<span class=\\"hljs-string\\">__test // \u6d4b\u8bd5\\n</span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\">__expressMiddleware.test.js\\n</span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\">__utils.test.js\\n</span>|<span class=\\"hljs-string\\"> </span>|<span class=\\"hljs-string\\">__koaMiddleware.test.js</span></code></pre><p><code>middleware</code> \u4e2d\u7684<code>index.js</code>\u63d0\u4f9b\u4e86express\u548ckoa\u7684\u4e2d\u95f4\u4ef6\u63a5\u53e3\uff0c\u4ee5express\u4e3a\u4f8b\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/8c7507eb7f974280b065655bc792b10e_carbon1.png\\" alt=\\"8c7507eb7f974280b065655bc792b10e_carbon1.png\\"></p>\\n<p>\u800c<code>parse.js</code> \u8d1f\u8d23\u5728\u6ce8\u518c\u4e2d\u95f4\u4ef6\u524d\u5c06\u7528\u6237\u7684API\u914d\u7f6e\u5904\u7406\u6210\u6211\u4eec\u9700\u8981\u7684\u683c\u5f0f\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/e3fbe97347384eb98a3a9723d7bf16c1_carbon2.png\\" alt=\\"e3fbe97347384eb98a3a9723d7bf16c1_carbon2.png\\"></p>\\n<p><code>match.js</code> \u5219\u662f\u5f53\u8bf7\u6c42\u7ecf\u8fc7\u4e2d\u95f4\u4ef6\u65f6\uff0c\u53bb\u5339\u914d\u6211\u4eec\u5904\u7406\u8fc7\u7684API\u914d\u7f6e\uff0c\u627e\u5230\u5bf9\u5e94\u7684value\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/7c5cd19c5fc4434cbd5af6b8d7a48cf9_carbon3.png\\" alt=\\"7c5cd19c5fc4434cbd5af6b8d7a48cf9_carbon3.png\\"></p>\\n<p>\u7136\u540e\u5bf9value\u8fdb\u884c\u89e3\u6790\uff0c\u5982\u679c\u662f\u6587\u4ef6\u8def\u5f84\u5219\u8fd4\u56de\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u5982\u679c\u662fJSON\u5b57\u7b26\u4e32\u5219\u8fd4\u56dejson\u3002</p>\\n<p>\u540c\u65f6\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u81ea\u5df1\u7684\u9519\u8bef\u7c7b\u578b\u53bb\u663e\u793a\u53ca\u5b9a\u4f4d\u9519\u8bef\u4fe1\u606f\uff0c\u5f53\u914d\u7f6e\u6587\u4ef6\u6709\u95ee\u9898\u65f6\u6216\u8bf7\u6c42\u5339\u914d\u6709\u95ee\u9898\u65f6\u90fd\u4f1a\u5c06\u9519\u8bef\u4fe1\u606f\u5c55\u793a\u51fa\u6765\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/7d17400db60c42b0ace2c300472cbdcc_carbon4.png\\" alt=\\"7d17400db60c42b0ace2c300472cbdcc_carbon4.png\\"></p>\\n<p><img src=\\"https://xiao555.netlify.com/9abc17654d9c40ee97c9fb2553dfff62_image.png\\" alt=\\"9abc17654d9c40ee97c9fb2553dfff62_image.png\\"></p>\\n<p><code>utils/index.js</code> \u5219\u662f\u4e00\u4e9b\u5de5\u5177\u7c7b\u51fd\u6570\uff0c\u4f8b\u5982\u8def\u5f84\u7684\u6a21\u7cca\u5339\u914d(\u8fd9\u4e2a\u7b97\u6cd5\u4e0d\u77e5\u9053\u5927\u5bb6\u6709\u6ca1\u6709\u66f4\u597d\u7684\u89e3)\uff1a\\n<img src=\\"https://xiao555.netlify.com/101305610fb74a18881da94e30618393_carbon5.png\\" alt=\\"101305610fb74a18881da94e30618393_carbon5.png\\"></p>\\n<p>\u6700\u540e\uff0c\u8fd9\u4e00\u7cfb\u5217\u7684\u529f\u80fd\u9700\u8981\u6709\u5b8c\u5584\u7684\u6d4b\u8bd5\u7528\u4f8b\u4fdd\u8bc1\u5176\u53ef\u7ef4\u62a4\u6027\uff0c\u4ee5\u6d4b\u8bd5koa\u4e2d\u95f4\u4ef6\u529f\u80fd\u4e3a\u4f8b\uff1a\\n<img src=\\"https://xiao555.netlify.com/fbc52d1cc9054f418d31fce33b864e70_carbon6.png\\" alt=\\"fbc52d1cc9054f418d31fce33b864e70_carbon6.png\\"></p>\\n<p>\u6d4b\u8bd5\u7ed3\u679c\uff0c\u6700\u540e\u662f\u4ee3\u7801\u8986\u76d6\u7387\uff1a\\n<img src=\\"https://xiao555.netlify.com/df598ff1090441aca47ff476c80e8e81_carbon7.png\\" alt=\\"df598ff1090441aca47ff476c80e8e81_carbon7.png\\"></p>\\n<p>\u4ee5\u4e0a\uff0c\u6b22\u8fce\u5404\u8def\u5927\u795ecode review\uff0c\u6211\u81ea\u5df1\u4e5f\u5728\u4e0d\u65ad\u4f18\u5316\u4ee3\u7801\uff0c\u5c3d\u91cf\u505a\u5230\u7b80\u6d01\uff0c\u53ef\u8bfb\u6027\u5f3a\u3002<code>match.js</code>\u4ee5\u53ca<code>parse.js</code>\u7684\u4ee3\u7801\u6539\u4e86N\u6b21\uff0c\u56e0\u4e3a\u540c\u7ec4\u7684\u5c0f\u4f19\u4f34\u770b\u4e86\u76f4\u547c\u770b\u4e0d\u61c2\uff0c\u5176\u5b9e\u6211\u81ea\u5df1\u8fc7\u51e0\u5929\u4e5f\u770b\u4e0d\u61c2==</p>\\n<p>\u4e25\u683c\u6765\u8bf4\u4e0d\u7b97<strong>\u7ebf\u4e0a\u8fd0\u884c\u7684\u4ee3\u7801</strong>\uff0c\u4f46\u662f\u4e5f\u89e3\u51b3\u4e86\u5e73\u65f6\u5f00\u53d1\u7684\u6548\u7387\u95ee\u9898\uff0c\u603b\u4e4b\u6652\u7801\u5927\u8d5b\u5206\u6bcd\u559c+1</p>\\n","title":"cf-mock-server\uff1a\u524d\u7aef mock \u6570\u636e\u89e3\u51b3\u65b9\u6848","tags":["mock"],"slug":"cf-mock-server-front-end-mock-data-solution","createDate":1540133760000,"id":"cf-mock-server-front-end-mock-data-solution","thumb":"https://images.unsplash.com/photo-1580961279343-3c42a677e159?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>\u9879\u76ee\u5730\u5740\uff1a<a href=\\"https://www.npmjs.com/package/cf-mock-server\\">cf-mock-server</a>\\nGithub: <a href=\\"https://github.com/xiao555/mock-server\\">Mock Server</a></p>\\n<h2 id=\\"\u9700\u6c42\u80cc\u666f\\">\u9700\u6c42\u80cc\u666f</h2>\\n<p>\u521a\u6765\u516c\u53f8\u5b9e\u4e60\uff0c\u4e86\u89e3\u5230\u6709\u8fd9\u4e48\u4e00\u4e2a\u9700\u6c42\uff1a\u56e0\u4e3a\u6211\u4eec\u662f\u524d\u540e\u7aef\u5206\u79bb\u7684\u5f00\u53d1\u6a21\u5f0f\uff0c\u4e86\u89e3\u4e1a\u52a1\u9700\u6c42\u540e\uff0c\u524d\u540e\u7aef\u9700\u8981\u89c4\u5b9a\u597d\u63a5\u53e3\uff0c\u6211\u4eec\u7528\u7684\u662f<code>postman</code>\uff0c\u540e\u7aef\u5199\u597d\u63a5\u53e3\uff0c\u8bf7\u6c42\u683c\u5f0f\uff0c\u8fd4\u56de\u683c\u5f0f\u7b49\uff0c\u524d\u7aef\u76f4\u63a5\u53c2\u8003\u7740\u7528\u5c31\u884c\u3002\u4f46\u662f\u5728\u524d\u7aef\u540e\u7aef\u540c\u65f6\u5f00\u5de5\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u80fd\u524d\u7aef\u9700\u8981\u6570\u636e\u7684\u65f6\u5019\u540e\u7aef\u63a5\u53e3\u8fd8\u6ca1\u5199\u597d\uff0c\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u6211\u4eec\u81ea\u5df1mock\u4e00\u4e9b\u6570\u636e\u6765\u6d4b\u8bd5\u4e00\u4e0b\u529f\u80fd\u662f\u5426\u5b8c\u6210\u3002</p>\\n<p>\u5728\u8fd9\u4e4b\u524d\uff0c\u524d\u7aef\u7ec4\u662f\u7528Fiddler\u7b49\u5de5\u5177\u901a\u8fc7\u62e6\u622aapi\u8bf7\u6c42\uff0c\u6839\u636e\u8bbe\u7f6e\u7684\u6620\u5c04\u8868\u89c4\u5219\uff0c\u8fd4\u56de\u6307\u5b9a\u9759\u6001\u6587\u4ef6\u4f5c\u4e3ahttp\u54cd\u5e94\u6765\u5b9e\u73b0\u7684\u3002\u7531\u4e8eFiddler\u5bf9Mac OS\u4e0d\u53cb\u597d\uff0c\u9700\u8981\u627e\u5230\u66ff\u4ee3\u65b9\u6848\u3002</p>\\n","content":"<p>\u9879\u76ee\u5730\u5740\uff1a<a href=\\"https://www.npmjs.com/package/cf-mock-server\\">cf-mock-server</a>\\nGithub: <a href=\\"https://github.com/xiao555/mock-server\\">Mock Server</a></p>\\n<h2 id=\\"\u9700\u6c42\u80cc\u666f\\">\u9700\u6c42\u80cc\u666f</h2>\\n<p>\u521a\u6765\u516c\u53f8\u5b9e\u4e60\uff0c\u4e86\u89e3\u5230\u6709\u8fd9\u4e48\u4e00\u4e2a\u9700\u6c42\uff1a\u56e0\u4e3a\u6211\u4eec\u662f\u524d\u540e\u7aef\u5206\u79bb\u7684\u5f00\u53d1\u6a21\u5f0f\uff0c\u4e86\u89e3\u4e1a\u52a1\u9700\u6c42\u540e\uff0c\u524d\u540e\u7aef\u9700\u8981\u89c4\u5b9a\u597d\u63a5\u53e3\uff0c\u6211\u4eec\u7528\u7684\u662f<code>postman</code>\uff0c\u540e\u7aef\u5199\u597d\u63a5\u53e3\uff0c\u8bf7\u6c42\u683c\u5f0f\uff0c\u8fd4\u56de\u683c\u5f0f\u7b49\uff0c\u524d\u7aef\u76f4\u63a5\u53c2\u8003\u7740\u7528\u5c31\u884c\u3002\u4f46\u662f\u5728\u524d\u7aef\u540e\u7aef\u540c\u65f6\u5f00\u5de5\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u80fd\u524d\u7aef\u9700\u8981\u6570\u636e\u7684\u65f6\u5019\u540e\u7aef\u63a5\u53e3\u8fd8\u6ca1\u5199\u597d\uff0c\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u6211\u4eec\u81ea\u5df1mock\u4e00\u4e9b\u6570\u636e\u6765\u6d4b\u8bd5\u4e00\u4e0b\u529f\u80fd\u662f\u5426\u5b8c\u6210\u3002</p>\\n<p>\u5728\u8fd9\u4e4b\u524d\uff0c\u524d\u7aef\u7ec4\u662f\u7528Fiddler\u7b49\u5de5\u5177\u901a\u8fc7\u62e6\u622aapi\u8bf7\u6c42\uff0c\u6839\u636e\u8bbe\u7f6e\u7684\u6620\u5c04\u8868\u89c4\u5219\uff0c\u8fd4\u56de\u6307\u5b9a\u9759\u6001\u6587\u4ef6\u4f5c\u4e3ahttp\u54cd\u5e94\u6765\u5b9e\u73b0\u7684\u3002\u7531\u4e8eFiddler\u5bf9Mac OS\u4e0d\u53cb\u597d\uff0c\u9700\u8981\u627e\u5230\u66ff\u4ee3\u65b9\u6848\u3002</p>\\n<h2 id=\\"\u65b9\u6848\u8c03\u7814\\">\u65b9\u6848\u8c03\u7814</h2>\\n<p>\u6211\u5f53\u65f6\u628a\u8fd9\u4e2a\u9700\u6c42\u63a5\u4e86\u4e0b\u6765\uff0c\u56e0\u4e3a\u81ea\u5df1\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u521d\u6b65\u7684\u65b9\u6848\uff0c\u5c31\u662f\u672c\u5730\u8dd1\u4e00\u4e2anode\u670d\u52a1\u5668\uff0c\u7ef4\u62a4\u4e00\u4e2aapi\u6620\u5c04\u5173\u7cfb\uff0c\u6839\u636e\u4e0d\u540c\u7684\u8bf7\u6c42\u8fd4\u56de\u5bf9\u5e94\u7684\u9759\u6001\u6587\u4ef6\u91cc\u7684\u6570\u636e\u3002</p>\\n<p>\u5f53\u7136\uff0c\u53ea\u662f\u6211\u5f53\u65f6\u60f3\u7684\u4e00\u79cd\uff0c\u662f\u4e0d\u662f\u771f\u8981\u8fd9\u4e48\u505a\u8fd8\u8981\u7814\u7a76\u4e00\u4e0b\u5176\u4ed6\u516c\u53f8\u7684\u65b9\u6848\u3002\u4e8e\u662f\u641c\u5230\u4e86\u8fd9\u7bc7\u6587\u7ae0<a href=\\"https://github.com/CntChen/cntchen.github.io/issues/1\\">\u524d\u540e\u7aef\u5206\u79bb\u5f00\u53d1\u6a21\u5f0f\u7684 mock \u5e73\u53f0\u9884\u7814</a>, \u6587\u7ae0\u91cc\u63d0\u5230\u4e86\u51e0\u79cd\u65b9\u6848\u800c\u4e14\u5217\u51fa\u4e86\u5404\u81ea\u7684\u4f18\u7f3a\u70b9\uff1a</p>\\n<ol>\\n<li>\u786c\u7f16\u7801\u6570\u636e</li>\\n<li>\u8bf7\u6c42\u62e6\u622a &amp; mock \u6570\u636e</li>\\n<li>\u672c\u5730 mock \u670d\u52a1\u5668</li>\\n<li>\u4ee3\u7406\u670d\u52a1\u5668\uff08 charles or fiddler\uff09</li>\\n</ol>\\n<p>\u4ee5\u53ca\u63d0\u5230\u4e86\u4e00\u4e9b\u5e93\u548c\u6846\u67b6\uff0c\u6bd4\u5982<a href=\\"https://github.com/marak/Faker.js/\\">faker.js</a>,   <a href=\\"https://github.com/thx/RAP\\">RAP</a>\u7b49\u7b49\u3002\u7ed3\u5408\u6211\u4eec\u81ea\u5df1\u7684\u60c5\u51b5\uff0c\u6211\u8ba4\u4e3a\u672c\u5730mock\u670d\u52a1\u5668\u662f\u6700\u597d\u7684\u65b9\u6848\uff1a</p>\\n<ol>\\n<li>\u786c\u7f16\u7801\u80af\u5b9a\u4e0d\u884c\uff0c\u96be\u9053\u8981\u81ea\u5df1\u9891\u7e41\u7684\u624b\u52a8\u589e\u5220\u4ee3\u7801\uff1f</li>\\n<li>\u8bf7\u6c42\u62e6\u622a\uff0cmock\u6570\u636e\uff0c\u6d4b\u8bd5\u73af\u5883\uff0c\u7ebf\u4e0a\u73af\u5883\u8981\u5207\u6362\uff0c\u800c\u4e14\u6211\u4eec\u4e0d\u9700\u8981\u53bb\u751f\u6210\u968f\u673a\u7684\u6570\u636e\uff0c\u800c\u662f\u5c06\u8fd4\u56de\u7684\u6570\u636e\u4fdd\u5b58\u5728\u9759\u6001\u6587\u4ef6\u4e2d\u3002\u6240\u4ee5\u5b9e\u9645\u64cd\u4f5c\u8d77\u6765\u4e0d\u5982\u672c\u5730mock\u670d\u52a1\u5668</li>\\n<li>\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u8981\u4ee3\u66ff\u7684\u5c31\u662f\u8fd9\u79cd\u65b9\u6848</li>\\n<li>\u5176\u4ed6\u5e93\u548c\u6846\u67b6\uff0c\u7528\u4e0d\u4e0a\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4e00\u4e2a\u8f7b\u91cf\u7684\u4ee3\u7406\u65b9\u6848</li>\\n<li>\u672c\u5730mock\u670d\u52a1\u5668\uff0c\u6bd4\u8f83\u65b9\u4fbf\u4e14\u81ea\u7531\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u53ef\u4ee5\u7edf\u4e00\u7ba1\u7406API\u914d\u7f6e\uff0c\u66f4\u65b9\u4fbf\u7684\u5b9e\u73b0\u8de8\u57df\uff0c\u53ef\u6269\u5c55\u6027\u9ad8\u65b9\u4fbf\u4ee5\u540e\u589e\u52a0\u529f\u80fd</li>\\n</ol>\\n<p>\u597d\uff0c\u5c31\u8fd9\u4e48\u786e\uff08qin\uff09\u5b9a\u4e86\uff01</p>\\n<h2 id=\\"\u6280\u672f\u9009\u578b\\">\u6280\u672f\u9009\u578b</h2>\\n<p>\u9996\u5148\u9700\u8981\u4e00\u4e2anode\u6846\u67b6\u6765\u8dd1\u6211\u4eec\u7684mock\u670d\u52a1\u3002\u867d\u7136\u5e02\u9762\u4e0a\u76f8\u5173\u7684\u5de5\u5177<code>Express</code>\u5360\u636e\u5927\u591a\u6570\uff0c\u6211\u8fd8\u662f\u9009\u62e9\u4e86<code>Koa</code>, koa\u5199\u8d77\u6765\u591a\u4f18\u96c5\uff0c\u800c\u4e14\u6211\u4e4b\u524d\u7528\u7684\u4e5f\u57fa\u672c\u90fd\u662fkoa\u3002\u5f53\u7136<code>Express</code>\u53ef\u80fd\u66f4\u7a33\u5b9a\uff0c\u751f\u6001\u73af\u5883\u66f4\u4e30\u5bcc\uff0c\u4f46\u662f<code>koa</code>\u8db3\u591f\u4e86\u3002</p>\\n<p>\u4e8e\u662f\u628a\u6211\u5199<a href=\\"https://github.com/xiao555/blog/tree/master/blog/server\\">Blog</a>\u7684\u540e\u7aef\u57fa\u672c\u6846\u67b6\u642c\u8fc7\u6765\u4e86(\u6240\u4ee5\u4e3b\u8981\u662f\u4e3a\u4e86\u65b9\u4fbf : D</p>\\n<p>\u4fdd\u7559\u4e86 \u4e2d\u95f4\u4ef6(cors, bodyparser, helmet), \u65e5\u5fd7(log4js)\uff0c\u5229\u7528fs\u6a21\u5757\u8bfb\u53d6API\u914d\u7f6e\u6587\u4ef6\u548c\u6570\u636e\u6587\u4ef6\u6784\u6210router\u3002</p>\\n<h2 id=\\"\u6280\u672f\u5b9e\u73b0\\">\u6280\u672f\u5b9e\u73b0</h2>\\n<h3 id=\\"\u6838\u5fc3\u903b\u8f91\\">\u6838\u5fc3\u903b\u8f91</h3>\\n<p>\u9009\u578b\u5b9a\u597d\u4e86\uff0c\u4e0b\u9762\u5f00\u59cb\u5b9e\u73b0\u3002\u6211\u4eec\u8981\u505a\u7684\u5c31\u662f\u6839\u636eapi\u914d\u7f6e\u521b\u5efa\u4e0d\u540c\u7684\u8def\u7531\uff0c\u6839\u636e\u4e0d\u540c\u7684\u53c2\u6570\u8fd4\u56de\u76f8\u5e94\u7684\u6570\u636e\u3002</p>\\n<p>\u9996\u5148\uff0c\u6211\u4eec\u89c4\u5b9a\u7684API \u914d\u7f6e\u6587\u4ef6\u662f\u8fd9\u6837\u7684\uff1a</p>\\n<pre><code class=\\"language-javascript\\">// config.js\\n// \u6570\u636e\u76ee\u5f55\\nexports.dataFile = <span class=\\"hljs-string\\">\'../{YOUDATAFOLDER}\'</span>\\n<span class=\\"hljs-comment\\">/**\\n * KEY: \'{METHOD} {router}\'\\n * VALUE: \u6570\u636e\u6587\u4ef6\u8def\u5f84\uff0c\u76f8\u5bf9\u4e8edataFile\\n */</span>\\nexports.api = {\\n  // <span class=\\"hljs-keyword\\">GET</span> <span class=\\"hljs-keyword\\">all</span> <span class=\\"hljs-keyword\\">user</span>\\n  <span class=\\"hljs-string\\">\'GET /api/users/all\'</span>: <span class=\\"hljs-string\\">\'all_users.txt\'</span>,\\n  // <span class=\\"hljs-keyword\\">GET</span> <span class=\\"hljs-keyword\\">user</span> named <span class=\\"hljs-string\\">\'tom\'</span>\\n  <span class=\\"hljs-string\\">\'GET /api/users/?name=tom\'</span>: <span class=\\"hljs-string\\">\'users/tom.json\'</span>,\\n  // <span class=\\"hljs-keyword\\">GET</span> <span class=\\"hljs-keyword\\">user</span> whatever the <span class=\\"hljs-type\\">name</span> <span class=\\"hljs-keyword\\">is</span>\\n  <span class=\\"hljs-string\\">\'GET /api/users/?name=/^A.*\\\\\\\\^$/\'</span>: <span class=\\"hljs-string\\">\'users/example.json\'</span>,\\n}</code></pre>\\n<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u8981\u6839\u636e\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u521b\u5efa\u8def\u7531\uff0c\u7531\u4e8e\u6211\u4eec\u7528<code>koa-router</code>\u6765\u914d\u7f6e\u8def\u7531\uff0c\u6bd4\u5982\uff1a</p>\\n<pre><code class=\\"language-javascript\\">router.<span class=\\"hljs-keyword\\">get</span>(<span class=\\"hljs-string\\">\'/hello\'</span>, ctx =&gt; { <span class=\\"hljs-keyword\\">return</span> ctx.body = <span class=\\"hljs-string\\">\'Hello World!\'</span> })</code></pre>\\n<p> \u7b80\u5355\u63d0\u70bc\u4e00\u4e0b\u5c31\u662f</p>\\n<pre><code class=\\"language-javascript\\">router[<span class=\\"hljs-string\\">$METHOD</span>](<span class=\\"hljs-link\\">$PATH, ctx =&gt; { /** Handle Router **/ }</span>)</code></pre>\\n<p>\u6240\u4ee5\uff0c\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\u65f6\uff0c\u6784\u5efa\u4e86\u5982\u4e0b\u683c\u5f0f\u7684\u5bf9\u8c61\uff1a</p>\\n<pre><code>{\\n    <span class=\\"hljs-attr\\">\\"/users/all\\"</span>: {\\n        <span class=\\"hljs-attr\\">\\"get\\"</span>:[\\n            {\\n                <span class=\\"hljs-attr\\">\\"params\\"</span>:<span class=\\"hljs-string\\">\\"name=sam\\"</span>,\\n                <span class=\\"hljs-attr\\">\\"data\\"</span>:<span class=\\"hljs-string\\">\\"users/example\\"</span>\\n            },\\n            {\\n                <span class=\\"hljs-attr\\">\\"data\\"</span>:<span class=\\"hljs-string\\">\\"searchOrder\\"</span>\\n            }\\n        ]\\n    },\\n    <span class=\\"hljs-attr\\">\\"/api/users/\\"</span>:{\\n        <span class=\\"hljs-attr\\">\\"get\\"</span>:[\\n            {\\n                <span class=\\"hljs-attr\\">\\"params\\"</span>:<span class=\\"hljs-string\\">\\"name=/^A.*\\\\\\\\^$/\\"</span>,\\n                <span class=\\"hljs-attr\\">\\"data\\"</span>:<span class=\\"hljs-string\\">\\"users/example.json\\"</span>\\n            },\\n            {\\n                <span class=\\"hljs-attr\\">\\"params\\"</span>:<span class=\\"hljs-string\\">\\"name=tom\\"</span>,\\n                <span class=\\"hljs-attr\\">\\"data\\"</span>:<span class=\\"hljs-string\\">\\"users/tom.json\\"</span>\\n            }\\n        ]\\n    }\\n}</code></pre><p>\u8fd9\u6837\u4e00\u4e2apath\u5bf9\u5e94\u4e0d\u540c\u7684method\uff0c\u65b9\u4fbf\u5bf9\u6bcf\u4e2a\u8def\u5f84\u6ce8\u518c\u4e0d\u540c\u65b9\u6cd5\u7684\u8def\u7531\uff0c\u6bcf\u4e2a\u65b9\u6cd5\u540e\u9762\u53c8\u5bf9\u5e94\u4e0d\u540c\u7684\u53c2\u6570\u60c5\u51b5\uff0c\u8fd9\u4e9b\u5c31\u5728\u540e\u9762\u7684\u5904\u7406\u51fd\u6570\u4e2d\u5224\u65ad\u5f53\u524d\u7684\u8bf7\u6c42\u5339\u914d\u54ea\u4e00\u4e2a\u60c5\u51b5\u7136\u540e\u8fd4\u56de\u5bf9\u5e94data\u6587\u4ef6\u4e2d\u7684\u6570\u636e\u3002</p>\\n<p>\u8bf7\u6c42\u7684\u53c2\u6570\u53ef\u4ee5\u901a\u8fc7<code>ctx.query</code>\u83b7\u53d6\uff0c\u5982\uff1a<code>{&quot;name&quot;:&quot;xiao555&quot;,&quot;age&quot;:&quot;18&quot;}</code>\uff0c\u6839\u636e\u914d\u7f6e\u6587\u4ef6\u89e3\u6790\u7ed3\u679c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5f88\u8f7b\u677e\u7684\u5c06<code>params</code>\u5b57\u6bb5\u8f6c\u5316\u6210<code>Object</code> \u4e0e <code>ctx.query</code> \u4f5c\u5bf9\u6bd4\u6765\u5224\u65ad\u5339\u914d\u7684\u662f\u54ea\u79cd\u60c5\u51b5\u3002\u8fd9\u91cc\u6709\u51e0\u4e2a\u95ee\u9898\u9700\u8981\u6ce8\u610f\uff1a</p>\\n<ol>\\n<li>\u5224\u65ad\u903b\u8f91\u8981\u7b26\u5408\u8981\u6c42\u7684\u5339\u914d\u89c4\u5219\\n\u6bd4\u5982\u4e0d\u5e26\u53c2\u6570\u7684\u8bf7\u6c42\u53ea\u4f1a\u8ddf\u4e0d\u5e26\u53c2\u6570\u7684\u5339\u914d\uff0c\u4e0d\u4f1a\u53bb\u8ddf\u5e26\u53c2\u6570\u7684\u60c5\u51b5\u6bd4\u8f83\\n\u6bd4\u5982\u6211\u4eec\u60f3\u505a\u6210\u4f18\u5148\u5339\u914d\uff0c\u90a3\u5c31\u8981\u4ece\u5934\u5f00\u59cb\u904d\u5386\uff0c\u9047\u5230\u5339\u914d\u7684\u5c31\u8df3\u51fa\u5faa\u73af\u8fd4\u56de\u7ed3\u679c\\n\u66f4\u7075\u6d3b\u4e00\u70b9\u6bd4\u5982\u6a21\u7cca\u5339\u914d\uff0c\u5373\u53ea\u8981\u8bf7\u6c42\u7684\u53c2\u6570\u5b57\u6bb5\u8ddf\u914d\u7f6e\u7684\u76f8\u5e94\u5b57\u6bb5\u90fd\u80fd\u5bf9\u4e0a\uff0c\u5c31\u7b97\u5339\u914d\u6210\u529f\uff0c\u6bd4\u5982\uff1a<code>/user/?name=obama&amp;age=18: xxxx\uff0c /user/?name=obama: xxxx</code>\u5f53\u8bbf\u95ee<code>/user/?name=obama</code>\u7684\u65f6\u5019\u5339\u914d\u5230\u4e86<code>/user/?name=obama&amp;age=18</code>\u5c31\u4e0d\u5f80\u4e0b\u5339\u914d\u4e86</li>\\n<li>\u8bf7\u6c42\u53c2\u6570\u53ef\u80fd\u4f1a\u6709\u540c\u540d\u7684\u60c5\u51b5\\n\u6bd4\u5982<code>/user/?name=obama&amp;name=tom</code>\u8fd9\u79cd\u60c5\u51b5<code>ctx.query</code>\u7684\u7ed3\u679c\u4f1a\u662f<code>{&quot;name&quot;:[&quot;obama&quot;, &quot;tom&quot;]}</code>, \u6240\u4ee5\u8981\u505a\u597d\u5bf9\u53c2\u6570\u503c\u662f\u6570\u7ec4\u7684\u60c5\u51b5\u7684\u5224\u65ad</li>\\n</ol>\\n<p>\u529f\u80fd\u4e0a\u5b9e\u73b0\u4e86\uff0c\u6211\u4eec\u53ef\u4ee5\u7ed3\u5408\u5177\u4f53\u4f7f\u7528\u60c5\u51b5\u505a\u4e00\u4e9b\u5c0f\u7684\u6539\u8fdb\uff1a</p>\\n<ol>\\n<li>\u6709\u65f6\u5019\uff0c\u8bf7\u6c42\u7684\u53c2\u6570\u662f\u52a8\u6001\u6539\u53d8\u7684\uff0c\u4f46\u662f\u6a21\u62df\u6570\u636e\u53ef\u4ee5\u7528\u540c\u4e00\u4efd\u3002\u8fd9\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u7528<code>*</code>\u505a\u4e00\u4e2a\u5360\u4f4d\uff0c\u5982\u679c\u914d\u7f6e\u91cc\u7684\u53c2\u6570\u503c\u662f<code>*</code>\u7684\u8bdd\uff0c\u90a3\u4e48\u65e0\u8bba\u8bf7\u6c42\u91cc\u5bf9\u5e94\u53c2\u6570\u7684\u503c\u662f\u4ec0\u4e48\u90fd\u7b97\u5339\u914d\u3002</li>\\n<li>\u5b9e\u9645\u5f00\u53d1\u65f6\u6211\u4eecAPI\u914d\u7f6e\u662f\u4e0d\u65ad\u53bb\u6dfb\u52a0\u66f4\u65b0\u7684\uff0c\u9700\u8981\u4e0d\u65ad\u7684\u91cd\u542fmock server\uff0c\u5f88\u4e0d\u65b9\u4fbf\uff0c\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u505a\u4e00\u4e2a\u76d1\u542c\u6587\u4ef6\u6539\u52a8\u81ea\u52a8\u66f4\u65b0\u7684\u529f\u80fd\u3002\u6700\u521d\u6211\u9009\u62e9\u7684\u662f\u7528<a href=\\"https://github.com/remy/nodemon\\">nodemon</a>, \u5199\u4e00\u4e2ajson\u6587\u4ef6\u3002\u4f46\u662f\u5176\u5b9e\u6709\u4e0d\u7528\u91cd\u542f\u670d\u52a1\u5668\u5c31\u53ef\u4ee5\u81ea\u52a8\u66f4\u65b0router\u7684\u65b9\u6cd5\uff0c\u4e0d\u8fc7\u8fd9\u91cc\u4e0d\u8868\uff0c\u540e\u9762\u518d\u8bf4\u3002</li>\\n</ol>\\n<h3 id=\\"\u8fdb\u9636\u6539\u9020\\">\u8fdb\u9636\u6539\u9020</h3>\\n<h4 id=\\"\u53d1\u5e03\u5230npm\\">\u53d1\u5e03\u5230npm</h4>\\n<p>\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u6211\u4eec\u76f4\u63a5\u5c06mock server\u653e\u5230\u9879\u76ee\u6587\u4ef6\u91cc\uff1a</p>\\n<pre><code><span class=\\"hljs-bullet\\">- </span>build/\\n<span class=\\"hljs-bullet\\">- </span>config/\\n<span class=\\"hljs-bullet\\">- </span>mockServer\\n<span class=\\"hljs-bullet\\">    - </span>config.js\\n<span class=\\"hljs-bullet\\">    - </span>data/<span class=\\"hljs-emphasis\\">**/*</span>.json\\n<span class=\\"hljs-bullet\\">    - </span>router/index.js\\n<span class=\\"hljs-bullet\\">    - </span>middleware/*.js\\n<span class=\\"hljs-bullet\\">    - </span>utils/*.js\\n<span class=\\"hljs-bullet\\">    - </span>app.js\\n<span class=\\"hljs-bullet\\">    - </span>package.json\\n<span class=\\"hljs-bullet\\">    - </span>nodemon.json\\n<span class=\\"hljs-bullet\\">    - </span>...\\n<span class=\\"hljs-bullet\\">- </span>src/\\n<span class=\\"hljs-bullet\\">- </span>static/\\n<span class=\\"hljs-bullet\\">- </span>...</code></pre><p>\u8fd9\u4e48\u591a\u6587\u4ef6\u4e2d\uff0c\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u6211\u4eec\u5173\u5fc3\u7684\u53ea\u6709<code>config.js</code> \u8fd8\u6709<code>data</code>\u76ee\u5f55\u4e0b\u7684\u6570\u636e\u6587\u4ef6\u800c\u5df2\uff0c\u6240\u4ee5\u4e3a\u4e86\u8fbe\u5230\u9690\u85cf\u5176\u4ed6\u6587\u4ef6\u7684\u76ee\u7684\uff0c\u6253\u7b97\u628amock server\u4f20\u5230<a href=\\"https://www.npmjs.com/\\">npm</a>\u4e0a\uff0c\u901a\u8fc7\u5f15\u5165<code>node_modules</code>\u6765\u5b9e\u73b0\u3002\u90a3\u4e48\u5f15\u5165<code>node_modules</code>\u600e\u4e48\u53bb\u7528\u5462\uff1f</p>\\n<p>\u8fd9\u91cc\u6211\u53c2\u8003\u7684<a href=\\"https://github.com/mochajs/mocha\\">Mocha</a>\u7684\u5b9e\u73b0\uff0c\u56e0\u4e3a\u4e4b\u524d\u8fd8\u7b80\u5355\u5206\u6790\u8fc7\u5b83\u7684<a href=\\"https://www.xiao555.com.cn/posts/mocha\\">\u6e90\u7801</a>\u3002\u4e24\u79cd\u65b9\u6cd5\uff0c\u4e00\u79cd\u662f\u547d\u4ee4\u884c\u63a5\u53e3\uff0c\u4e00\u79cd\u662f\u624b\u52a8\u521b\u5efamock server\u5b9e\u4f8b\u3002</p>\\n<p>\u5176\u5b9e\u4e5f\u5c31\u662f\u628a\u4e4b\u524d\u5199\u7684mock server\u5c01\u88c5\u6210\u4e00\u4e2a<code>Mock</code>\u6784\u9020\u51fd\u6570\u4f20\u51fa\u53bb\uff0c\u7528\u7684\u65f6\u5019\u6211\u4eec\u9700\u8981<code>new</code>\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5b9e\u4f8b\u91cc\u521b\u5efa\u5e76\u7ed1\u5b9a\u4e86Koa\u7684\u4e00\u4e2a\u5b9e\u4f8b\u3002<code>Mock</code>\u6784\u9020\u51fd\u6570\u6709\u4e00\u4e0b\u51e0\u4e2a\u65b9\u6cd5\uff1a</p>\\n<pre><code><span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">Mock</span>.</span></span>prototype.setPort <span class=\\"hljs-comment\\">// \u8bbe\u7f6e\u7aef\u53e3</span>\\n<span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">Mock</span>.</span></span>prototype.getConfig <span class=\\"hljs-comment\\">// \u83b7\u53d6\u914d\u7f6e\u6587\u4ef6</span>\\n<span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">Mock</span>.</span></span>prototype.createRouter <span class=\\"hljs-comment\\">// \u521b\u5efa\u8def\u7531</span>\\n<span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">Mock</span>.</span></span>prototype.showlog <span class=\\"hljs-comment\\">// \u914d\u7f6elog</span>\\n<span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">Mock</span>.</span></span>prototype.startApp <span class=\\"hljs-comment\\">// \u5f00\u542f\u670d\u52a1</span>\\n<span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">Mock</span>.</span></span>prototype.watchFile <span class=\\"hljs-comment\\">// \u76d1\u542c\u6587\u4ef6\u6539\u52a8</span>\\n<span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">Mock</span>.</span></span>prototype.rerun <span class=\\"hljs-comment\\">// \u5e94\u7528\u65b0\u7684\u8def\u7531\u914d\u7f6e</span>\\n<span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">Mock</span>.</span></span>prototype.run <span class=\\"hljs-comment\\">// \u670d\u52a1\u542f\u52a8\u5165\u53e3</span></code></pre><p>\u7528\u6cd5\u793a\u4f8b\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// mock.js</span>\\n<span class=\\"hljs-keyword\\">const</span> path = <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'path\'</span>)\\n<span class=\\"hljs-keyword\\">let</span> Mock = <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'cf-mock-server\'</span>)\\n\\n<span class=\\"hljs-keyword\\">let</span> app = <span class=\\"hljs-keyword\\">new</span> Mock({\\n  <span class=\\"hljs-attr\\">config</span>: path.join(__dirname, <span class=\\"hljs-string\\">\'./config\'</span>), <span class=\\"hljs-comment\\">// \u914d\u7f6e\u6587\u4ef6</span>\\n  <span class=\\"hljs-attr\\">watch</span>: <span class=\\"hljs-literal\\">true</span>,                    <span class=\\"hljs-comment\\">// \u89c2\u5bdf\u6a21\u5f0f\uff0c\u76d1\u542c\u914d\u7f6e\u6587\u4ef6\u6539\u52a8\u81ea\u52a8\u5e94\u7528</span>\\n})\\n\\napp.run()</code></pre>\\n<p>\u800c\u547d\u4ee4\u884c\u7684\u65b9\u6cd5\u7528\u7684<a href=\\"https://github.com/tj/commander.js/\\">commander.js</a></p>\\n<pre><code class=\\"language-javascript\\">const program = require(<span class=\\"hljs-string\\">\'commander\'</span>);\\n\\nprogram\\n  .version(<span class=\\"hljs-type\\">JSON</span>.parse(fs.readFileSync(<span class=\\"hljs-type\\">path</span>.<span class=\\"hljs-keyword\\">join</span>(__dirname, <span class=\\"hljs-string\\">\'..\'</span>, <span class=\\"hljs-string\\">\'package.json\'</span>), <span class=\\"hljs-string\\">\'utf8\'</span>)).<span class=\\"hljs-keyword\\">version</span>)\\n  .<span class=\\"hljs-keyword\\">usage</span>(<span class=\\"hljs-string\\">\'[options] &lt;file ...&gt;\'</span>)\\n  .<span class=\\"hljs-keyword\\">option</span>(<span class=\\"hljs-string\\">\'-p, --port &lt;port&gt;\'</span>, <span class=\\"hljs-string\\">\'Define the mock server started port, default is 8008\'</span>)\\n  .<span class=\\"hljs-keyword\\">option</span>(<span class=\\"hljs-string\\">\'-w, --watch\'</span>, <span class=\\"hljs-string\\">\'Listen to the file changes and restart the service\'</span>)\\n  .<span class=\\"hljs-keyword\\">option</span>(<span class=\\"hljs-string\\">\'-c, --config &lt;file&gt;\'</span>, <span class=\\"hljs-string\\">\'Custom profiles, default is mock/config.js\'</span>)\\n  .<span class=\\"hljs-keyword\\">option</span>(<span class=\\"hljs-string\\">\'-l, --log\'</span>, <span class=\\"hljs-string\\">\'Record the log and save to \\"mock/log/\\" and named {date}.log\'</span>)\\n  .<span class=\\"hljs-keyword\\">option</span>(<span class=\\"hljs-string\\">\'-L, --Log &lt;path&gt;\'</span>, <span class=\\"hljs-string\\">\'Record the log and save to &lt;path&gt;, default \\"mock/log/\\" and named {date}.log\'</span>)</code></pre>\\n<p>\u4e5f\u662f\u5148<code>new</code>\u4e00\u4e2a<code>Mock</code>\u5b9e\u4f8b\uff0c\u7136\u540e\u6839\u636e\u4e0d\u540c\u7684\u53c2\u6570\u8bbe\u7f6e\u8c03\u7528\u4e0d\u540c\u7684\u65b9\u6cd5\uff0c\u5177\u4f53\u53ef\u4ee5\u770b<code>bin/_mock</code>\u3002</p>\\n<h4 id=\\"\u70ed\u66f4\u65b0\u8def\u7531\\">\u70ed\u66f4\u65b0\u8def\u7531</h4>\\n<p>\u6700\u5173\u952e\u7684\u4e00\u4e2a\u6539\u8fdb\u662f\u76d1\u542c\u914d\u7f6e\u6587\u4ef6\u6539\u53d8\u81ea\u52a8\u66f4\u65b0\u8def\u7531\u7684\u529f\u80fd\uff0c\u8fd9\u4e2a\u662f\u53c2\u8003\u8fd9\u7bc7\u6587\u7ae0\uff1a<a href=\\"http://fex.baidu.com/blog/2015/05/nodejs-hot-swapping/\\">Node.js Web\u5e94\u7528\u4ee3\u7801\u70ed\u66f4\u65b0\u7684\u53e6\u7c7b\u601d\u8def</a></p>\\n<pre><code class=\\"language-javascript\\">Mock.prototype.watchFile = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\"></span>) </span>{\\n  <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'&gt;&gt; Watch mode\'</span>)\\n  utils.watch([<span class=\\"hljs-keyword\\">this</span>.file], <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n    <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'File changed!\'</span>)\\n    <span class=\\"hljs-keyword\\">delete</span> <span class=\\"hljs-built_in\\">require</span>.cache[<span class=\\"hljs-keyword\\">this</span>.file];\\n    <span class=\\"hljs-keyword\\">this</span>.rerun();\\n  });\\n}</code></pre>\\n<p>\u76d1\u542c\u5230\u6587\u4ef6\u6539\u53d8\u65f6\uff0c\u56de\u8c03\u51fd\u6570\u6267\u884c<code>delete require.cache[this.file];</code>\u6e05\u9664\u7f13\u5b58(\u9488\u5bf9\u914d\u7f6e\u6587\u4ef6\u662fJSON\u7684\u60c5\u51b5)\uff0c\u7136\u540e\u6267\u884c<code>rerun()</code>\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">/**\\n * Application new config\\n */</span>\\nMock.prototype.rerun = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">()</span> </span>{\\n  <span class=\\"hljs-keyword\\">this</span>.getConfig()\\n  <span class=\\"hljs-keyword\\">this</span>.createRouter()\\n}</code></pre>\\n<p><code>rerun</code>\u83b7\u53d6\u65b0\u7684\u914d\u7f6e\uff0c\u521b\u5efa\u65b0\u7684\u8def\u7531\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">/**\\n * Create router function with config object\\n */</span>\\nMock.prototype.createRouter = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\"></span>) </span>{\\n  <span class=\\"hljs-keyword\\">this</span>.router = router(<span class=\\"hljs-keyword\\">this</span>.config)\\n}\\n\\n<span class=\\"hljs-comment\\">/**\\n * Start server\\n */</span>\\nMock.prototype.startApp = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\"></span>) </span>{\\n  ...\\n  <span class=\\"hljs-comment\\">// Application router</span>\\n  <span class=\\"hljs-keyword\\">this</span>.app.use(<span class=\\"hljs-keyword\\">async</span> (ctx, next) =&gt; {\\n    <span class=\\"hljs-keyword\\">await</span> <span class=\\"hljs-keyword\\">this</span>.router(ctx, next)\\n  })\\n  ...\\n}</code></pre>\\n<p>\u8fd9\u91cc\u5229\u7528\u95ed\u5305\u7684\u7279\u6027\u83b7\u53d6\u6700\u65b0\u7684router\u5bf9\u8c61\uff0c\u907f\u514dapp.use\u7f13\u5b58router\u5bf9\u8c61\u3002\u8fd9\u6837\u5c31\u5b9e\u73b0\u4e86\u8def\u7531\u914d\u7f6e\u7684\u70ed\u66f4\u65b0\u3002</p>\\n<p>\u540e\u9762\u9488\u5bf9\u9700\u6c42\u8fd8\u505a\u4e86\u4e00\u4e9b\u5c0f\u7684\u6539\u8fdb\uff1a</p>\\n<ol>\\n<li>\u652f\u6301\u8bbf\u95ee\u9759\u6001\u8d44\u6e90</li>\\n<li>\u53c2\u6570\u652f\u6301\u6b63\u5219\u5339\u914d</li>\\n<li>\u652f\u6301\u8bfb\u53d6txt\uff0c\u5185\u5bb9\u4e3a\u54cd\u5e94\u5934+body\uff0c\u5373\u53ef\u81ea\u5b9a\u4e49\u54cd\u5e94\u5934</li>\\n</ol>\\n<h2 id=\\"todo\\">TODO</h2>\\n<ol>\\n<li>\u5b8c\u5584\u8bf7\u6c42\u62e6\u622a\u65b9\u6848</li>\\n<li>\u8de8\u5e73\u53f0\u517c\u5bb9\u95ee\u9898\uff08\u5982LF\uff0cCRLF\uff09</li>\\n<li>\u81ea\u52a8\u5316\u6d4b\u8bd5</li>\\n<li>README\u4f18\u5316</li>\\n<li>\u60f3\u641e\u7684\u66f4\u9ad8\u7ea7\u4e00\u4e9b\uff0c\u5c06\u8bf7\u6c42\u54cd\u5e94\u4ee5\u53ca\u914d\u7f6e\u8def\u7531\u7684\u589e\u5220\u6539\u67e5\u53ef\u89c6\u5316</li>\\n</ol>\\n<h2 id=\\"\u53c2\u8003\u8d44\u6599\\">\u53c2\u8003\u8d44\u6599</h2>\\n<ol>\\n<li><a href=\\"https://github.com/CntChen/cntchen.github.io/issues/1\\">\u524d\u540e\u7aef\u5206\u79bb\u5f00\u53d1\u6a21\u5f0f\u7684 mock \u5e73\u53f0\u9884\u7814</a></li>\\n<li><a href=\\"http://fex.baidu.com/blog/2015/05/nodejs-hot-swapping/\\">Node.js Web\u5e94\u7528\u4ee3\u7801\u70ed\u66f4\u65b0\u7684\u53e6\u7c7b\u601d\u8def</a></li>\\n</ol>\\n","title":"\u524d\u540e\u7aef\u5206\u79bb\u7684\u5f00\u53d1\u6a21\u5f0f\u4e0b\u6253\u9020\u524d\u7aefmock\u670d\u52a1\u5668","tags":["mock","node.js"],"slug":"create-front-end-mock-server-in-front-end-and-back-end-separated-development-mode","createDate":1514822400000,"id":"create-front-end-mock-server-in-front-end-and-back-end-separated-development-mode","thumb":"https://images.unsplash.com/photo-1581434271558-341895128368?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>\u6700\u8fd1\u9047\u5230\u4e86\u8fd9\u6837\u4e00\u4e2a\u9700\u6c42\uff0c\u5c06\u540e\u7aef\u4f20\u8fc7\u6765\u7684ISO\u683c\u5f0f\u7684UTC\u65f6\u95f4\u8f6c\u6362\u6210ISO\u683c\u5f0f\u7684\u672c\u5730\u65f6\u95f4\u3002</p>\\n","content":"<p>\u6700\u8fd1\u9047\u5230\u4e86\u8fd9\u6837\u4e00\u4e2a\u9700\u6c42\uff0c\u5c06\u540e\u7aef\u4f20\u8fc7\u6765\u7684ISO\u683c\u5f0f\u7684UTC\u65f6\u95f4\u8f6c\u6362\u6210ISO\u683c\u5f0f\u7684\u672c\u5730\u65f6\u95f4\u3002</p>\\n<h2 id=\\"utc-\u548c-iso\\">UTC \u548c ISO</h2>\\n<p>\u9996\u5148\uff0c\u6211\u4eec\u5148\u4e86\u89e3\u4e00\u4e0b\u4ec0\u4e48\u662fUTC\u65f6\u95f4\uff0c\u4ec0\u4e48\u662fISO\u683c\u5f0f\u3002</p>\\n<blockquote>\\n<p>\u534f\u8c03\u4e16\u754c\u65f6\uff08\u82f1\u8bed\uff1aCoordinated Universal Time\uff0c\u6cd5\u8bed\uff1aTemps Universel Coordonn\xe9\uff0c\u7b80\u79f0UTC\uff09\u662f\u6700\u4e3b\u8981\u7684\u4e16\u754c\u65f6\u95f4\u6807\u51c6\uff0c\u5176\u4ee5\u539f\u5b50\u65f6\u79d2\u957f\u4e3a\u57fa\u7840\uff0c\u5728\u65f6\u523b\u4e0a\u5c3d\u91cf\u63a5\u8fd1\u4e8e\u683c\u6797\u5c3c\u6cbb\u6807\u51c6\u65f6\u95f4\u3002                              \u2014\u2014 <a href=\\"https://zh.wikipedia.org/wiki/%E5%8D%8F%E8%B0%83%E4%B8%96%E7%95%8C%E6%97%B6\\">\u7ef4\u57fa\u767e\u79d1</a></p>\\n</blockquote>\\n<p>\u6574\u4e2a\u5730\u7403\u5206\u4e3a\u4e8c\u5341\u56db\u65f6\u533a\uff0c\u6bcf\u4e2a\u65f6\u533a\u90fd\u6709\u81ea\u5df1\u7684\u672c\u5730\u65f6\u95f4\uff0c\u540c\u4e00\u65f6\u523b\u6bcf\u4e2a\u65f6\u533a\u7684\u65f6\u95f4\u90fd\u4e0d\u4e00\u6837\uff0c\u6240\u4ee5\u5c31\u7528UTC\u6765\u7edf\u4e00\u6807\u51c6\u7684\u3002</p>\\n<blockquote>\\n<p>\u56fd\u9645\u6807\u51c6ISO 8601\uff0c\u662f\u56fd\u9645\u6807\u51c6\u5316\u7ec4\u7ec7\u7684\u65e5\u671f\u548c\u65f6\u95f4\u7684\u8868\u793a\u65b9\u6cd5\uff0c\u5168\u79f0\u4e3a\u300a\u6570\u636e\u5b58\u50a8\u548c\u4ea4\u6362\u5f62\u5f0f\xb7\u4fe1\u606f\u4ea4\u6362\xb7\u65e5\u671f\u548c\u65f6\u95f4\u7684\u8868\u793a\u65b9\u6cd5\u300b\u3002\u76ee\u524d\u662f\u7b2c\u4e09\u7248\u201cISO8601:2004\u201d\u4ee5\u66ff\u4ee3\u7b2c\u4e00\u7248\u201cISO8601:1988\u201d\u4e0e\u7b2c\u4e8c\u7248\u201cISO8601:2000\u201d\u3002   \u2014\u2014 <a href=\\"https://zh.wikipedia.org/wiki/ISO_8601\\">\u7ef4\u57fa\u767e\u79d1</a></p>\\n</blockquote>\\n<p>\u5f53\u524d\u7684UTC\u65f6\u95f4\u662f2018-01-02T06:29Z\uff08ISO 8601 \u8868\u793a\u6cd5\u3002\uff09\u5176\u4e2dZ\u662f4\u4f4d\u6570\u5b57\u683c\u5f0f\u7684\u65f6\u95f4\u504f\u79fb\u91cf\uff0c\u4e0d\u5199\u7684\u65f6\u5019\u9ed8\u8ba4\u4e0d\u504f\u79fb\u3002</p>\\n<h2 id=\\"utc\u65f6\u95f4\u8f6c\u672c\u5730\u65f6\u95f4\\">UTC\u65f6\u95f4\u8f6c\u672c\u5730\u65f6\u95f4</h2>\\n<h3 id=\\"\u7b2c\u4e00\u79cd\u65b9\u6cd5\\">\u7b2c\u4e00\u79cd\u65b9\u6cd5</h3>\\n<p>\u6211\u4eec\u53ef\u4ee5\u5728\u63a7\u5236\u53f0\u4e2d\u770b\u4e00\u4e0b\uff1a</p>\\n<pre><code class=\\"language-javascript\\">new Date()\\nTue Jan <span class=\\"hljs-number\\">02</span> <span class=\\"hljs-number\\">2018</span> <span class=\\"hljs-number\\">16</span>:<span class=\\"hljs-number\\">42</span>:<span class=\\"hljs-number\\">02</span> GMT+<span class=\\"hljs-number\\">0800</span> (CST)\\n\\nnew Date(<span class=\\"hljs-string\\">\'2018-01-02T00:00\'</span>)\\nTue Jan <span class=\\"hljs-number\\">02</span> <span class=\\"hljs-number\\">2018</span> <span class=\\"hljs-number\\">00</span>:<span class=\\"hljs-number\\">00</span>:<span class=\\"hljs-number\\">00</span> GMT+<span class=\\"hljs-number\\">0800</span> (CST)\\n\\nnew Date(<span class=\\"hljs-string\\">\'2018-01-02T00:00+0800\'</span>)\\nTue Jan <span class=\\"hljs-number\\">02</span> <span class=\\"hljs-number\\">2018</span> <span class=\\"hljs-number\\">00</span>:<span class=\\"hljs-number\\">00</span>:<span class=\\"hljs-number\\">00</span> GMT+<span class=\\"hljs-number\\">0800</span> (CST)\\n\\nnew Date(<span class=\\"hljs-string\\">\'2018-01-02T00:00-0800\'</span>)\\nTue Jan <span class=\\"hljs-number\\">02</span> <span class=\\"hljs-number\\">2018</span> <span class=\\"hljs-number\\">16</span>:<span class=\\"hljs-number\\">00</span>:<span class=\\"hljs-number\\">00</span> GMT+<span class=\\"hljs-number\\">0800</span> (CST)\\n\\nnew Date(<span class=\\"hljs-string\\">\'2018-01-02T00:00+0000\'</span>)\\nTue Jan <span class=\\"hljs-number\\">02</span> <span class=\\"hljs-number\\">2018</span> <span class=\\"hljs-number\\">08</span>:<span class=\\"hljs-number\\">00</span>:<span class=\\"hljs-number\\">00</span> GMT+<span class=\\"hljs-number\\">0800</span> (CST)</code></pre>\\n<p>\u53ef\u4ee5\u770b\u5230, <code>new Date()</code>\u8fd4\u56de\u7684\u662f\u5f53\u524d\u672c\u5730\u65f6\u95f4\u3002<code>new Date(&#39;2018-01-02T00:00&#39;)</code> \u4f20\u5165\u7684\u662fISO\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\uff0c\u4f46\u662f\u6ca1\u6709\u52a0\u504f\u79fb\u91cf\uff0c\u53ef\u4ee5\u770b\u5230\u7ed3\u679c\u672c\u5730\u65f6\u95f4\u8ddf\u4f20\u5165\u7684\u65f6\u95f4\u4e00\u81f4\uff0c\u4f46\u662f\u4e0a\u9762\u8bf4<strong>\u5176\u4e2dZ\u662f4\u4f4d\u6570\u5b57\u683c\u5f0f\u7684\u65f6\u95f4\u504f\u79fb\u91cf\uff0c\u4e0d\u5199\u7684\u65f6\u5019\u9ed8\u8ba4\u4e0d\u504f\u79fb</strong>\uff0c \u8f6c\u5316\u6210\u672c\u5730\u65f6\u95f4\u4e0d\u5e94\u8be5\u662f<code>Tue Jan 02 2018 08:00:00 GMT+0800 (CST)</code>\u5417\uff1f</p>\\n<p>\u539f\u6765<code>new Date()</code>\u5bf9\u4f20\u5165\u7684\u5b57\u7b26\u4e32\u8c03\u7528<code>Date.parse()</code>\u6765\u89e3\u6790, \u5982\u679c\u6ca1\u6709\u6307\u5b9a\u65f6\u533a\uff0c\u9ed8\u8ba4\u4f7f\u7528\u672c\u5730\u65f6\u533a\u3002</p>\\n<blockquote>\\n<p>parse \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u8868\u793a\u65f6\u95f4\u7684\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u76f8\u5e94\u7684\u65f6\u95f4\u503c\u3002\u8be5\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u7b26\u5408 RFC2822 / IETF \u65e5\u671f\u8bed\u6cd5 (RFC2822 Section 3.3) \u7684\u5b57\u7b26\u4e32\uff0c\u5982 &quot;Mon, 25 Dec 1995 13:30:00 GMT&quot;\u3002\u8be5\u65b9\u6cd5\u80fd\u591f\u7406\u89e3\u7f8e\u56fd\u5927\u9646\u65f6\u533a\u7684\u7f29\u5199\uff0c\u4f46\u662f\u4e3a\u4e86\u66f4\u901a\u7528\uff0c\u5e94\u8be5\u4f7f\u7528\u65f6\u533a\u504f\u79fb\uff0c\u5982 &quot;Mon, 25 Dec 1995 13:30:00 +0430&quot; \uff08\u683c\u6797\u5a01\u6cbb\u7684\u5b50\u5348\u7ebf\u5411\u4e1c\u504f\u79fb4\u5c0f\u65f630\u5206\u949f\uff09\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u65f6\u533a\uff0c\u9ed8\u8ba4\u4f7f\u7528\u672c\u5730\u65f6\u533a\u3002\u2014\u2014 <a href=\\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/parse\\">MDN</a></p>\\n</blockquote>\\n<p>\u540e\u9762\u4f8b\u5b50\u4e2d<code>+0800</code>\uff0c<code>-0800</code>\uff0c<code>+0000</code> \u5c31\u66f4\u597d\u7406\u89e3\u4e86\u3002</p>\\n<p>\u6240\u4ee5\uff0c UTC \u65f6\u95f4\u4e0e \u672c\u5730\u65f6\u95f4\u7684\u5173\u7cfb\u5c31\u662f\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-attr\\">UTC + \u65f6\u533a\u5dee </span>=<span class=\\"hljs-string\\"> \u672c\u5730\u65f6\u95f4</span></code></pre>\\n<p>\u4e8e\u662f\uff0c\u6211\u4eec\u53ea\u9700\u8981\u77e5\u9053\u65f6\u533a\u5dee\u5c31\u53ef\u4ee5\u8f6c\u6362\u65f6\u95f4\u4e86, \u53ef\u4ee5\u5229\u7528<code>Date.prototype.getTimezoneOffset()</code>:</p>\\n<blockquote>\\n<p>\u65f6\u533a\u504f\u5dee\uff08time-zone offset\uff09\u8868\u793a\u534f\u8c03\u4e16\u754c\u65f6\uff08UTC\uff09\u4e0e\u672c\u5730\u65f6\u533a\u4e4b\u95f4\u7684\u5dee\u503c\uff0c\u5355\u4f4d\u4e3a\u5206\u949f\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\u5982\u679c\u672c\u5730\u65f6\u533a\u665a\u4e8e\u534f\u8c03\u4e16\u754c\u65f6\uff0c\u5219\u8be5\u5dee\u503c\u4e3a\u6b63\u503c\uff0c\u5982\u679c\u65e9\u4e8e\u534f\u8c03\u4e16\u754c\u65f6\u5219\u4e3a\u8d1f\u503c\u3002 --<a href=\\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/getTimezoneOffset\\">MDN</a></p>\\n</blockquote>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">var</span> x = <span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-built_in\\">Date</span>();\\n<span class=\\"hljs-keyword\\">var</span> currentTimeZoneOffsetInHours = x.getTimezoneOffset() / <span class=\\"hljs-number\\">60</span>;</code></pre>\\n<p>\u7136\u540e\u8fdb\u884c\u7b80\u5355\u7684\u52a0\u51cf\u5373\u53ef\uff0c\u4e0d\u8fc7\u8981\u6ce8\u610f\u665a\u4e8eUTC\u662f\u6b63\uff0c\u65e9\u662f\u8d1f\u3002</p>\\n<h3 id=\\"\u7b2c\u4e8c\u79cd\u65b9\u6cd5\\">\u7b2c\u4e8c\u79cd\u65b9\u6cd5</h3>\\n<p>\u7136\u800c\u8fd9\u6837\u5c31\u7ed3\u675f\u4e86\u5417\uff1f No\uff0c\u8fd8\u6709\u66f4\u7b80\u5355\u7684\u65b9\u6cd5\u3002</p>\\n<p>\u4ece\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\u6211\u4eec\u8fd8\u53ef\u4ee5\u770b\u5230\uff0c <code>new Date()</code>\u8fd4\u56de\u7684\u90fd\u662f\u672c\u5730\u65f6\u95f4\uff0c\u6240\u4ee5\u6211\u4eec\u770b\u4e00\u4e0b<code>Date.prototype.toString()</code>:</p>\\n<blockquote>\\n<p>Return an implementation-dependent String value that represents tv as a date and time in the current time zone using a convenient, human-readable form.  --<a href=\\"http://www.ecma-international.org/ecma-262/6.0/#sec-date.prototype.tostring\\">Standard ECMA-262</a></p>\\n</blockquote>\\n<p>\u53ef\u4ee5\u770b\u5230toString\u8fd4\u56de\u7684\u65f6\u95f4\u5c31\u662f\u57fa\u4e8e\u7cfb\u7edf\u5f53\u524d\u6240\u5728\u65f6\u533a\u7684\uff0c\u5373\u672c\u5730\u65f6\u95f4\uff0c\u6240\u4ee5\u76f4\u63a5\u8c03\u7528toString\u5373\u53ef\u8f6c\u5316\u4e3a\u672c\u5730\u65f6\u95f4:</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">let</span> value = \'<span class=\\"hljs-number\\">2018</span>-<span class=\\"hljs-number\\">01</span>-<span class=\\"hljs-number\\">02</span>T00:<span class=\\"hljs-number\\">00</span>+<span class=\\"hljs-number\\">0000</span>\'\\n<span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-constructor\\">Date(<span class=\\"hljs-params\\">value</span>)</span>.<span class=\\"hljs-keyword\\">to</span><span class=\\"hljs-constructor\\">String()</span></code></pre>\\n<p>\u7136\u540e\u518d\u5c06\u5f97\u5230\u7684\u65f6\u95f4\u5b57\u7b26\u4e32\u89e3\u6790\u6210ISO\u683c\u5f0f\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">/**\\n * \u628a JS datetime \u503c\u8f6c\u4e3a\u6307\u5b9a\u65e5\u671f\u65f6\u95f4\u683c\u5f0f\\n * @param  {string} value - Js datetime string\\n * @return {string} - ISO Dates YYYY-MM-DDTHH:mm:ss\\n */</span>\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">getISOdatetime</span> (<span class=\\"hljs-params\\">value</span>) </span>{\\n  <span class=\\"hljs-keyword\\">var</span> tmpStr = <span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-built_in\\">Date</span>(value),\\n    year = tmpStr.getFullYear(),\\n    month = pad(tmpStr.getMonth() + <span class=\\"hljs-number\\">1</span>), <span class=\\"hljs-comment\\">// \u6708\u4efd\u53d6\u503c0-11</span>\\n    <span class=\\"hljs-built_in\\">date</span> = pad(tmpStr.getDate()),\\n    hour = pad(tmpStr.getHours()),\\n    minute = pad(tmpStr.getMinutes()),\\n    second = pad(tmpStr.getSeconds())\\n\\n  <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-string\\">`<span class=\\"hljs-subst\\">${year}</span>-<span class=\\"hljs-subst\\">${month}</span>-<span class=\\"hljs-subst\\">${date}</span>T<span class=\\"hljs-subst\\">${hour}</span>:<span class=\\"hljs-subst\\">${minute}</span>:<span class=\\"hljs-subst\\">${second}</span>`</span>\\n}\\n\\n<span class=\\"hljs-comment\\">/**\\n * \u628a UTC\u65f6\u95f4 \u8f6c\u6362\u6210 \u672c\u5730\u65f6\u95f4\\n * @param  {string} value - UTC datetime string\\n * @return {string} - ISO Dates YYYY-MM-DDTHH:mm:ss\\n */</span>\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">getLocalISODatetime</span> (<span class=\\"hljs-params\\">value</span>) </span>{\\n  <span class=\\"hljs-keyword\\">return</span> getISOdatetime(<span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-built_in\\">Date</span>(value).toString())\\n}</code></pre>\\n<h2 id=\\"\u672c\u5730\u65f6\u95f4\u8f6cutc\u65f6\u95f4\\">\u672c\u5730\u65f6\u95f4\u8f6cUTC\u65f6\u95f4</h2>\\n<p>\u90a3\u672c\u5730\u65f6\u95f4\u8f6c\u6362\u6210UTC\u65f6\u95f4\u4e5f\u5f88\u7b80\u5355\uff1a</p>\\n<pre><code><span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-constructor\\">Date()</span> <span class=\\"hljs-comment\\">//Wed Jan 24 2018 11:06:29 GMT+0800 (CST)</span>\\n<span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-constructor\\">Date()</span>.<span class=\\"hljs-keyword\\">to</span><span class=\\"hljs-constructor\\">ISOString()</span> <span class=\\"hljs-comment\\">// \\"2018-01-24T03:06:22.861Z\\"</span></code></pre><blockquote>\\n<p>toISOString() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a ISO\uff08ISO 8601 Extended Format\uff09\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\uff1a YYYY-MM-DDTHH:mm:ss.sssZ\u3002\u65f6\u533a\u603b\u662fUTC\uff08\u534f\u8c03\u4e16\u754c\u65f6\uff09\uff0c\u52a0\u4e00\u4e2a\u540e\u7f00\u201cZ\u201d\u6807\u8bc6\u3002  ------ <a href=\\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString\\">Date.prototype.toISOString() | MDN</a></p>\\n</blockquote>\\n<p>\u54c8\u54c8\uff0c\u5176\u5b9e\u6700\u7ec8\u7684\u5b9e\u73b0\u5f88\u7b80\u5355\uff0c\u4f46\u662f\u8981\u641e\u6e05\u695a\u539f\u7406\u9700\u8981\u6df1\u5165\u4e86\u89e3\u4e00\u4e0b\u6807\u51c6\u662f\u600e\u4e48\u53bb\u5b9a\u4e49\u5b9e\u73b0\u7684\u3002</p>\\n<h2 id=\\"\u53c2\u8003\u8d44\u6599\\">\u53c2\u8003\u8d44\u6599</h2>\\n<ol>\\n<li><a href=\\"http://www.zoucz.com/blog/2016/01/29/date-iso/\\">ISO\u65e5\u671f\u683c\u5f0f\u6807\u51c6</a></li>\\n<li><a href=\\"https://stackoverflow.com/questions/6525538/convert-utc-date-time-to-local-date-time\\">Convert UTC date time to local date time</a></li>\\n<li><a href=\\"https://zh.wikipedia.org/wiki/%E5%8D%8F%E8%B0%83%E4%B8%96%E7%95%8C%E6%97%B6\\">\u534f\u8c03\u4e16\u754c\u65f6 | \u7ef4\u57fa\u767e\u79d1</a></li>\\n<li><a href=\\"https://zh.wikipedia.org/wiki/ISO_8601\\">ISO 8601 | \u7ef4\u57fa\u767e\u79d1</a></li>\\n<li><a href=\\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/parse\\">Date.parse() | MDN</a></li>\\n<li><a href=\\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/getTimezoneOffset\\">Date.prototype.getTimezoneOffset() | MDN</a></li>\\n<li><a href=\\"http://www.ecma-international.org/ecma-262/6.0/#sec-date.prototype.tostring\\">Date.prototype.toString ( ) | Standard ECMA-262</a></li>\\n<li><a href=\\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString\\">Date.prototype.toISOString() | MDN</a></li>\\n</ol>\\n","title":"ISO\u683c\u5f0f\u7684UTC\u65f6\u95f4\u4e0e\u672c\u5730\u65f6\u95f4\u7684\u4e92\u76f8\u8f6c\u5316","tags":["iso","utc"],"slug":"conversion-between-utc-time-and-local-time-in-iso-format","createDate":1514822400000,"id":"conversion-between-utc-time-and-local-time-in-iso-format","thumb":"https://images.unsplash.com/photo-1580683014416-16d8f7df106e?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>\u4e3a\u4e86\u4f18\u96c5\u7684\u4f7f\u7528Google\uff0cGmail\u7b49\u6298\u817e\u8fc7\u4e0d\u5c11VPS, \u6700\u521d\u662f\u7528\u7684\u642c\u74e6\u5de5\u7684\u4fbf\u5b9cVPS\uff0c\u534a\u5e74$12.99\uff0c\u7531\u4e8e\u6d41\u91cf\u7528\u4e0d\u5b8c\uff0c\u5f00\u4e86\u591a\u8d26\u53f7\u51fa\u79df\u3002\u540e\u6765\u7528\u8fc7\u9999\u6e2f\u7684\uff0c\u901f\u5ea6\u4e0d\u9519\u4f46\u662f\u592a\u8d35\uff0c\u524d\u4e00\u6bb5\u65f6\u95f4\u4e00\u76f4\u7528\u7684DigitalOcean\u7684VPS\uff0cGithub\u5b66\u751f\u4f18\u60e0\u53ef\u4ee5\u514d\u8d39\u752810\u4e2a\u6708\uff0c\u7f8e\u6ecb\u6ecb\u3002</p>\\n<p>\u53ef\u60dc\u597d\u666f\u4e0d\u957f\uff0c\u56e0\u4e3a18+1\u5927\uff0cDO\u7684vps ssh\u90fd\u8fde\u4e0d\u4e0a\u4e86\uff0c\u4e8e\u662f\u53c8\u56de\u5230\u4e86\u642c\u74e6\u5de5\uff0c\u6700\u4fbf\u5b9c\u7684\u6ca1\u8d27\u4e86\uff0c\u80fd\u4e70\u5230\u7684\u6700\u4fbf\u5b9c\u7684\u662f\u6bcf\u6708$4.99\u7684\uff0c\u52a0\u62ff\u5927\u673a\u623f\u7528\u7740\u8fd8\u53ef\u4ee5\u3002</p>\\n<p>\u6700\u8fd1\u540c\u5b66\u90a3\u91cc\u5f97\u5230\u6d88\u606f\uff0c\u53ef\u4ee5\u4e00\u5e74$29.99\uff0c\u518d\u52a0\u4e0a6%\u7684\u4f18\u60e0\u7801\uff0c\u6700\u540e\u53ea\u9700\u8981180+\u4e00\u5e74\u3002\u53ef\u4ee5\u8bf4\u73b0\u5728\u770b\u6765\u5f88\u4fbf\u5b9c\u4e86\uff0c\u4e8e\u662f\u5c31\u4e0b\u5355\u4e86\u3002</p>\\n<p>\u4e70\u7684\u65f6\u5019\u662f\u6d1b\u6749\u77f6\u7684\uff0c\u53ef\u4ee5\u8fc1\u79fb\u5230\u5176\u4ed6\u5730\u65b9(\u6015\u88ab\u5c01ip), \u7136\u540e\u91cd\u88c5\u7cfb\u7edf\uff0c\u6211\u88c5\u7684\u662fCentOS 7 x86_64 bbr\u3002</p>\\n","content":"<p>\u4e3a\u4e86\u4f18\u96c5\u7684\u4f7f\u7528Google\uff0cGmail\u7b49\u6298\u817e\u8fc7\u4e0d\u5c11VPS, \u6700\u521d\u662f\u7528\u7684\u642c\u74e6\u5de5\u7684\u4fbf\u5b9cVPS\uff0c\u534a\u5e74$12.99\uff0c\u7531\u4e8e\u6d41\u91cf\u7528\u4e0d\u5b8c\uff0c\u5f00\u4e86\u591a\u8d26\u53f7\u51fa\u79df\u3002\u540e\u6765\u7528\u8fc7\u9999\u6e2f\u7684\uff0c\u901f\u5ea6\u4e0d\u9519\u4f46\u662f\u592a\u8d35\uff0c\u524d\u4e00\u6bb5\u65f6\u95f4\u4e00\u76f4\u7528\u7684DigitalOcean\u7684VPS\uff0cGithub\u5b66\u751f\u4f18\u60e0\u53ef\u4ee5\u514d\u8d39\u752810\u4e2a\u6708\uff0c\u7f8e\u6ecb\u6ecb\u3002</p>\\n<p>\u53ef\u60dc\u597d\u666f\u4e0d\u957f\uff0c\u56e0\u4e3a18+1\u5927\uff0cDO\u7684vps ssh\u90fd\u8fde\u4e0d\u4e0a\u4e86\uff0c\u4e8e\u662f\u53c8\u56de\u5230\u4e86\u642c\u74e6\u5de5\uff0c\u6700\u4fbf\u5b9c\u7684\u6ca1\u8d27\u4e86\uff0c\u80fd\u4e70\u5230\u7684\u6700\u4fbf\u5b9c\u7684\u662f\u6bcf\u6708$4.99\u7684\uff0c\u52a0\u62ff\u5927\u673a\u623f\u7528\u7740\u8fd8\u53ef\u4ee5\u3002</p>\\n<p>\u6700\u8fd1\u540c\u5b66\u90a3\u91cc\u5f97\u5230\u6d88\u606f\uff0c\u53ef\u4ee5\u4e00\u5e74$29.99\uff0c\u518d\u52a0\u4e0a6%\u7684\u4f18\u60e0\u7801\uff0c\u6700\u540e\u53ea\u9700\u8981180+\u4e00\u5e74\u3002\u53ef\u4ee5\u8bf4\u73b0\u5728\u770b\u6765\u5f88\u4fbf\u5b9c\u4e86\uff0c\u4e8e\u662f\u5c31\u4e0b\u5355\u4e86\u3002</p>\\n<p>\u4e70\u7684\u65f6\u5019\u662f\u6d1b\u6749\u77f6\u7684\uff0c\u53ef\u4ee5\u8fc1\u79fb\u5230\u5176\u4ed6\u5730\u65b9(\u6015\u88ab\u5c01ip), \u7136\u540e\u91cd\u88c5\u7cfb\u7edf\uff0c\u6211\u88c5\u7684\u662fCentOS 7 x86_64 bbr\u3002</p>\\n<h3 id=\\"\u914d\u7f6essh\u514d\u5bc6\u767b\u5f55\uff08mac\uff09\\">\u914d\u7f6essh\u514d\u5bc6\u767b\u5f55\uff08mac\uff09</h3>\\n<ol>\\n<li>\u751f\u6210\u5bc6\u94a5</li>\\n</ol>\\n<pre><code><span class=\\"hljs-attribute\\">ssh-keygen -t rsa</span></code></pre><p>\u4e00\u8def\u56de\u8f66\u5373\u53ef\uff0c\u7136\u540e\u6267\u884c\uff1a</p>\\n<pre><code><span class=\\"hljs-keyword\\">ls</span> ~<span class=\\"hljs-string\\">/.ssh</span></code></pre><p>\u4f1a\u770b\u5230\u4e24\u4e2a\u5bc6\u94a5\u6587\u4ef6<code>id_rsa</code>(\u79c1\u94a5), <code>id_rsa.pub</code>\uff08\u516c\u94a5\uff09</p>\\n<ol start=\\"2\\">\\n<li>\u914d\u7f6e<code>~/.ssh/config</code></li>\\n</ol>\\n<p>\u5728<code>~/.ssh/config</code>\uff08\u6ca1\u6709\u5c31\u65b0\u5efa\uff09\u91cc\u6dfb\u52a0\uff1a</p>\\n<pre><code>Host {NAME} # \u4e3b\u673a\u540d\uff0c \u522b\u540d\\n    HostName {IP} # \u5b8c\u6574\u7684\u4e3b\u673a\u540d\uff0c<span class=\\"hljs-built_in\\"> IP\\n</span>   <span class=\\"hljs-built_in\\"> User </span>root # \u767b\u5f55\u7528\u6237\\n    IdentityFile ~/.ssh/id_rsa # \u79c1\u94a5</code></pre><ol start=\\"3\\">\\n<li>\u5c06\u516c\u94a5\u62f7\u8d1d\u5230\u8fdc\u7a0b\u4e3b\u673a</li>\\n</ol>\\n<p>ssh\u767b\u5f55\u5230\u8fdc\u7a0b\u4e3b\u673a\uff0c\u5c06\u516c\u94a5\u5185\u5bb9\u62f7\u8d1d\u5230<code>~/.ssh/authorized_keys</code>\u6587\u4ef6\u540e\u9762\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u65b0\u5efa\u3002\\n\u7136\u540e\u5c31\u53ef\u4ee5\u514d\u5bc6\u767b\u5f55\u5230\u8fdc\u7a0b\u4e3b\u673a\u4e86\u3002</p>\\n<h3 id=\\"\u914d\u7f6eshadowsocks-libev--simple-obfs\\">\u914d\u7f6eShadowsocks-libev + simple-obfs</h3>\\n<ol>\\n<li>\u5173\u95ed\u9632\u706b\u5899</li>\\n</ol>\\n<pre><code>systemctl <span class=\\"hljs-keyword\\">stop</span> firewalld\\nsystemctl <span class=\\"hljs-keyword\\">disable</span> firewalld</code></pre><ol start=\\"2\\">\\n<li>\u5b89\u88c5\u4f9d\u8d56</li>\\n</ol>\\n<pre><code>yum -y <span class=\\"hljs-keyword\\">install</span> epel-<span class=\\"hljs-keyword\\">release</span>\\nyum -y <span class=\\"hljs-keyword\\">update</span>\\nyum -y <span class=\\"hljs-keyword\\">install</span> wget gcc automake autoconf libtool make m2crypto autoconf libtool curl curl-devel zlib-devel openssl-devel perl perl-devel cpio expat-devel gettext-devel pcre-devel asciidoc xmlto git</code></pre><ol start=\\"3\\">\\n<li>\u5b89\u88c5 Libsodium</li>\\n</ol>\\n<pre><code><span class=\\"hljs-built_in\\">export</span> LIBSODIUM_VER=1.0.13\\nwget https://download.libsodium.org/libsodium/releases/libsodium-<span class=\\"hljs-variable\\">$LIBSODIUM_VER</span>.tar.gz\\ntar xvf libsodium-<span class=\\"hljs-variable\\">$LIBSODIUM_VER</span>.tar.gz\\n<span class=\\"hljs-built_in\\">pushd</span> libsodium-<span class=\\"hljs-variable\\">$LIBSODIUM_VER</span>\\n./configure --prefix=/usr &amp;&amp; make\\nsudo make install\\n<span class=\\"hljs-built_in\\">popd</span>\\nsudo ldconfig</code></pre><ol start=\\"4\\">\\n<li>\u5b89\u88c5 MbedTLS</li>\\n</ol>\\n<pre><code><span class=\\"hljs-attr\\">export</span> <span class=\\"hljs-string\\">MBEDTLS_VER=2.6.0</span>\\n<span class=\\"hljs-attr\\">wget</span> <span class=\\"hljs-string\\">https://tls.mbed.org/download/mbedtls-$MBEDTLS_VER-gpl.tgz</span>\\n<span class=\\"hljs-attr\\">tar</span> <span class=\\"hljs-string\\">xvf mbedtls-$MBEDTLS_VER-gpl.tgz</span>\\n<span class=\\"hljs-attr\\">pushd</span> <span class=\\"hljs-string\\">mbedtls-$MBEDTLS_VER</span>\\n<span class=\\"hljs-attr\\">make</span> <span class=\\"hljs-string\\">SHARED=1 CFLAGS=-fPIC</span>\\n<span class=\\"hljs-attr\\">sudo</span> <span class=\\"hljs-string\\">make DESTDIR=/usr install</span>\\n<span class=\\"hljs-attr\\">popd</span>\\n<span class=\\"hljs-attr\\">sudo</span> <span class=\\"hljs-string\\">ldconfig</span></code></pre><ol start=\\"5\\">\\n<li>\u4e0b\u8f7d Shadowsocks-libev \u6e90\u7801</li>\\n</ol>\\n<pre><code><span class=\\"hljs-keyword\\">cd</span> ~\\ngit clone https:<span class=\\"hljs-string\\">//github.com/shadowsocks/shadowsocks-libev.git</span>\\n<span class=\\"hljs-keyword\\">cd</span> shadowsocks-libev\\ngit submodule update <span class=\\"hljs-params\\">--init</span> <span class=\\"hljs-params\\">--recursive</span></code></pre><ol start=\\"6\\">\\n<li>\u7f16\u8bd1 Shadowsocks-libev</li>\\n</ol>\\n<pre><code><span class=\\"hljs-keyword\\">cd</span> ~<span class=\\"hljs-string\\">/shadowsocks-libev</span>\\n<span class=\\"hljs-string\\">./autogen.sh</span> &amp;&amp; <span class=\\"hljs-string\\">./configure</span> <span class=\\"hljs-params\\">--prefix=/usr/local/shadowsocks-libev</span> &amp;&amp; make &amp;&amp; make install</code></pre><ol start=\\"7\\">\\n<li>\u5b89\u88c5 Simple-obfs</li>\\n</ol>\\n<pre><code>git clone http<span class=\\"hljs-variable\\">s:</span>//github.<span class=\\"hljs-keyword\\">com</span>/shadowsocks/simple-obfs.git\\n<span class=\\"hljs-keyword\\">cd</span> simple-obfs\\ngit submodule <span class=\\"hljs-keyword\\">update</span> --init --recursive\\n./autogen.<span class=\\"hljs-keyword\\">sh</span>\\n./configure &amp;&amp; <span class=\\"hljs-keyword\\">make</span>\\n<span class=\\"hljs-keyword\\">make</span> install</code></pre><ol start=\\"8\\">\\n<li>Shadowsocks-libev Systemd \u914d\u7f6e\u6587\u4ef6</li>\\n</ol>\\n<pre><code>vim /etc/systemd/system/shadowsocks-libev.service\\n<span class=\\"hljs-comment\\">#  This file is part of shadowsocks-libev.</span>\\n<span class=\\"hljs-comment\\">#</span>\\n<span class=\\"hljs-comment\\">#  Shadowsocks-libev is free software; you can redistribute it and/or modify</span>\\n<span class=\\"hljs-comment\\">#  it under the terms of the GNU General Public License as published by</span>\\n<span class=\\"hljs-comment\\">#  the Free Software Foundation; either version 3 of the License, or</span>\\n<span class=\\"hljs-comment\\">#  (at your option) any later version.</span>\\n<span class=\\"hljs-comment\\">#</span>\\n<span class=\\"hljs-comment\\">#  This file is default for RPM packaging. See also</span>\\n<span class=\\"hljs-comment\\">#  /etc/sysconfig/shadowsocks-libev for environment variables.</span>\\n[Unit]\\n<span class=\\"hljs-attribute\\">Description</span>=Shadowsocks-libev<span class=\\"hljs-built_in\\"> Default Server Service\\n</span><span class=\\"hljs-attribute\\">Documentation</span>=man:shadowsocks-libev(8)\\n<span class=\\"hljs-attribute\\">After</span>=network.target\\n[Service]\\n<span class=\\"hljs-attribute\\">Type</span>=simple\\n<span class=\\"hljs-comment\\">#EnvironmentFile=/etc/sysconfig/shadowsocks-libev</span>\\n<span class=\\"hljs-attribute\\">User</span>=nobody\\n<span class=\\"hljs-attribute\\">Group</span>=nobody\\n<span class=\\"hljs-attribute\\">LimitNOFILE</span>=32768\\n<span class=\\"hljs-attribute\\">ExecStart</span>=/usr/local/shadowsocks-libev/bin/ss-server -c /etc/shadowsocks-libev/config.json <span class=\\"hljs-variable\\">$DAEMON_ARGS</span>\\n<span class=\\"hljs-attribute\\">CapabilityBoundingSet</span>=CAP_NET_BIND_SERVICE\\n[Install]\\n<span class=\\"hljs-attribute\\">WantedBy</span>=multi-user.target</code></pre><ol start=\\"9\\">\\n<li>\u521b\u5efa\u914d\u7f6e\u6587\u4ef6</li>\\n</ol>\\n<pre><code>vi /etc/shadowsocks-libev/<span class=\\"hljs-built_in\\">config</span>.json\\n\\n{\\n    <span class=\\"hljs-string\\">\\"server\\"</span>:<span class=\\"hljs-string\\">\\"0.0.0.0\\"</span>,\\n    <span class=\\"hljs-string\\">\\"server_port\\"</span>:<span class=\\"hljs-number\\">8388</span>,\\n    <span class=\\"hljs-string\\">\\"local_port\\"</span>:<span class=\\"hljs-number\\">1080</span>,\\n    <span class=\\"hljs-string\\">\\"password\\"</span>:<span class=\\"hljs-string\\">\\"Password\\"</span>,\\n    <span class=\\"hljs-string\\">\\"timeout\\"</span>:<span class=\\"hljs-number\\">60</span>,\\n    <span class=\\"hljs-string\\">\\"method\\"</span>:<span class=\\"hljs-string\\">\\"chacha20\\"</span>,\\n    <span class=\\"hljs-string\\">\\"plugin\\"</span>: <span class=\\"hljs-string\\">\\"obfs-server\\"</span>,\\n    <span class=\\"hljs-string\\">\\"plugin_opts\\"</span>: <span class=\\"hljs-string\\">\\"obfs=http\\"</span>\\n}</code></pre><ol start=\\"10\\">\\n<li>Systemd \u542f\u52a8 Shadowsocks-libev</li>\\n</ol>\\n<pre><code><span class=\\"hljs-selector-tag\\">systemctl</span> <span class=\\"hljs-selector-tag\\">enable</span> <span class=\\"hljs-selector-tag\\">shadowsocks-libev</span><span class=\\"hljs-selector-class\\">.service</span>\\n<span class=\\"hljs-selector-tag\\">systemctl</span> <span class=\\"hljs-selector-tag\\">start</span> <span class=\\"hljs-selector-tag\\">shadowsocks-libev</span><span class=\\"hljs-selector-class\\">.service</span>\\n<span class=\\"hljs-selector-tag\\">systemctl</span> <span class=\\"hljs-selector-tag\\">status</span> <span class=\\"hljs-selector-tag\\">shadowsocks-libev</span><span class=\\"hljs-selector-class\\">.service</span></code></pre><p>OK. \u8377\u5170\u673a\u623f\u7684\u901f\u5ea6\u8fd8\u662f\u4e0d\u9519\u7684\uff0cYouTube 1080p \u57fa\u672c\u4e0d\u5361\u3002</p>\\n<h3 id=\\"\u53c2\u8003\u8d44\u6599\\">\u53c2\u8003\u8d44\u6599</h3>\\n<ol>\\n<li><a href=\\"https://www.sundayle.com/2017/10/24/shadowsocks-libev/\\">Centos7 \u914d\u7f6eShadowsocks-libev + simple-obfs</a></li>\\n<li><a href=\\"http://blog.csdn.net/xiaomengxiaoqiu/article/details/76408329\\">mac\u914d\u7f6essh\u514d\u5bc6\u7801\u767b\u5f55centos7</a></li>\\n<li><a href=\\"https://www.v2ex.com/t/325885\\">\u7f16\u8bd1\u9519\u8bef Cannot find pcre library by CentOS 6 \u8bf7\u6307\u6559\u8c22\u8c22</a></li>\\n</ol>\\n","title":"\u4f7f\u7528\u642c\u74e6\u5de5VPS + CentOS 7 \u79d1\u5b66\u4e0a\u7f51 ","tags":["vps","CentOS"],"slug":"bandwagonhost-vps-centos-shadowsocks","createDate":1511136000000,"id":"bandwagonhost-vps-centos-shadowsocks","thumb":"https://images.unsplash.com/photo-1580683014416-16d8f7df106e?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<h2 id=\\"\u4e00\u3001\u5206\u6790\u76ee\u6807\\">\u4e00\u3001\u5206\u6790\u76ee\u6807</h2>\\n<p>\u5206\u6790\u524d\u7aef\u5355\u5143\u6d4b\u8bd5\u5de5\u5177 Mocha, \u4e86\u89e3\u5b83\u662f\u600e\u4e48\u8fdb\u884cTDD\u548cBDD\u7684\u3002</p>\\n","content":"<h2 id=\\"\u4e00\u3001\u5206\u6790\u76ee\u6807\\">\u4e00\u3001\u5206\u6790\u76ee\u6807</h2>\\n<p>\u5206\u6790\u524d\u7aef\u5355\u5143\u6d4b\u8bd5\u5de5\u5177 Mocha, \u4e86\u89e3\u5b83\u662f\u600e\u4e48\u8fdb\u884cTDD\u548cBDD\u7684\u3002</p>\\n<h2 id=\\"\u4e8c\u3001\u6d4b\u8bd5\u4e0emocha\u5165\u95e8\u7b80\u4ecb\\">\u4e8c\u3001\u6d4b\u8bd5\u4e0eMocha\u5165\u95e8\u7b80\u4ecb</h2>\\n<h3 id=\\"1-\u6d4b\u8bd5\u7684\u6982\u5ff5\\">1. \u6d4b\u8bd5\u7684\u6982\u5ff5</h3>\\n<h4 id=\\"11-\u5355\u5143\u6d4b\u8bd5\\">1.1 \u5355\u5143\u6d4b\u8bd5</h4>\\n<p>\u5355\u5143\u6d4b\u8bd5\uff08unit testing\uff09\uff0c\u662f\u6307\u5bf9\u8f6f\u4ef6\u4e2d\u7684\u6700\u5c0f\u53ef\u6d4b\u8bd5\u5355\u5143\u8fdb\u884c\u68c0\u67e5\u548c\u9a8c\u8bc1\u3002</p>\\n<ul>\\n<li>\u5728\u4e00\u4e9b\u4f20\u7edf\u7684\u7ed3\u6784\u5316\u7f16\u7a0b\u8bed\u8a00\u4e2d\uff0c\u4f8b\u5982C\uff0c\u8981\u8fdb\u884c\u6d4b\u8bd5\u7684\u5355\u5143\u4e00\u822c\u662f\u51fd\u6570\u6216\u5b50\u8fc7\u7a0b\u3002</li>\\n<li>\u5728\u9762\u5411\u5bf9\u8c61\u7684\u8bed\u8a00\u4e2d\uff0c\u8981\u8fdb\u884c\u6d4b\u8bd5\u57fa\u672c\u5355\u5143\u662f\u7c7b\u3002</li>\\n</ul>\\n<h4 id=\\"12-\u65ad\u8a00\\">1.2 \u65ad\u8a00</h4>\\n<p>\u65ad\u8a00\u8868\u793a\u4e00\u4e9b\u5e03\u5c14\u8868\u8fbe\u5f0f\uff0c\u5728\u7f16\u5199\u4ee3\u7801\u7684\u65f6\u5019\uff0c\u6211\u4eec\u603b\u662f\u4f1a\u4f5c\u51fa\u4e00\u4e9b\u5047\u8bbe\uff0c\u65ad\u8a00\u5c31\u662f\u7528\u4e8e\u4ee3\u7801\u4e2d\u6355\u6349\u8fd9\u4e9b\u5047\u8bbe\u3002</p>\\n<p>\u5728\u5355\u5143\u6d4b\u8bd5\u4e2d\uff0c\u6211\u4eec\u7ecf\u5e38\u4f7f\u7528\u65ad\u8a00\u6765\u9a8c\u8bc1\u6211\u4eec\u7684\u4ee3\u7801\u662f\u5426\u6b63\u5e38\u8fd0\u884c\u3002\u65ad\u8a00\u53ef\u4ee5\u6709\u4e24\u79cd\u5f62\u5f0f</p>\\n<pre><code class=\\"language-javascript\\">assert Expresstio<span class=\\"hljs-symbol\\">n1</span>\\nassert Expresstio<span class=\\"hljs-symbol\\">n1</span>:Expresstio<span class=\\"hljs-symbol\\">n2</span></code></pre>\\n<p>\u5176\u4e2dExpression1\u5e94\u8be5\u603b\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0cExpression2\u662f\u65ad\u8a00\u5931\u8d25\u65f6\uff0c\u8f93\u51fa\u7684\u5931\u8d25\u6d88\u606f\u7684\u5b57\u7b26\u4e32\u3002</p>\\n<h4 id=\\"13-tdd\\">1.3 TDD</h4>\\n<p>\u6d4b\u8bd5\u9a71\u52a8\u5f00\u53d1\u662f\u654f\u6377\u5f00\u53d1\u4e2d\u7684\u4e00\u9879\u6838\u5fc3\u5b9e\u8df5\u548c\u6280\u672f\uff0c\u4e5f\u662f\u4e00\u79cd\u8bbe\u8ba1\u65b9\u6cd5\u8bba\u3002TDD\u7684\u539f\u7406\u662f\u5728\u5f00\u53d1\u529f\u80fd\u4ee3\u7801\u4e4b\u524d\uff0c\u5148\u7f16\u5199\u5355\u5143\u6d4b\u8bd5\u7528\u4f8b\u4ee3\u7801\uff0c\u6d4b\u8bd5\u4ee3\u7801\u786e\u5b9a\u9700\u8981\u7f16\u5199\u4ec0\u4e48\u4ea7\u54c1\u4ee3\u7801\u3002TDD\u7684\u57fa\u672c\u601d\u8def\u5c31\u662f\u901a\u8fc7\u6d4b\u8bd5\u6765\u63a8\u52a8\u6574\u4e2a\u5f00\u53d1\u7684\u8fdb\u884c\uff0c\u4f46\u6d4b\u8bd5\u9a71\u52a8\u5f00\u53d1\u5e76\u4e0d\u53ea\u662f\u5355\u7eaf\u7684\u6d4b\u8bd5\u5de5\u4f5c\uff0c\u800c\u662f\u628a\u9700\u6c42\u5206\u6790\uff0c\u8bbe\u8ba1\uff0c\u8d28\u91cf\u63a7\u5236\u91cf\u5316\u7684\u8fc7\u7a0b\u3002TDD\u9996\u5148\u8003\u8651\u4f7f\u7528\u9700\u6c42\uff08\u5bf9\u8c61\u3001\u529f\u80fd\u3001\u8fc7\u7a0b\u3001\u63a5\u53e3\u7b49\uff09\uff0c\u4e3b\u8981\u662f\u7f16\u5199\u6d4b\u8bd5\u7528\u4f8b\u6846\u67b6\u5bf9\u529f\u80fd\u7684\u8fc7\u7a0b\u548c\u63a5\u53e3\u8fdb\u884c\u8bbe\u8ba1\uff0c\u800c\u6d4b\u8bd5\u6846\u67b6\u53ef\u4ee5\u6301\u7eed\u8fdb\u884c\u9a8c\u8bc1\u3002</p>\\n<h4 id=\\"14-bdd\\">1.4 BDD</h4>\\n<p>\u884c\u4e3a\u9a71\u52a8\u5f00\u53d1\u662f\u4e00\u79cd\u654f\u6377\u8f6f\u4ef6\u5f00\u53d1\u7684\u6280\u672f\uff0c\u5b83\u9f13\u52b1\u8f6f\u4ef6\u9879\u76ee\u4e2d\u7684\u5f00\u53d1\u8005\u3001  QA\u548c\u975e\u6280\u672f\u4eba\u5458\u6216\u5546\u4e1a\u53c2\u4e0e\u8005\u4e4b\u95f4\u7684\u534f\u4f5c\u3002\u4e3b\u8981\u662f\u4ece\u7528\u6237\u7684\u9700\u6c42\u51fa\u53d1\uff0c\u5f3a\u8c03\u7cfb\u7edf\u884c\u4e3a\u3002BDD\u6700\u521d\u662f\u7531Dan North\u57282003\u5e74\u547d\u540d\uff0c\u5b83\u5305\u62ec\u9a8c\u6536\u6d4b\u8bd5\u548c\u5ba2\u6237\u6d4b\u8bd5\u9a71\u52a8\u7b49\u7684\u6781\u9650\u7f16\u7a0b\u7684\u5b9e\u8df5\uff0c\u4f5c\u4e3a\u5bf9\u6d4b\u8bd5\u9a71\u52a8\u5f00\u53d1\u7684\u56de\u5e94\u3002</p>\\n<h3 id=\\"2-mocha\u7b80\u4ecb\\">2. mocha\u7b80\u4ecb</h3>\\n<p>Mocha.js\u662f\u88ab\u5e7f\u6cdb\u4f7f\u7528\u7684Javascript\u6d4b\u8bd5\u6846\u67b6\uff0c\u5728\u6d4f\u89c8\u5668\u548cNode\u73af\u5883\u90fd\u53ef\u4ee5\u4f7f\u7528\u3002Mocha\u63d0\u4f9bTDD\u548cBDD\u7684\u6d4b\u8bd5\u63a5\u53e3\u3002</p>\\n<p>Mocha\u63d0\u4f9b\u4e86</p>\\n<ul>\\n<li>\u65ad\u8a00\u5355\u5143\u6d4b\u8bd5\uff0c\u53ef\u4ee5\u8fdb\u884c\u529f\u80fd\u6027\u6d4b\u8bd5</li>\\n<li>\u540c\u6b65\u4ee3\u7801\u6d4b\u8bd5</li>\\n<li>\u5f02\u6b65\u4ee3\u7801\u6d4b\u8bd5</li>\\n</ul>\\n<h4 id=\\"21-\u65ad\u8a00\\">2.1 \u65ad\u8a00</h4>\\n<p>\u5728Mocha\u4e2d\u8fd0\u884c\u4f60\u4f7f\u7528\u4efb\u4f55\u65ad\u8a00\u5e93\u6765\u8fdb\u884c\u4ee3\u7801\u7684\u6d4b\u8bd5\uff0c\u5176\u4e2d\u6709</p>\\n<table>\\n<thead>\\n<tr>\\n<th align=\\"left\\">\u5e93</th>\\n<th align=\\"left\\">\u63cf\u8ff0</th>\\n</tr>\\n</thead>\\n<tbody><tr>\\n<td align=\\"left\\">should.js</td>\\n<td align=\\"left\\">BDD\u98ce\u683c\u7684\u6d4b\u8bd5\u63a5\u53e3</td>\\n</tr>\\n<tr>\\n<td align=\\"left\\">expect.js</td>\\n<td align=\\"left\\">expect()\u98ce\u683c\u7684\u65ad\u8a00</td>\\n</tr>\\n<tr>\\n<td align=\\"left\\">chai</td>\\n<td align=\\"left\\">\u63d0\u4f9bexpect(),assert()\u548cshould\u8fd9\u51e0\u79cd\u98ce\u683c\u7684\u65ad\u8a00</td>\\n</tr>\\n<tr>\\n<td align=\\"left\\">better-assert</td>\\n<td align=\\"left\\">C\u8bed\u8a00\u98ce\u683c\u7684\u65ad\u8a00</td>\\n</tr>\\n<tr>\\n<td align=\\"left\\">unexpected</td>\\n<td align=\\"left\\">BDD\u65ad\u8a00\u7684\u6269\u5c55</td>\\n</tr>\\n</tbody></table>\\n<p>\u5f53\u7136\uff0c\u6211\u4eec\u53ef\u4ee5\u7528Nodejs\u5185\u5efa\u7684assert\u6a21\u5757\u6765\u8fdb\u884c\u65ad\u8a00\u3002</p>\\n<pre><code class=\\"language-javascript\\">describe(<span class=\\"hljs-string\\">\\"\u6d4b\u8bd5\u6570\u7ec4\\"</span>, function(){\\n    it(<span class=\\"hljs-string\\">\\"\u6d4b\u8bd5indexOf()\\"</span>, function(){\\n        assert.equal(<span class=\\"hljs-name\\">-1</span>, [<span class=\\"hljs-number\\">1</span>,<span class=\\"hljs-number\\">2</span>,<span class=\\"hljs-number\\">3</span>].indexOf(<span class=\\"hljs-number\\">4</span>))<span class=\\"hljs-comment\\">;</span>\\n    })<span class=\\"hljs-comment\\">;</span>\\n})<span class=\\"hljs-comment\\">;</span></code></pre>\\n<h4 id=\\"22-tdd\u6d4b\u8bd5\u63a5\u53e3\\">2.2 TDD\u6d4b\u8bd5\u63a5\u53e3</h4>\\n<p>TDD\u6d4b\u8bd5\u98ce\u683c\u7684\u63a5\u53e3\uff1a</p>\\n<ul>\\n<li>suite: \u5b9a\u4e49\u4e00\u7ec4\u6d4b\u8bd5\u7528\u4f8b\uff08\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\uff0c\u53ef\u4ee5\u5d4c\u5957\uff09</li>\\n<li>suiteSetup: \u6b64\u65b9\u6cd5\u4f1a\u5728\u8fd9\u4e2asuite\u6240\u6709\u6d4b\u8bd5\u7528\u4f8b\u6267\u884c\u524d\uff0c\u6267\u884c\u6709\u4e14\u53ea\u6709\u4e00\u6b21\u3002</li>\\n<li>setup: \u6b64\u65b9\u6cd5\u4f1a\u5728\u6bcf\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u6267\u884c\u524d\u90fd\u6267\u884c\u4e00\u904d\u3002</li>\\n<li>test: \u5177\u4f53\u6267\u884c\u7684\u6d4b\u8bd5\u7528\u4f8b\u5b9e\u73b0\u4ee3\u7801\u3002</li>\\n<li>teardown: \u6b64\u65b9\u6cd5\u4f1a\u5728\u8fd9\u4e2asuite\u6240\u6709\u6d4b\u8bd5\u7528\u4f8b\u6267\u884c\u540e\u90fd\u6267\u884c\u4e00\u6b21\uff0c\u4e0esetup\u76f8\u53cd</li>\\n<li>suiteTeardown: \u6b64\u65b9\u6cd5\u4f1a\u5728\u8fd9\u4e2asuite\u6240\u6709\u6d4b\u8bd5\u7528\u4f8b\u6267\u884c\u540e\u6267\u884c\u4e00\u6b21\uff0c\u4e0esuiteTeardown\u76f8\u53cd\u3002</li>\\n</ul>\\n<h4 id=\\"23-bdd\u6d4b\u8bd5\u63a5\u53e3\\">2.3 BDD\u6d4b\u8bd5\u63a5\u53e3</h4>\\n<p>BDD\u6d4b\u8bd5\u98ce\u683c\u7684\u63a5\u53e3</p>\\n<ul>\\n<li>describe(): \u63cf\u8ff0\u573a\u666f\uff0c\u5728\u91cc\u9762\u53ef\u4ee5\u8bbe\u5b9aContext\uff0c\u53ef\u5305\u62ec\u591a\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u4e5f\u53ef\u4ee5\u5d4c\u5957\u573a\u666f</li>\\n<li>it(): \u4f4d\u4e8e\u573a\u666f\u5185\uff0c\u63cf\u8ff0\u6d4b\u8bd5\u7528\u4f8b</li>\\n<li>before(): \u6240\u6709\u6d4b\u8bd5\u7528\u4f8b\u7684\u7edf\u4e00\u524d\u7f6e\u52a8\u4f5c</li>\\n<li>after(): \u6240\u6709\u6d4b\u8bd5\u7528\u4f8b\u7684\u7edf\u4e00\u540e\u7f6e\u52a8\u4f5c</li>\\n<li>beforeEach(): \u6bcf\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u7684\u524d\u7f6e\u52a8\u4f5c</li>\\n<li>aferEach(): \u6bcf\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u7684\u540e\u7f6e\u52a8\u4f5c</li>\\n</ul>\\n<h4 id=\\"24-mocha\u652f\u6301\u7684\u7279\u6027\\">2.4 Mocha\u652f\u6301\u7684\u7279\u6027</h4>\\n<ol>\\n<li>\u5f02\u6b65\u6d4b\u8bd5\\nMocha\u9ed8\u8ba4\u6bcf\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u6700\u591a2000ms\uff0c\u5982\u679c\u5230\u65f6\u6ca1\u6709\u5f97\u5230\u7ed3\u679c\uff0c\u5c31\u4f1a\u62a5\u9519\uff0c\u5bf9\u4e8e\u6d89\u53ca\u5f02\u6b65\u64cd\u4f5c\u7684\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6211\u4eec\u9700\u8981\u7528-t\u6216--timeout\u53c2\u6570\u6307\u5b9a\u8d85\u65f6\u95e8\u69db\u3002</li>\\n<li>\u6d4b\u8bd5\u7528\u4f8b\u7ba1\u7406\\n\u5728\u5927\u578b\u9879\u76ee\u4e2d\uff0c\u4f1a\u6709\u5f88\u591a\u7684\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u51e0\u4e2a\u65b9\u6cd5\u6765\u8fdb\u884c\u7ba1\u7406<ul>\\n<li>only: \u8868\u793a\u53ea\u8fd0\u884c\u67d0\u4e2a\u6d4b\u8bd5\u5957\u4ef6\u6216\u6d4b\u8bd5\u7528\u4f8b</li>\\n<li>skip: \u8868\u793a\u8df3\u8fc7\u6307\u5b9a\u7684\u6d4b\u8bd5\u5957\u4ef6\u6216\u6d4b\u8bd5\u7528\u4f8b</li>\\n</ul>\\n</li>\\n</ol>\\n<h3 id=\\"\u4e09\u3001mocha\u7684\u4f7f\u7528\\">\u4e09\u3001Mocha\u7684\u4f7f\u7528</h3>\\n<p>\u9996\u5148\uff0cmocha\u7684\u9ed8\u8ba4\u6a21\u5f0f\u662fBDD\uff0c\u6211\u4eec\u4ee5BDD\u4e3a\u4f8b\u770b\u4e00\u4e0bmocha\u662f\u600e\u4e48\u8fd0\u884c\u7684\uff1a\\n\u8fd9\u4e2a\u662f\u8981\u6d4b\u8bd5\u7684\u6e90\u6587\u4ef6\uff0c\u4f20\u5165\u4e24\u4e2a\u6570\u5b57\uff0c\u8fd4\u56de\u548c</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-regexp\\">//</span> add.js\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">default</span> (a, b) =&gt; a + b;\\n\u8fd9\u4e2a\u662f\u6d4b\u8bd5\u7684\u6587\u4ef6\uff0c\u7528\u4e86chai\u8fd9\u4e2a\u65ad\u8a00\u5e93\uff0cexpect(add(<span class=\\"hljs-number\\">1</span>, <span class=\\"hljs-number\\">1</span>)).to.be.equal(<span class=\\"hljs-number\\">2</span>) \u662f\u65ad\u8a00\u90e8\u5206\\n<span class=\\"hljs-regexp\\">//</span> test.js\\n<span class=\\"hljs-keyword\\">import</span> add <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\\"./add\\"</span>\\n<span class=\\"hljs-keyword\\">import</span> { expect } <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\\"chai\\"</span>\\n\\ndescribe(<span class=\\"hljs-string\\">\'Test Start\'</span>,<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n    describe(<span class=\\"hljs-string\\">\'\u52a0\u6cd5\u51fd\u6570\u6d4b\u8bd5\'</span>,<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n        it(<span class=\\"hljs-string\\">\'1 + 1 \u7b49\u4e8e 2\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> expect(add(<span class=\\"hljs-number\\">1</span>, <span class=\\"hljs-number\\">1</span>)).to.be.equal(<span class=\\"hljs-number\\">2</span>))\\n        it(<span class=\\"hljs-string\\">\'\u8fd4\u56de\u503c\u662fNumber\'</span>,<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> expect(add(<span class=\\"hljs-number\\">1</span>, <span class=\\"hljs-number\\">1</span>)).to.be.a(<span class=\\"hljs-string\\">\'number\'</span>))\\n    })\\n})</code></pre>\\n<p>\u56e0\u4e3a\u7528\u4e86ES6\u7684\u8bed\u6cd5\uff0c\u9700\u8981babel\u8f6c\u4e00\u4e0b</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// index.js</span>\\n<span class=\\"hljs-selector-tag\\">require</span>(<span class=\\"hljs-string\\">\\"babel-register\\"</span>)({\\n    <span class=\\"hljs-attribute\\">presets</span>: [\\n        <span class=\\"hljs-string\\">\\"es2015\\"</span>,\\n        <span class=\\"hljs-string\\">\\"stage-0\\"</span>\\n    ],\\n    <span class=\\"hljs-attribute\\">plugins</span>: [<span class=\\"hljs-string\\">\\"transform-async-to-generator\\"</span>,<span class=\\"hljs-string\\">\\"transform-runtime\\"</span>]\\n});\\n\\n<span class=\\"hljs-selector-tag\\">require</span>(<span class=\\"hljs-string\\">\'./test\'</span>);</code></pre>\\n<p>\u547d\u4ee4\u884c\u8fd0\u884c\u7ed3\u679c\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/mocha-1.png\\" alt=\\"\\"></p>\\n<h3 id=\\"\u56db\u3001\u5206\u6790\u5b9e\u73b0\\">\u56db\u3001\u5206\u6790\u5b9e\u73b0</h3>\\n<h4 id=\\"1-command-line-interfaces\\">1. Command-line interfaces</h4>\\n<p>\u9996\u5148\uff0cMocha\u7684\u547d\u4ee4\u884c\u63a5\u53e3\u662f\u7528 <a href=\\"https://github.com/tj/commander.js/\\">commander</a> \u5199\u7684\uff0c\u5728<code>/bin/_mocha</code>\u6587\u4ef6\u4e2d\u53ef\u4ee5\u770b\u5230\u3002\u9ed8\u8ba4ui\u662fbdd\uff0c\u9ed8\u8ba4\u6587\u4ef6\u662ftest/*</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// bin/_mocha</span>\\nprogram\\n  ...\\n  .option(<span class=\\"hljs-string\\">\'-u, --ui &lt;name&gt;\'</span>, <span class=\\"hljs-string\\">\'specify user-interface (\'</span> + interfaceNames.join(<span class=\\"hljs-string\\">\'|\'</span>) + <span class=\\"hljs-string\\">\')\'</span>, <span class=\\"hljs-string\\">\'bdd\'</span>)\\n...\\n<span class=\\"hljs-keyword\\">var</span> args = program.args;\\n<span class=\\"hljs-comment\\">// default files to test/*.{js,coffee}</span>\\n<span class=\\"hljs-keyword\\">if</span> (!args.length) {\\n  args.push(<span class=\\"hljs-string\\">\'test\'</span>);\\n}\\nargs.forEach(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> </span>(arg) {\\n  <span class=\\"hljs-keyword\\">var</span> <span class=\\"hljs-keyword\\">new</span><span class=\\"hljs-type\\">Files</span>;\\n  <span class=\\"hljs-keyword\\">try</span> {\\n    <span class=\\"hljs-keyword\\">new</span><span class=\\"hljs-type\\">Files</span> = utils.lookupFiles(arg, extensions, program.recursive);\\n  } <span class=\\"hljs-keyword\\">catch</span> (err) {\\n    ...\\n  }\\n\\n  files = files.concat(<span class=\\"hljs-keyword\\">new</span><span class=\\"hljs-type\\">Files</span>);\\n});\\n...\\nmocha.files = files;\\nrunner = mocha.run(program.exit ? exit : <span class=\\"hljs-type\\">exitLater</span>);\\n...</code></pre>\\n<h4 id=\\"2-mocha-run-entrypoint\\">2. Mocha run entrypoint</h4>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// lib/mocha.js</span>\\nMocha.prototype.run = function (fn) {\\n  <span class=\\"hljs-keyword\\">if</span> (<span class=\\"hljs-keyword\\">this</span>.files.length) {\\n    <span class=\\"hljs-keyword\\">this</span>.loadFiles();\\n  }\\n\\n  ...\\n  <span class=\\"hljs-keyword\\">return</span> runner.run(done);\\n};</code></pre>\\n<p>\u5176\u4e2d<code>loadFiles</code>\u662f\u7528\u6765\u52a0\u8f7d\u6587\u4ef6\u7684\uff0c\u6211\u4eec\u770b\u4e00\u4e0b\u4ed6\u7684\u6e90\u7801\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// lib/mocha.j</span>\\nMocha.prototype.loadFiles = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">(fn)</span> </span>{\\n  <span class=\\"hljs-keyword\\">var</span> <span class=\\"hljs-keyword\\">self</span> = this;\\n  <span class=\\"hljs-keyword\\">var</span> suite = this.suite;\\n  this.files.<span class=\\"hljs-keyword\\">forEach</span>(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">(file)</span> </span>{\\n    file = path.resolve(file);\\n    suite.emit(<span class=\\"hljs-string\\">\'pre-require\'</span>, <span class=\\"hljs-keyword\\">global</span>, file, <span class=\\"hljs-keyword\\">self</span>);\\n    suite.emit(<span class=\\"hljs-string\\">\'require\'</span>, <span class=\\"hljs-keyword\\">require</span>(file), file, <span class=\\"hljs-keyword\\">self</span>);\\n    suite.emit(<span class=\\"hljs-string\\">\'post-require\'</span>, <span class=\\"hljs-keyword\\">global</span>, file, <span class=\\"hljs-keyword\\">self</span>);\\n  });\\n  fn &amp;&amp; fn();\\n};</code></pre>\\n<p>\u8fd9\u91cc\u901a\u8fc7<code>emit</code>\u89e6\u53d1\u4e86<code>pre-require</code>\u4e8b\u4ef6\uff0c\u90a3\u4e48<code>pre-require</code>\u4e8b\u4ef6\u5728\u54ea\u5462\uff1f</p>\\n<h4 id=\\"3-bdd-interfaces\\">3. BDD Interfaces</h4>\\n<pre><code class=\\"language-javascript\\">// lib/interfaces/<span class=\\"hljs-keyword\\">bdd.js\\n</span><span class=\\"hljs-symbol\\">suite.on</span>(<span class=\\"hljs-string\\">\'pre-require\'</span>, <span class=\\"hljs-meta\\">function</span> (context, file, mocha) {\\n  var <span class=\\"hljs-meta\\">common</span> = <span class=\\"hljs-meta\\">require</span>(<span class=\\"hljs-string\\">\'./common\'</span>)(suites, context, mocha)<span class=\\"hljs-comment\\">;</span>\\n\\n  context.<span class=\\"hljs-keyword\\">before </span>= <span class=\\"hljs-meta\\">common</span>.<span class=\\"hljs-keyword\\">before;\\n</span>  context.after = <span class=\\"hljs-meta\\">common</span>.after<span class=\\"hljs-comment\\">;</span>\\n  context.<span class=\\"hljs-keyword\\">beforeEach </span>= <span class=\\"hljs-meta\\">common</span>.<span class=\\"hljs-keyword\\">beforeEach;\\n</span>  context.afterEach = <span class=\\"hljs-meta\\">common</span>.afterEach<span class=\\"hljs-comment\\">;</span>\\n  context.run = mocha.options.delay &amp;&amp; <span class=\\"hljs-meta\\">common</span>.runWithSuite(suite)<span class=\\"hljs-comment\\">;</span>\\n  <span class=\\"hljs-comment\\">/**\\n   * Describe a \\"suite\\" with the given `title`\\n   * and callback `fn` containing nested suites\\n   * and/or tests.\\n   */</span>\\n\\n  context.describe = context.context = <span class=\\"hljs-meta\\">function</span> (title, <span class=\\"hljs-meta\\">fn</span>) {\\n    ...\\n  }<span class=\\"hljs-comment\\">;</span>\\n  ...\\n  context.<span class=\\"hljs-keyword\\">it </span>= context.specify = <span class=\\"hljs-meta\\">function</span> (title, <span class=\\"hljs-meta\\">fn</span>) {\\n    ...\\n  }<span class=\\"hljs-comment\\">;</span>\\n})<span class=\\"hljs-comment\\">;</span></code></pre>\\n<p>\u5176\u4e2d<code>context</code>\u662f<code>emit</code>\u65f6\u5019\u4f20\u5165\u7684<code>global</code>\u5bf9\u8c61\uff0c\u8fd9\u6bb5\u4ee3\u7801\u7ed9<code>global</code>\u5b9a\u4e49\u4e86\u4e00\u4e9b\u5c5e\u6027\uff0c\u6bd4\u5982BDD\u6a21\u5f0f\u7684\u4f8b\u5b50\u91cc\u7684<code>describe</code> \u548c <code>it</code>\uff0c\u4f20\u5165\u7684\u53c2\u6570\u90fd\u662f\u662f<code>title + fn</code>\u3002\u6240\u4ee5<code>bdd.js</code>\u8fd9\u4e2a\u6587\u4ef6\u7684\u4f5c\u7528\u5c31\u662f\u7ed9\u5168\u5c40\u5bf9\u8c61\u6ce8\u518c<code>bdd</code>\u9700\u8981\u7684\u4e00\u4e9b\u63a5\u53e3\u3002</p>\\n<h4 id=\\"4-reporter-\u62a5\u544a\u683c\u5f0f\\">4. Reporter \u62a5\u544a\u683c\u5f0f</h4>\\n<p>Mocha.run \u6700\u540e\u6267\u884c\u7684\u662frunner.run(), \u90a3\u6211\u4eec\u7ee7\u7eed\u5206\u6790Runner</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// lib/runner.js</span>\\nRunner.prototype.run = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">(fn)</span> </span>{\\n  ...\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">start</span> <span class=\\"hljs-params\\">()</span> </span>{\\n    <span class=\\"hljs-keyword\\">self</span>.started = <span class=\\"hljs-keyword\\">true</span>;\\n    <span class=\\"hljs-keyword\\">self</span>.emit(<span class=\\"hljs-string\\">\'start\'</span>);\\n    <span class=\\"hljs-keyword\\">self</span>.runSuite(rootSuite, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">()</span> </span>{\\n      debug(<span class=\\"hljs-string\\">\'finished running\'</span>);\\n      <span class=\\"hljs-keyword\\">self</span>.emit(<span class=\\"hljs-string\\">\'end\'</span>);\\n    });\\n  }\\n\\n  debug(<span class=\\"hljs-string\\">\'start\'</span>);\\n  ...\\n  <span class=\\"hljs-keyword\\">return</span> this;\\n};</code></pre>\\n<p>\u8fd9\u91cc\uff0c<code>emit</code> \u89e6\u53d1 <code>start</code>\u4e8b\u4ef6\uff0c\u8fd9\u4e2a\u5177\u4f53\u7684\u5904\u7406\u5728\u54ea\u5462\uff0c\u6211\u4eec\u5168\u5c40\u641c\u7d22\u4e00\u4e0b\uff0c\u53d1\u73b0\u5728<code>lib/reporters/</code>\u4e0b\u7684\u6bcf\u4e2a\u6587\u4ef6\u57fa\u672c\u90fd\u6709<code>on start</code>\u4e8b\u4ef6\uff0c\u5230\u5e95\u5b9e\u9645\u662f\u89e6\u53d1\u7684\u54ea\u4e00\u4e2a\u5462\uff1f\u6211\u4eec\u7ee7\u7eed\u5206\u6790\u4e00\u4e0b\uff0c\u5728Mocha\u76ee\u5f55\u4e0b\u53d1\u73b0\u8fd9\u4e48\u4e00\u6bb5\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// lib/mocha.js</span>\\n<span class=\\"hljs-comment\\">/**\\n * Set reporter to `reporter`, defaults to \\"spec\\".\\n * ...\\n */</span>\\nMocha.prototype.reporter = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">(reporter, reporterOptions)</span> </span>{\\n    ...\\n    reporter = reporter || <span class=\\"hljs-string\\">\'spec\'</span>;\\n    ...\\n};</code></pre>\\n<p>\u6240\u4ee5\u9ed8\u8ba4\u7684\u62a5\u544a\u683c\u5f0f\u662f<code>spec</code>\uff0c\u6211\u4eec\u53bb <code>lib/reporters/spec.js</code> \u770b\u4e00\u770b\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// lib/reporters/spec.js</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">Spec</span> (<span class=\\"hljs-params\\">runner</span>) </span>{\\n  ...\\n  runner.on(<span class=\\"hljs-string\\">\'start\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\"></span>) </span>{\\n    <span class=\\"hljs-built_in\\">console</span>.log();\\n  });\\n  runner.on(<span class=\\"hljs-string\\">\'suite\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\">suite</span>) </span>{\\n    ++indents;\\n    <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-built_in\\">color</span>(<span class=\\"hljs-string\\">\'suite\'</span>, <span class=\\"hljs-string\\">\'%s%s\'</span>), indent(), suite.title);\\n  });\\n  ...\\n  runner.on(<span class=\\"hljs-string\\">\'pass\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\">test</span>) </span>{\\n    <span class=\\"hljs-keyword\\">var</span> fmt;\\n    <span class=\\"hljs-keyword\\">if</span> (test.speed === <span class=\\"hljs-string\\">\'fast\'</span>) {\\n      fmt = indent() +\\n        <span class=\\"hljs-built_in\\">color</span>(<span class=\\"hljs-string\\">\'checkmark\'</span>, <span class=\\"hljs-string\\">\'  \'</span> + Base.symbols.ok) +\\n        <span class=\\"hljs-built_in\\">color</span>(<span class=\\"hljs-string\\">\'pass\'</span>, <span class=\\"hljs-string\\">\' %s\'</span>);\\n      <span class=\\"hljs-built_in\\">console</span>.log(fmt, test.title);\\n    } <span class=\\"hljs-title\\">else</span> {\\n      fmt = indent() +\\n        <span class=\\"hljs-built_in\\">color</span>(<span class=\\"hljs-string\\">\'checkmark\'</span>, <span class=\\"hljs-string\\">\'  \'</span> + Base.symbols.ok) +\\n        <span class=\\"hljs-built_in\\">color</span>(<span class=\\"hljs-string\\">\'pass\'</span>, <span class=\\"hljs-string\\">\' %s\'</span>) +\\n        <span class=\\"hljs-built_in\\">color</span>(test.speed, <span class=\\"hljs-string\\">\' (%dms)\'</span>);\\n      <span class=\\"hljs-built_in\\">console</span>.log(fmt, test.title, test.duration);\\n    }\\n  });\\n\\n  runner.on(<span class=\\"hljs-string\\">\'fail\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\">test</span>) </span>{\\n    <span class=\\"hljs-built_in\\">console</span>.log(indent() + <span class=\\"hljs-built_in\\">color</span>(<span class=\\"hljs-string\\">\'fail\'</span>, <span class=\\"hljs-string\\">\'  %d) %s\'</span>), ++n, test.title);\\n  });\\n\\n  runner.on(<span class=\\"hljs-string\\">\'end\'</span>, self.epilogue.bind(self));\\n}</code></pre>\\n<p>\u53ef\u4ee5\u770b\u5230\u8fd9\u91cc\u662f\u54cd\u5e94\u4e00\u4e9b\u4e8b\u4ef6\u7684\u5904\u7406\uff0c\u56de\u5230Runner</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// lib/runner.js</span>\\nRunner.prototype.run = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">(fn)</span> </span>{\\n  ...\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">start</span> <span class=\\"hljs-params\\">()</span> </span>{\\n    <span class=\\"hljs-keyword\\">self</span>.started = <span class=\\"hljs-keyword\\">true</span>;\\n    <span class=\\"hljs-keyword\\">self</span>.emit(<span class=\\"hljs-string\\">\'start\'</span>);\\n    <span class=\\"hljs-keyword\\">self</span>.runSuite(rootSuite, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">()</span> </span>{\\n      debug(<span class=\\"hljs-string\\">\'finished running\'</span>);\\n      <span class=\\"hljs-keyword\\">self</span>.emit(<span class=\\"hljs-string\\">\'end\'</span>);\\n    });\\n  }\\n\\n  debug(<span class=\\"hljs-string\\">\'start\'</span>);\\n  ...\\n  <span class=\\"hljs-keyword\\">return</span> this;\\n};</code></pre>\\n<p>\u8fd9\u6837<code>start</code>\u5bf9\u5e94\u7684\u5c31\u662f<code>lib/reporters/spec.js</code>\u91cc\u7684 <code>console.log();</code> \u8f93\u51fa\u7a7a\u884c\u3002\u6211\u4eec\u7ee7\u7eed\u5f80\u4e0b\u8d70<code>runSuite</code>\u3002</p>\\n<h4 id=\\"5-runsuite-and-runtest\\">5. RunSuite and RunTest</h4>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// lib/runner.js</span>\\nRunner.prototype.runSuite = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">(suite, fn)</span> </span>{\\n  ...\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">next</span> <span class=\\"hljs-params\\">(errSuite)</span> </span>{\\n  ...\\n  <span class=\\"hljs-keyword\\">if</span> (<span class=\\"hljs-keyword\\">self</span>._grep !== <span class=\\"hljs-keyword\\">self</span>._defaultGrep) {\\n    Runner.immediately(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">()</span> </span>{\\n      <span class=\\"hljs-keyword\\">self</span>.runSuite(curr, next);\\n    });\\n  } <span class=\\"hljs-keyword\\">else</span> {\\n    <span class=\\"hljs-keyword\\">self</span>.runSuite(curr, next);\\n  }\\n}\\n\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">done</span> <span class=\\"hljs-params\\">(errSuite)</span> </span>{\\n      ...\\n      <span class=\\"hljs-keyword\\">self</span>.hook(<span class=\\"hljs-string\\">\'afterAll\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">()</span> </span>{\\n        <span class=\\"hljs-keyword\\">self</span>.emit(<span class=\\"hljs-string\\">\'suite end\'</span>, suite);\\n        fn(errSuite);\\n      });\\n    }\\n  }\\n  ...\\n  this.hook(<span class=\\"hljs-string\\">\'beforeAll\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">(err)</span> </span>{\\n    <span class=\\"hljs-keyword\\">if</span> (err) {\\n      <span class=\\"hljs-keyword\\">return</span> done();\\n    }\\n    <span class=\\"hljs-keyword\\">self</span>.runTests(suite, next);\\n  });\\n};</code></pre>\\n<p>\u57fa\u672c\u4e0a\u662f\u5f00\u59cb\u6d4b\u8bd5\u4e4b\u524d\u7684\u51c6\u5907,next\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u4e0d\u65ad\u6267\u884c\u4e0b\u4e00\u4e2asuite\uff0c\u6211\u4eec\u518d\u7ee7\u7eed\u770b\u770b<code>runTests</code>\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// lib/runner.js</span>\\nRunner.prototype.runTests = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">(suite, fn)</span> </span>{\\n  ...\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">next</span> <span class=\\"hljs-params\\">(err, errSuite)</span> </span>{\\n...\\n    <span class=\\"hljs-comment\\">// next test</span>\\n    test = tests.shift();\\n...\\n\\n    <span class=\\"hljs-keyword\\">self</span>.hookDown(<span class=\\"hljs-string\\">\'beforeEach\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">(err, errSuite)</span> </span>{\\n      <span class=\\"hljs-keyword\\">self</span>.currentRunnable = <span class=\\"hljs-keyword\\">self</span>.test;\\n      <span class=\\"hljs-keyword\\">self</span>.runTest(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">(err)</span> </span>{\\n        ...\\n        <span class=\\"hljs-keyword\\">self</span>.emit(<span class=\\"hljs-string\\">\'pass\'</span>, test);\\n        <span class=\\"hljs-keyword\\">self</span>.emit(<span class=\\"hljs-string\\">\'test end\'</span>, test);\\n        <span class=\\"hljs-keyword\\">self</span>.hookUp(<span class=\\"hljs-string\\">\'afterEach\'</span>, next);\\n      });\\n    });\\n  }\\n  ...\\n  next();\\n};</code></pre>\\n<p>\u8fd9\u91cc\u662f\u4e0d\u65ad\u8c03\u7528next\uff0c\u6267\u884crunTest\uff0c\u56de\u8c03\u51fd\u6570\u91cc\u89e6\u53d1\u4e86pass\u548ctest end\u4e8b\u4ef6\uff0c\u6211\u4eec\u7ee7\u7eed\u770b<code>runTest</code>\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// lib/runner.js</span>\\nRunner.prototype.<span class=\\"hljs-keyword\\">runTest</span> = function (fn) {\\n  ...\\n  try {\\n    <span class=\\"hljs-keyword\\">test</span>.<span class=\\"hljs-keyword\\">on</span>(\'<span class=\\"hljs-keyword\\">error</span>\', function (<span class=\\"hljs-keyword\\">err</span>) {\\n      self.fail(<span class=\\"hljs-keyword\\">test</span>, <span class=\\"hljs-keyword\\">err</span>);\\n    });\\n    <span class=\\"hljs-keyword\\">test</span>.<span class=\\"hljs-keyword\\">run</span>(fn);\\n  } catch (<span class=\\"hljs-keyword\\">err</span>) {\\n    fn(<span class=\\"hljs-keyword\\">err</span>);\\n  }\\n};</code></pre>\\n<p>\u7ec8\u4e8e\u5230\u4e86runTest\u4e86\uff0c\u53ef\u4ee5\u770b\u5230test\u8fd0\u884c\u5728try catch\u4e2d\uff0c\u5982\u679c\u629b\u51fa\u9519\u8bef\uff0c\u6355\u83b7\u9519\u8bef\u5e76\u4f20\u5165\u56de\u8c03\u51fd\u6570\u3002\u5982\u679c\u6210\u529f\u5462\uff1f\u6211\u4eec\u9700\u8981\u77e5\u9053test.run\u662f\u4e2a\u5565\u4e1c\u897f\u3002</p>\\n<h4 id=\\"6-suite-and-test\\">6. Suite and Test</h4>\\n<p>\u4e0a\u9762\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u65ad\u63d0\u5230<code>Suite</code>\u548c<code>Test</code>\uff0c\u8fd9\u4e24\u4e2a\u4e1c\u897f\u5230\u5e95\u662f\u6307\u5565\u5462\uff1f\u627e\u6e90\u7801\u592a\u9ebb\u70e6\u4e86\uff0c\u6211\u4eec\u76f4\u63a5\u547d\u4ee4\u884c\u8f93\u51fa\u4e00\u4e0b\u770b\u770b\uff0c\u9996\u5148\u662f<code>suite</code>\uff1a\u6211\u5728<code>runSuite</code>\u51fd\u6570\u4e0b<code>console.log</code>\u8f93\u51fa\u4e86\u4e00\u4e0b<code>Suite</code>\uff0c\u7ed3\u679c\u662f:</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-selector-tag\\">Suite</span> {\\n    <span class=\\"hljs-attribute\\">title</span>: <span class=\\"hljs-string\\">\'\'</span>,\\n        <span class=\\"hljs-attribute\\">ctx</span>: {},\\n    <span class=\\"hljs-attribute\\">suites</span>:\\n        [ Suite {\\n            <span class=\\"hljs-attribute\\">title</span>: <span class=\\"hljs-string\\">\'Test Start\'</span>,\\n            <span class=\\"hljs-attribute\\">ctx</span>: {},\\n            <span class=\\"hljs-attribute\\">suites</span>: [Object],\\n            <span class=\\"hljs-attribute\\">tests</span>: [],\\n            ...\\n            <span class=\\"hljs-attribute\\">file</span>: <span class=\\"hljs-string\\">\'/Users/zhangruiwu/Desktop/demo-learn/newBlog/server/test-example/index.js\'</span> } ],\\n            <span class=\\"hljs-attribute\\">tests</span>: [],\\n        ...\\n\\nSuite {\\n    <span class=\\"hljs-attribute\\">title</span>: <span class=\\"hljs-string\\">\'Test Start\'</span>,\\n        <span class=\\"hljs-attribute\\">ctx</span>: {},\\n    <span class=\\"hljs-attribute\\">suites</span>:\\n        [ Suite {\\n            <span class=\\"hljs-attribute\\">title</span>: <span class=\\"hljs-string\\">\'\u52a0\u6cd5\u51fd\u6570\u6d4b\u8bd5\'</span>,\\n            <span class=\\"hljs-attribute\\">ctx</span>: {},\\n            <span class=\\"hljs-attribute\\">suites</span>: [],\\n            <span class=\\"hljs-attribute\\">tests</span>: [Object],\\n            ...\\nTest Start</code></pre>\\n<p>\u53ef\u4ee5\u53d1\u73b0<code>suite</code>\u5c31\u662f<code>describe</code> \u751f\u6210\u7684\u5bf9\u8c61\uff0c\u6211\u4eec\u6d4b\u8bd5\u6587\u4ef6\u4e2d\u4e00\u5171\u4e24\u4e2a<code>describe</code>\uff0c<code>Test Start</code>\u548c<code>\u52a0\u6cd5\u51fd\u6570\u6d4b\u8bd5</code>\uff0c\u4e24\u8005\u662f\u5d4c\u5957\u5173\u7cfb\uff0c\u5728\u8fd9\u91cc\u4e5f\u4f53\u73b0\u51fa\u6765\u4e86\u3002\u6211\u4eec\u7ee7\u7eed\u5206\u6790Test\uff1a\\n\u628a<code>runSuite</code> \u52a0\u7684<code>console.log(suite)</code> \u6539\u6210<code>console.log(suite.suites[0])</code>,\u7ed3\u679c\u662f:</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-symbol\\">Suite</span> {\\n    title: <span class=\\"hljs-string\\">\'\u52a0\u6cd5\u51fd\u6570\u6d4b\u8bd5\'</span>,\\n        ctx: {},\\n    suites: [],\\n        tests:\\n    [ {\\n        <span class=\\"hljs-string\\">\\"title\\"</span>: <span class=\\"hljs-string\\">\\"1 + 1 \u7b49\u4e8e 2\\"</span>,\\n        <span class=\\"hljs-string\\">\\"body\\"</span>: <span class=\\"hljs-string\\">\\"function () {\\\\n            return (0, _chai.expect)((0, _add2.default)(1, 1)).to.be.equal(2);\\\\n        }\\"</span>,\\n        ...\\n    },\\n      {\\n        <span class=\\"hljs-string\\">\\"title\\"</span>: <span class=\\"hljs-string\\">\\"\u8fd4\u56de\u503c\u662fNumber\\"</span>,\\n        <span class=\\"hljs-string\\">\\"body\\"</span>: <span class=\\"hljs-string\\">\\"function () {\\\\n            return (0, _chai.expect)((0, _add2.default)(1, 1)).to.be.a(\'number\');\\\\n        }\\"</span>,\\n        ...\\n      } ],\\n  ...</code></pre>\\n<p>\u53ef\u4ee5\u53d1\u73b0<code>Test</code>\u5c31\u662f<code>it</code>\u751f\u6210\u7684\u5bf9\u8c61\u3002<code>Suite</code> \u548c <code>Test</code>\u5bf9\u5e94\u7684\u6587\u4ef6\u662f <code>lib/suite.js</code>\u548c <code>lib/test.js</code>\u3002\u6211\u4eec\u627e\u4e00\u4e0b<code>test.run</code> \uff0c<code>test.js</code> \u91cc\u6709\u8fd9\u4e48\u4e00\u884c</p>\\n<pre><code class=\\"language-javascript\\">// lib/test.js\\n/**\\n * <span class=\\"hljs-type\\">Inherit</span> from `<span class=\\"hljs-type\\">Runnable</span>.proto<span class=\\"hljs-keyword\\">type</span>`.\\n */\\n<span class=\\"hljs-type\\">Test</span>.proto<span class=\\"hljs-keyword\\">type</span> = create(<span class=\\"hljs-type\\">Runnable</span>.prototype, {\\n  constructor: <span class=\\"hljs-type\\">Test</span>\\n});</code></pre>\\n<p>\u6211\u4eec\u518d\u53bbRunnable\u770b\u770b\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// lib/runnable.js</span>\\nRunnable.prototype.run = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">(fn)</span> </span>{\\n  ...\\n  <span class=\\"hljs-comment\\">// finished</span>\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">done</span> <span class=\\"hljs-params\\">(err)</span> </span>{\\n    ...\\nfn(err);\\n  }\\n  ...\\n  done();\\n  ...\\n  };</code></pre>\\n<p>\u5f88\u957f\u6211\u5c31\u76f4\u63a5\u8d34\u6700\u540e\u7684\u4ee3\u7801\u4e86\u3002\u53ef\u4ee5\u770b\u5230\u6700\u540e\u6267\u884c\u56de\u8c03, \u56de\u8c03\u7684\u5185\u5bb9\u5728<code>runTests</code>\u91cc</p>\\n<h4 id=\\"7-end\\">7. End</h4>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// lib/runner.js</span>\\n<span class=\\"hljs-keyword\\">self</span>.runTest(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">(err)</span> </span>{\\n  ...\\n  <span class=\\"hljs-keyword\\">self</span>.emit(<span class=\\"hljs-string\\">\'pass\'</span>, test);\\n  <span class=\\"hljs-keyword\\">self</span>.emit(<span class=\\"hljs-string\\">\'test end\'</span>, test);\\n  <span class=\\"hljs-keyword\\">self</span>.hookUp(<span class=\\"hljs-string\\">\'afterEach\'</span>, next);\\n});</code></pre>\\n<p>pass\u4e8b\u4ef6\u5728<code>lib/reporters/spec.js</code>\u4e2d\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// lib/reporters/spec.js</span>\\nrunner.on(<span class=\\"hljs-string\\">\'pass\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\">test</span>) </span>{\\n  ...\\n    fmt = indent() +\\n      <span class=\\"hljs-built_in\\">color</span>(<span class=\\"hljs-string\\">\'checkmark\'</span>, <span class=\\"hljs-string\\">\'  \'</span> + Base.symbols.ok) +\\n      <span class=\\"hljs-built_in\\">color</span>(<span class=\\"hljs-string\\">\'pass\'</span>, <span class=\\"hljs-string\\">\' %s\'</span>);\\n    <span class=\\"hljs-built_in\\">console</span>.log(fmt, test.title);\\n  ...\\n});</code></pre>\\n<p>\u5176\u4e2d<code>Base.symbols.ok</code> \u4ee3\u8868\u901a\u8fc7\u65f6\u5019\u663e\u793a\u7684\u5bf9\u53f7</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-regexp\\">//</span> lib<span class=\\"hljs-regexp\\">/reporters/</span>base.js\\nexports.symbols = {\\n  ok: <span class=\\"hljs-string\\">\'\u2713\'</span>,\\n  ...\\n};</code></pre>\\n<p><code>test end</code>\u5728<code>lib/reporters/base.js</code>\u4e2d\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// lib/reporters/base.js</span>\\nrunner.<span class=\\"hljs-keyword\\">on</span>(<span class=\\"hljs-string\\">\'test end\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">()</span> <span class=\\"hljs-comment\\">{\\n  stats.tests = stats.tests || 0;\\n  stats.tests++;\\n}</span>);</span></code></pre>\\n<p>\u662f\u7528\u6765\u7edf\u8ba1<code>test</code>\u4e2a\u6570\u7684\u3002\u56de\u5230<code>Runner</code></p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// lib/runner.js</span>\\nRunner.prototype.run = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">(fn)</span> </span>{\\n  ...\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">start</span> <span class=\\"hljs-params\\">()</span> </span>{\\n    <span class=\\"hljs-keyword\\">self</span>.started = <span class=\\"hljs-keyword\\">true</span>;\\n    <span class=\\"hljs-keyword\\">self</span>.emit(<span class=\\"hljs-string\\">\'start\'</span>);\\n    <span class=\\"hljs-keyword\\">self</span>.runSuite(rootSuite, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-params\\">()</span> </span>{\\n      debug(<span class=\\"hljs-string\\">\'finished running\'</span>);\\n      <span class=\\"hljs-keyword\\">self</span>.emit(<span class=\\"hljs-string\\">\'end\'</span>);\\n    });\\n  }\\n\\n  debug(<span class=\\"hljs-string\\">\'start\'</span>);\\n  ...\\n  <span class=\\"hljs-keyword\\">return</span> this;\\n};</code></pre>\\n<p>\u53d1\u73b0runSuite\u7684\u56de\u8c03\u6700\u7ec8\u89e6\u53d1\u4e86end\u4e8b\u4ef6\uff0c\u5728<code>lib/reporters/spec.js</code>\u4e2d\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// lib/reporters/spec.js</span>\\nrunner.<span class=\\"hljs-keyword\\">on</span>(<span class=\\"hljs-string\\">\'end\'</span>, <span class=\\"hljs-built_in\\">self</span>.epilogue.bind(<span class=\\"hljs-built_in\\">self</span>));\\n<span class=\\"hljs-built_in\\">self</span>.epiloque\u5728lib/reporters/base.js \u4e2d\uff1a\\n<span class=\\"hljs-comment\\">// lib/reporters/base.js</span>\\nBase.prototype.epilogue = function () {\\n  <span class=\\"hljs-params\\">...</span>\\n  <span class=\\"hljs-comment\\">// passes</span>\\n  fmt = color(<span class=\\"hljs-string\\">\'bright pass\'</span>, <span class=\\"hljs-string\\">\' \'</span>) +\\n    color(<span class=\\"hljs-string\\">\'green\'</span>, <span class=\\"hljs-string\\">\' %d passing\'</span>) +\\n    color(<span class=\\"hljs-string\\">\'light\'</span>, <span class=\\"hljs-string\\">\' (%s)\'</span>);\\n\\n  console.<span class=\\"hljs-keyword\\">log</span>(fmt,\\n    stats.passes || <span class=\\"hljs-number\\">0</span>,\\n    ms(stats.<span class=\\"hljs-built_in\\">duration</span>));\\n  <span class=\\"hljs-params\\">...</span>\\n  console.<span class=\\"hljs-keyword\\">log</span>();\\n};</code></pre>\\n<p>\u8fd9\u5c31\u662f\u6700\u7ec8\u8f93\u51fa\u7684 <code>2 passing (71ms)</code> \u4e86\u3002</p>\\n<p>\u5230\u8fd9\u91cc\u6211\u4eec\u7684\u4ee5\u4f8b\u5b50\u505a\u7684\u5206\u6790\u7ed3\u675f\uff0c\u4f46\u662fMocha\u8fdc\u8fdc\u4e0d\u6b62\u8fd9\u4e9b\u529f\u80fd\uff0c\u7bc7\u5e45\u6240\u9650\u66f4\u591a\u7684\u6211\u4eec\u5c31\u4e0d\u5206\u6790\u4e86\u3002\u6574\u4f53\u4e0a\u770b\u5f88\u590d\u6742\u7684\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\uff0c\u4f46\u662f\u7ed3\u6784\u5f88\u6e05\u6670\uff0c\u529f\u80fd\u5212\u5206\u660e\u786e\uff0c\u503c\u5f97\u6211\u4eec\u5b66\u4e60</p>\\n","title":"Mocha\u6e90\u7801\u5206\u6790","tags":["mocha"],"slug":"mocha-source-code-analysis","createDate":1509552000000,"id":"mocha-source-code-analysis","thumb":"https://images.unsplash.com/photo-1581434271558-341895128368?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"content":"<h3 id=\\"1-\u5bf9\u8c61\u5b57\u9762\u91cf\u89e3\u6790\\">1. \u5bf9\u8c61\u5b57\u9762\u91cf\u89e3\u6790</h3>\\n<pre><code class=\\"language-javascript\\">({<span class=\\"hljs-attribute\\">a</span>: <span class=\\"hljs-number\\">1</span>}<span class=\\"hljs-selector-class\\">.a</span>)\\n({<span class=\\"hljs-attribute\\">a</span>: <span class=\\"hljs-number\\">1</span>})<span class=\\"hljs-selector-class\\">.a</span></code></pre>\\n<p>\u58f0\u660e\u5bf9\u8c61\u5b57\u9762\u503c\u65f6\uff0c\u8bed\u53e5\u5f00\u5934\u4e0d\u5e94\u8be5\u7528{\uff0c\u56e0\u4e3ajs\u89e3\u91ca\u5668\u4f1a\u8ba4\u4e3a\u8fd9\u662f\u8bed\u53e5\u5757\uff08block\uff09\u7684\u5f00\u59cb\u3002</p>\\n<h3 id=\\"2-\u6570\u5b57\u7684\u70b9\u64cd\u4f5c\u7b26\\">2. \u6570\u5b57\u7684\u70b9\u64cd\u4f5c\u7b26</h3>\\n<pre><code class=\\"language-javascript\\">(<span class=\\"hljs-number\\">1</span>).<span class=\\"hljs-keyword\\">to</span><span class=\\"hljs-constructor\\">String()</span> <span class=\\"hljs-comment\\">// \\"1\\"</span>\\n<span class=\\"hljs-number\\">1.</span>.<span class=\\"hljs-keyword\\">to</span><span class=\\"hljs-constructor\\">String()</span>\\n<span class=\\"hljs-number\\">1</span> .<span class=\\"hljs-keyword\\">to</span><span class=\\"hljs-constructor\\">String()</span></code></pre>\\n<p>js\u89e3\u91ca\u5668\u4f1a\u628a\u6570\u5b57\u540e\u7684.\u5f53\u505a\u5c0f\u6570\u70b9\u800c\u4e0d\u662f\u70b9\u64cd\u4f5c\u7b26\u3002</p>\\n<h3 id=\\"3--\u8fde\u7b49\u8d4b\u503c\\">3.  \u8fde\u7b49\u8d4b\u503c</h3>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keywords\\">var</span> a = {n: <span class=\\"hljs-number\\">1</span>};\\n<span class=\\"hljs-keywords\\">var</span> b = a;\\na.<span class=\\"hljs-symbol\\">x</span> = a = {n: <span class=\\"hljs-number\\">2</span>};\\nconsole.log(a.<span class=\\"hljs-symbol\\">x</span>);<span class=\\"hljs-comment\\">// --&gt; undefined</span>\\nconsole.log(b.<span class=\\"hljs-symbol\\">x</span>);<span class=\\"hljs-comment\\">// --&gt; {n:2}</span></code></pre>\\n<p><a href=\\"http://justjavac.com/javascript/2012/04/05/javascript-continuous-assignment-operator.html\\">\u5199\u4e86 10 \u5e74 Javascript \u672a\u5fc5\u5168\u4e86\u89e3\u7684\u8fde\u7eed\u8d4b\u503c\u8fd0\u7b97</a>\\n<code>a.x = a = {n:2}</code>\u540e\uff0cb.x\u68c0\u6d4b\u5230\u4e86 a.x \u6307\u5411\u7684 <code>a = { n: 2 }</code>\u7684\u5f15\u7528\uff0c\u7136\u540e\u7531\u4e8e a \u91cd\u65b0\u8d4b\u503c\u540e\uff0cb \u548c a\u7684\u5f15\u7528\u65ad\u88c2\u4e86\uff0c\u6240\u4ee5 b \u7684\u503c\u662f <code>{ n: 1, x: a }</code>, \u8d4b\u503c\u540e\u7684 a \u5df2\u7ecf\u6ca1\u6709 x \u4e86\uff0c \u6240\u4ee5 a.x \u662f undefined\u3002</p>\\n<h3 id=\\"4-\u9017\u53f7\u64cd\u4f5c\u7b26\\">4. \u9017\u53f7\u64cd\u4f5c\u7b26</h3>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">var</span> x = <span class=\\"hljs-number\\">20</span>;\\n<span class=\\"hljs-keyword\\">var</span> temp = {\\n    x: <span class=\\"hljs-number\\">40</span>,\\n    foo: <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span><span class=\\"hljs-params\\">()</span> </span>{\\n        <span class=\\"hljs-keyword\\">var</span> x = <span class=\\"hljs-number\\">10</span>;\\n        <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-keyword\\">this</span>.x;\\n    }\\n};\\n(temp.foo)(); <span class=\\"hljs-comment\\">// 40</span>\\n(temp.foo, temp.foo)(); <span class=\\"hljs-comment\\">// 20\uff0c\u800c\u4e0d\u662f40</span>\\n\\n<span class=\\"hljs-keyword\\">var</span> f = (<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">f</span><span class=\\"hljs-params\\">()</span></span>{ <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-string\\">\\"1\\"</span>; }, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">g</span><span class=\\"hljs-params\\">()</span></span>{ <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-number\\">2</span>; })();\\n\\n<span class=\\"hljs-keyword\\">typeof</span> f; <span class=\\"hljs-comment\\">// \\"number\\"</span></code></pre>\\n<p>\u9017\u53f7\u64cd\u4f5c\u7b26\u4f1a\u4ece\u5de6\u5230\u53f3\u8ba1\u7b97\u5b83\u7684\u64cd\u4f5c\u6570\uff0c\u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u64cd\u4f5c\u6570\u7684\u503c\u3002\u6240\u4ee5<code>(temp.foo, temp.foo)();</code>\u7b49\u4ef7\u4e8e<code>var fun = temp.foo; fun();\uff0c</code> fun\u8c03\u7528\u65f6this\u6307\u5411window\uff0c\u6240\u4ee5\u8fd4\u56de20\u3002</p>\\n<h3 id=\\"5--parseint\u4f20\u5165\u6570\u5b57\\">5.  parseInt\u4f20\u5165\u6570\u5b57</h3>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-function\\"><span class=\\"hljs-title\\">parseInt</span><span class=\\"hljs-params\\">(<span class=\\"hljs-number\\">0.000008</span>)</span></span> <span class=\\"hljs-comment\\">// &gt;&gt; 0</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-title\\">parseInt</span><span class=\\"hljs-params\\">(<span class=\\"hljs-number\\">0.0000008</span>)</span></span> <span class=\\"hljs-comment\\">// &gt;&gt; 8</span></code></pre>\\n<p>parseInt(arg)\u65f6\u4f1a\u8c03\u7528arg.toString()\u3002</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-params\\">(0.000008)</span><span class=\\"hljs-string\\">.toString</span><span class=\\"hljs-params\\">()</span> <span class=\\"hljs-string\\">//</span> <span class=\\"hljs-string\\">\\"0.000008\\"</span>\\n<span class=\\"hljs-params\\">(0.0000008)</span><span class=\\"hljs-string\\">.toString</span><span class=\\"hljs-params\\">()</span> <span class=\\"hljs-string\\">//</span> <span class=\\"hljs-string\\">\\"8e-7\\"</span></code></pre>\\n<h3 id=\\"6-\u5229\u7528\u7ed9\u5b9a\u63a5\u53e3\u83b7\u5f97\u95ed\u5305\u5185\u90e8\u5bf9\u8c61\\">6. \u5229\u7528\u7ed9\u5b9a\u63a5\u53e3\u83b7\u5f97\u95ed\u5305\u5185\u90e8\u5bf9\u8c61</h3>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">var</span> o = (<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span><span class=\\"hljs-params\\">()</span> </span>{\\n    <span class=\\"hljs-keyword\\">var</span> person = {\\n        name: <span class=\\"hljs-string\\">\'Vincent\'</span>,\\n        age: <span class=\\"hljs-number\\">24</span>,\\n    };\\n    <span class=\\"hljs-keyword\\">return</span> {\\n        run: <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span><span class=\\"hljs-params\\">(k)</span> </span>{\\n            <span class=\\"hljs-keyword\\">return</span> person[k];\\n        },\\n    }\\n}());</code></pre>\\n<p>\u5728\u4e0d\u6539\u53d8\u4e0a\u9762\u7684\u4ee3\u7801\u60c5\u51b5\u4e0b\uff0c \u600e\u4e48\u5f97\u5230\u539f\u6709\u7684 person \u5bf9\u8c61\uff1f</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-built_in\\">Object</span>.defineProperty(<span class=\\"hljs-built_in\\">Object</span>.prototype, <span class=\\"hljs-string\\">\'self\'</span>, {\\n    <span class=\\"hljs-attr\\">get</span>: <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\"></span>) </span>{<span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-keyword\\">this</span>;},\\n    <span class=\\"hljs-attr\\">set</span>: <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\">value</span>) </span>{<span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-keyword\\">this</span>},\\n    <span class=\\"hljs-attr\\">configurable</span>: <span class=\\"hljs-literal\\">true</span>\\n    <span class=\\"hljs-comment\\">// \u8be5\u5c5e\u6027\u7684\u5b58\u5728\u662f\u786e\u4fdd\u8be5\u5c5e\u6027\u53ef\u88abdelete\u65b9\u6cd5\u5220\u9664</span>\\n});\\n\\n<span class=\\"hljs-keyword\\">var</span> person = o.run(<span class=\\"hljs-string\\">\'self\'</span>);\\n<span class=\\"hljs-keyword\\">delete</span> <span class=\\"hljs-built_in\\">Object</span>.prototype.self;\\n<span class=\\"hljs-comment\\">//\u7531\u4e8e\u4e0d\u63a8\u8350\u4f7f\u7528prototype\u6765\u6269\u5c55\u81ea\u5df1\u5b9a\u4e49\u7684\u5c5e\u6027\uff08\u6269\u5c55\u6807\u51c6\u89c4\u5b9a\u7684\u9664\u5916\uff09\uff0c\u8fd9\u91cc\u628a\u6269\u5c55\u518d\u53bb\u6389\u3002</span>\\n\\n<span class=\\"hljs-comment\\">// \u5176\u4ed6\u601d\u8def</span>\\nperson = [<span class=\\"hljs-string\\">\\"name\\"</span>, <span class=\\"hljs-string\\">\\"age\\"</span>].reduce(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">obj,k</span>)</span>{ obj[k] = o.run(k); <span class=\\"hljs-keyword\\">return</span> obj }, {})</code></pre>\\n<h3 id=\\"7-\u4f4d\u64cd\u4f5c\u7b26\\">7. \u4f4d\u64cd\u4f5c\u7b26</h3>\\n<p>\u5b9e\u73b0\u6d6e\u70b9\u6570\u8f6c\u6574\u6570\uff0c\u6216\u8005\u8bf4\u53d6\u51fa\u6570\u5b57\u7684\u6574\u6570\u90e8\u5206\u3002\u6bd4\u5982-12.921 --&gt; -12\uff0c12.921 --&gt; 12\u7b49\u7b49\u3002</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">convertToInt</span>(<span class=\\"hljs-params\\">num</span>) </span>{\\n      <span class=\\"hljs-keyword\\">return</span> num &gt;&gt; <span class=\\"hljs-number\\">0</span>;\\n}\\nconvertToInt(-Math.<span class=\\"hljs-literal\\">PI</span>); <span class=\\"hljs-comment\\">// -3</span>\\nconvertToInt(<span class=\\"hljs-number\\">12.921</span>); <span class=\\"hljs-comment\\">// 12</span></code></pre>\\n<p>\u6709\u7b26\u53f7\u53f3\u79fb&gt;&gt;\\n<a href=\\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators\\">\u6309\u4f4d\u64cd\u4f5c\u7b26\\n</a></p>\\n<h3 id=\\"8-functionprototypecallapply-\u7684-this-\u95ee\u9898\\">8. Function.prototype.call/apply \u7684 this \u95ee\u9898</h3>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">nsm</span>(<span class=\\"hljs-params\\"></span>) </span>{<span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-keyword\\">this</span>);}\\nnsm(); <span class=\\"hljs-comment\\">// Window{top: xxxx}</span>\\nnsm.call(<span class=\\"hljs-literal\\">null</span>/<span class=\\"hljs-literal\\">undefined</span>); <span class=\\"hljs-comment\\">// Window{top: xxxx}</span>\\nnsm.call(<span class=\\"hljs-number\\">1</span>); <span class=\\"hljs-comment\\">// Number {[[PrimitiveValue]]: 1}</span>\\n\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">sm</span>(<span class=\\"hljs-params\\"></span>) </span>{<span class=\\"hljs-string\\">\'use strict\'</span>; <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-keyword\\">this</span>);}\\nsm(); <span class=\\"hljs-comment\\">// undefined</span>\\nsm.call(<span class=\\"hljs-literal\\">null</span>); <span class=\\"hljs-comment\\">// null</span>\\nsm.call(<span class=\\"hljs-literal\\">undefined</span>); <span class=\\"hljs-comment\\">// undefined</span>\\nsm.call(<span class=\\"hljs-number\\">1</span>); <span class=\\"hljs-comment\\">// 1</span></code></pre>\\n<p><a href=\\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/call\\">Function.prototype.call()</a>\\n\u975e\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0cthis\u9ed8\u8ba4\u6307\u5411\u5168\u5c40\u5bf9\u8c61\uff0ccall/apply\u663e\u5f0f\u6307\u5b9athis\u53c2\u6570\u65f6\u4e5f\u4f1a\u5f3a\u5236\u8f6c\u6362\u53c2\u6570\u4e3a\u5bf9\u8c61\uff08\u5982\u679c\u4e0d\u662f\u5bf9\u8c61\uff09\u3002\u5176\u4e2d\uff0cnull/undefined\u88ab\u66ff\u6362\u4e3a\u5168\u5c40\u5bf9\u8c61\uff0c\u57fa\u7840\u7c7b\u578b\u88ab\u8f6c\u6362\u4e3a\u5305\u88c5\u5bf9\u8c61\u3002</p>\\n<p>\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0cthis\u9ed8\u8ba4\u4e3aundefined\uff0c\u4e14call/apply\u663e\u5f0f\u6307\u5b9athis\u53c2\u6570\u65f6\u4e5f\u4e0d\u4f1a\u6709\u5f3a\u5236\u8f6c\u6362\u3002</p>\\n<h3 id=\\"9-\u6570\u7ec4\u7684\u5c55\u5f00\u6241\u5e73\\">9. \u6570\u7ec4\u7684\u5c55\u5f00/\u6241\u5e73</h3>\\n<p><code>[1,2,[2,3,[4,5]]]</code>---&gt;<code>[1,2,2,3,4,5]</code></p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">function</span> flatten(arr) {\\n    <span class=\\"hljs-keyword\\">if</span>(!is<span class=\\"hljs-constructor\\">Array(<span class=\\"hljs-params\\">arr</span>)</span><span class=\\"hljs-operator\\"> || </span>!arr.length) {\\n        return <span class=\\"hljs-literal\\">[]</span>;\\n    } <span class=\\"hljs-keyword\\">else</span> {\\n        return <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">Array</span>.</span></span>prototype.concat.apply(<span class=\\"hljs-literal\\">[]</span>, arr.map(<span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-keyword\\">val</span>) {\\n            return is<span class=\\"hljs-constructor\\">Array(<span class=\\"hljs-params\\">val</span>)</span> ? flatten(<span class=\\"hljs-keyword\\">val</span>) : <span class=\\"hljs-keyword\\">val</span>;\\n        }));\\n    }\\n\\n    <span class=\\"hljs-keyword\\">function</span> is<span class=\\"hljs-constructor\\">Array(<span class=\\"hljs-params\\">arr</span>)</span> {\\n        return <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">Object</span>.</span></span>prototype.toString.call(arr).slice(<span class=\\"hljs-number\\">8</span>, -<span class=\\"hljs-number\\">1</span>).<span class=\\"hljs-keyword\\">to</span><span class=\\"hljs-constructor\\">LowerCase()</span><span class=\\"hljs-operator\\"> === </span>\'<span class=\\"hljs-built_in\\">array</span>\';\\n    }\\n}\\nflatten(<span class=\\"hljs-literal\\">[<span class=\\"hljs-number\\">1</span>,<span class=\\"hljs-number\\">2</span>,[<span class=\\"hljs-number\\">2</span>,<span class=\\"hljs-number\\">3</span>,[<span class=\\"hljs-number\\">4</span>,<span class=\\"hljs-number\\">5</span>]</span>]]);\\n<span class=\\"hljs-comment\\">// [1, 2, 2, 3, 4, 5]</span></code></pre>\\n<p><a href=\\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/concat\\">Array.prototype.concat</a></p>\\n<h3 id=\\"10-delete-\u64cd\u4f5c\u7b26\\">10. delete \u64cd\u4f5c\u7b26</h3>\\n<pre><code class=\\"language-javascript\\"> (<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span><span class=\\"hljs-params\\">(x)</span></span>{\\n    <span class=\\"hljs-keyword\\">delete</span> x;\\n    <span class=\\"hljs-keyword\\">return</span> x;\\n})(<span class=\\"hljs-number\\">1</span>);\\n<span class=\\"hljs-comment\\">// \u8fd4\u56de 1</span></code></pre>\\n<p><a href=\\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/delete\\">delete</a>\\n\u5bf9\u5c40\u90e8\u53d8\u91cf\u548c\u51fd\u6570\u540ddelete\u662f\u65e0\u6548\u7684\uff0cdelete\u53ea\u80fd\u5220\u9664\u5c5e\u6027\u3002delete obj.propName \u624d\u662f\u5408\u6cd5\u7684\u5f62\u5f0f\u3002\u4e0b\u9762\u4ee5\u4ee3\u7801\u8be6\u7ec6\u89e3\u91ca\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// ========\u4f8b1========</span>\\n(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">x</span>) </span>{\\n    <span class=\\"hljs-string\\">\'use strict\'</span>;\\n    <span class=\\"hljs-keyword\\">delete</span> x;\\n})(<span class=\\"hljs-number\\">1</span>);\\n<span class=\\"hljs-comment\\">// Uncaught SyntaxError: Delete of an unqualified identifier in strict mode.</span>\\n<span class=\\"hljs-comment\\">// \u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u5220\u9664\u4e0d\u5408\u6cd5\u7684\u6807\u8bc6\u7b26x\uff08x\u662f\u53d8\u91cf\uff09</span>\\n\\n<span class=\\"hljs-comment\\">// ========\u4f8b2========</span>\\n(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\"></span>) </span>{\\n    <span class=\\"hljs-string\\">\'use strict\'</span>;\\n    <span class=\\"hljs-keyword\\">var</span> obj = {};\\n    <span class=\\"hljs-built_in\\">Object</span>.defineProperty(obj, <span class=\\"hljs-string\\">\'x\'</span>, {\\n        <span class=\\"hljs-attr\\">configurable</span>: <span class=\\"hljs-literal\\">false</span>,\\n        <span class=\\"hljs-attr\\">writable</span>: <span class=\\"hljs-literal\\">true</span>,\\n        <span class=\\"hljs-attr\\">enumerable</span>: <span class=\\"hljs-literal\\">true</span>,\\n        <span class=\\"hljs-attr\\">value</span>: <span class=\\"hljs-string\\">\'hi\'</span>\\n    });\\n    <span class=\\"hljs-keyword\\">delete</span> obj.x;\\n})()\\n<span class=\\"hljs-comment\\">// Uncaught TypeError: Cannot delete property \'x\' of #&lt;Object&gt;</span>\\n<span class=\\"hljs-comment\\">// \u5408\u6cd5\u7684\u5220\u9664\u5f62\u5f0f\uff0c\u4f46\u5c5e\u6027x\u662fnon-configurable\u7684\uff0c\u4e25\u683c\u6a21\u5f0f\u4e0b\u62a5\u9519</span>\\n\\n<span class=\\"hljs-comment\\">// ========\u4f8b3========</span>\\n<span class=\\"hljs-built_in\\">window</span>.x = <span class=\\"hljs-number\\">100</span>;\\n<span class=\\"hljs-built_in\\">window</span>.y = <span class=\\"hljs-number\\">100</span>;\\n(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">x</span>) </span>{\\n    <span class=\\"hljs-built_in\\">console</span>.log(x, <span class=\\"hljs-built_in\\">window</span>.x, <span class=\\"hljs-built_in\\">window</span>.y);\\n    <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-keyword\\">delete</span> x, <span class=\\"hljs-keyword\\">delete</span> y);\\n    <span class=\\"hljs-built_in\\">console</span>.log(x, <span class=\\"hljs-built_in\\">window</span>.x, <span class=\\"hljs-built_in\\">window</span>.y);\\n    <span class=\\"hljs-keyword\\">return</span> x;\\n})(<span class=\\"hljs-number\\">1</span>);\\n<span class=\\"hljs-comment\\">// 1 100 100</span>\\n<span class=\\"hljs-comment\\">// false true</span>\\n<span class=\\"hljs-comment\\">// 1 100 undefined</span>\\n\\n<span class=\\"hljs-comment\\">// delete x\u5931\u8d25\uff0c\u56e0\u4e3ax\u662f\u53d8\u91cf\uff08\u51fd\u6570\u5185\u5c40\u90e8\u53d8\u91cfx\u8986\u76d6\u5168\u5c40\u53d8\u91cfx\uff09\uff0cdelete y\u6210\u529f\uff0cy\u662f\u5168\u5c40\u5bf9\u8c61window\u7684\u5c5e\u6027\u3002</span>\\n<span class=\\"hljs-comment\\">// \u975e\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u53ef\u4ee5 delete y \u7684\u5199\u6cd5\uff0c\u4f46\u6b64\u65f6\u662f\u5c1d\u8bd5\u5220\u9664\u5168\u5c40\u5bf9\u8c61\u7684\u540c\u540d\u5c5e\u6027y\uff08y\u5728\u4f5c\u7528\u57df\u4e2d\u4e0d\u662f\u53d8\u91cf\u6216\u51fd\u6570\u540d\uff09\u3002</span></code></pre>\\n<h3 id=\\"11-\u627e\u51fa\u5b57\u7b26\u4e32\u4e2d\u51fa\u73b0\u6700\u591a\u7684\u5b57\u6bcd\\">11. \u627e\u51fa\u5b57\u7b26\u4e32\u4e2d\u51fa\u73b0\u6700\u591a\u7684\u5b57\u6bcd</h3>\\n<p>\u5047\u8bbe\u5b57\u7b26\u4e32&#39;ababccdeajxac&#39;\uff0c\u8bf7\u627e\u51fa\u51fa\u73b0\u6b21\u6570\u6700\u591a\u7684\u5b57\u7b26\uff1f</p>\\n<p>\u6700\u5148\u60f3\u5230\u7684\u89e3\u6cd5\u662f\u7528map\u7eaa\u5f55\u6bcf\u4e2a\u5b57\u7b26\u7684\u6b21\u6570\uff0c\u7136\u540e\u627e\u51fa\u6700\u591a\u7684\u5373\u53ef\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">function</span> getMaxNumberOfChar(str) {\\n    <span class=\\"hljs-keyword\\">return</span> (str + <span class=\\"hljs-string\\">\'\'</span>).split(<span class=\\"hljs-string\\">\'\'</span>).reduce(<span class=\\"hljs-keyword\\">function</span>(pre, cur, <span class=\\"hljs-keyword\\">index</span>, arr) {\\n        cur <span class=\\"hljs-keyword\\">in</span> pre ? pre[cur]++ : (pre[cur] = <span class=\\"hljs-number\\">1</span>);\\n        pre[cur] &gt; pre.<span class=\\"hljs-keyword\\">value</span> &amp;&amp; (pre.char = cur, pre.<span class=\\"hljs-keyword\\">value</span> = pre[cur]);\\n        <span class=\\"hljs-keyword\\">return</span> pre;\\n    }, {<span class=\\"hljs-keyword\\">value</span>: <span class=\\"hljs-number\\">0</span>});\\n}\\ngetMaxNumberOfChar(<span class=\\"hljs-string\\">\'ababccdeajxac\'</span>) // <span class=\\"hljs-keyword\\">Object</span> {<span class=\\"hljs-keyword\\">value</span>: <span class=\\"hljs-number\\">4</span>, a: <span class=\\"hljs-number\\">4</span>, <span class=\\"hljs-type\\">char</span>: \\"a\\", b: <span class=\\"hljs-number\\">2</span>, c: <span class=\\"hljs-number\\">3</span>\u2026}</code></pre>\\n<p>\u6b64\u5916\uff0c\u53ef\u4ee5\u8003\u8651\u7528\u6b63\u5219\u6765\u8f85\u52a9\u5904\u7406\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-selector-tag\\">function</span> <span class=\\"hljs-selector-tag\\">getMaxNumberOfChar</span>(str) {\\n    <span class=\\"hljs-selector-tag\\">return</span> (str + <span class=\\"hljs-string\\">\'\'</span>)<span class=\\"hljs-selector-class\\">.split</span>(<span class=\\"hljs-string\\">\'\'</span>)<span class=\\"hljs-selector-class\\">.sort</span>()<span class=\\"hljs-selector-class\\">.join</span>(<span class=\\"hljs-string\\">\'\'</span>)<span class=\\"hljs-selector-class\\">.match</span>(/(\\\\w)\\\\<span class=\\"hljs-number\\">1</span>*/g)<span class=\\"hljs-selector-class\\">.reduce</span>(function(pre, cur) {\\n        <span class=\\"hljs-selector-tag\\">return</span> <span class=\\"hljs-selector-tag\\">cur</span><span class=\\"hljs-selector-class\\">.length</span> &gt; <span class=\\"hljs-selector-tag\\">pre</span><span class=\\"hljs-selector-class\\">.value</span> ? {<span class=\\"hljs-attribute\\">value</span>: cur.length, <span class=\\"hljs-attribute\\">char</span>: cur[<span class=\\"hljs-number\\">0</span>]} : <span class=\\"hljs-selector-tag\\">pre</span>;\\n    }, {<span class=\\"hljs-attribute\\">value</span>: <span class=\\"hljs-number\\">0</span>})\\n}\\ngetMaxNumberOfChar(<span class=\\"hljs-string\\">\'ababccdeajxac\'</span>) <span class=\\"hljs-comment\\">// Object {value: 4, char: \\"a\\"}</span></code></pre>\\n<h3 id=\\"12--storage-event\\">12.  storage event</h3>\\n<p>\u5f53\u4f60\u7528<code>localStorage</code>\u6216<code>sessionStorage</code>\u7684API\u53bb\u66f4\u6539Storage\u65f6\uff0c\u4f1a\u89e6\u53d1storage\u4e8b\u4ef6\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-built_in\\">window</span>.addEventListener(<span class=\\"hljs-string\\">\'storage\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">e</span>) </span>{\\n        <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'storage\'</span>, e);\\n});</code></pre>\\n<p>\u8fd9\u91cc\u6ca1\u6709\u4ec0\u4e48\u7279\u522b\u7684\uff0c\u4f46\u57fa\u672c\u6240\u6709\u95ee\u9898\u7684\u6839\u6e90\uff0c\u6216\u8005\u8bf4\u8981\u7279\u522b\u6ce8\u610f\u7684\u662f\uff1a\u672c\u9875\u9762\u66f4\u6539Storage\u53ea\u80fd\u5728\u540c\u57df\u540d\u7684<strong>\u5176\u5b83</strong>\u9875\u9762\u53bb\u6355\u83b7storage\u4e8b\u4ef6\u3002</p>\\n<h3 id=\\"13-\u4e00\u4e2a\u51fd\u6570\u67ef\u91cc\u5316\u95ee\u9898\u53ca\u66f4\u591a\\">13. \u4e00\u4e2a\u51fd\u6570\u67ef\u91cc\u5316\u95ee\u9898\u53ca\u66f4\u591a</h3>\\n<p>\u8981\u6c42\u5b9e\u73b0sum\u51fd\u6570\u5982\u4e0b\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-function\\"><span class=\\"hljs-title\\">sum</span><span class=\\"hljs-params\\">(<span class=\\"hljs-number\\">1</span>)</span></span> <span class=\\"hljs-comment\\">// 1</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-title\\">sum</span><span class=\\"hljs-params\\">(<span class=\\"hljs-number\\">1</span>)</span><span class=\\"hljs-params\\">(<span class=\\"hljs-number\\">2</span>)</span></span> <span class=\\"hljs-comment\\">// 3</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-title\\">sum</span><span class=\\"hljs-params\\">(<span class=\\"hljs-number\\">1</span>)</span><span class=\\"hljs-params\\">(<span class=\\"hljs-number\\">2</span>)</span><span class=\\"hljs-params\\">(<span class=\\"hljs-number\\">3</span>)</span></span> <span class=\\"hljs-comment\\">// 6</span></code></pre>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">sum</span><span class=\\"hljs-params\\">(item)</span> </span>{\\n    <span class=\\"hljs-keyword\\">var</span> cur = item;\\n    <span class=\\"hljs-keyword\\">var</span> inner = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span><span class=\\"hljs-params\\">(next)</span> </span>{\\n        <span class=\\"hljs-keyword\\">if</span> (next != <span class=\\"hljs-literal\\">null</span>) cur += next;\\n        <span class=\\"hljs-keyword\\">return</span> inner;\\n    };\\n    inner.toString = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span><span class=\\"hljs-params\\">()</span> </span>{\\n        <span class=\\"hljs-keyword\\">return</span> cur;\\n    }\\n    <span class=\\"hljs-keyword\\">return</span> inner;\\n}</code></pre>\\n<p>console.log(), \u5982\u679c\u4f20\u5165\u7684\u662f\u51fd\u6570\uff0c\u5219\u4f1a\u8c03\u7528toString()\u65b9\u6cd5\u6253\u5370\u51fd\u6570\uff0c\u8fd9\u91cc\u6539\u5199\u4e86inner\u7684toString\u51fd\u6570\uff0c\u8fbe\u5230\u8f93\u51fa\u7ed3\u679c\u7684\u76ee\u7684</p>\\n<h3 id=\\"14-typeof\\">14. typeOf</h3>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-selector-tag\\">Object</span><span class=\\"hljs-selector-class\\">.prototype</span><span class=\\"hljs-selector-class\\">.toString</span><span class=\\"hljs-selector-class\\">.call</span>(<span class=\\"hljs-selector-tag\\">obj</span>)<span class=\\"hljs-selector-class\\">.slice</span>(8, <span class=\\"hljs-selector-tag\\">-1</span>);</code></pre>\\n<h3 id=\\"15--\u8fd0\u7b97\u89c4\u5219\u7684\u56fe\u5f62\u5316\u8868\u793a\\">15.  <code>==</code>\u8fd0\u7b97\u89c4\u5219\u7684\u56fe\u5f62\u5316\u8868\u793a</h3>\\n<p><a href=\\"https://camo.githubusercontent.com/af251d0062891ec9d9ff4b9dc7886b4522c743d0/687474703a2f2f7777312e73696e61696d672e636e2f6c617267652f61363630636162326779316663796a666d776330336a323078733067796a7630\\">link</a></p>\\n<pre><code>\u524d\u9762\u8bf4\u5f97\u5f88\u4e71\uff0c\u6839\u636e\u6211\u4eec\u5f97\u5230\u7684\u6700\u7ec8\u7684\u56fe<span class=\\"hljs-number\\">3</span>\uff0c\u6211\u4eec\u603b\u7ed3\u4e00\u4e0b==\u8fd0\u7b97\u7684\u89c4\u5219\uff1a\\n\\n<span class=\\"hljs-number\\">1.</span> <span class=\\"hljs-literal\\">undefined</span> == <span class=\\"hljs-literal\\">null</span>\uff0c\u7ed3\u679c\u662f<span class=\\"hljs-literal\\">true</span>\u3002\u4e14\u5b83\u4fe9\u4e0e\u6240\u6709\u5176\u4ed6\u503c\u6bd4\u8f83\u7684\u7ed3\u679c\u90fd\u662f<span class=\\"hljs-literal\\">false</span>\u3002\\n\\n<span class=\\"hljs-number\\">2.</span> <span class=\\"hljs-built_in\\">String</span> == <span class=\\"hljs-built_in\\">Boolean</span>\uff0c\u9700\u8981\u4e24\u4e2a\u64cd\u4f5c\u6570\u540c\u65f6\u8f6c\u4e3a<span class=\\"hljs-built_in\\">Number</span>\u3002\\n\\n<span class=\\"hljs-number\\">3.</span> <span class=\\"hljs-built_in\\">String</span>/<span class=\\"hljs-built_in\\">Boolean</span> == <span class=\\"hljs-built_in\\">Number</span>\uff0c\u9700\u8981<span class=\\"hljs-built_in\\">String</span>/<span class=\\"hljs-built_in\\">Boolean</span>\u8f6c\u4e3a<span class=\\"hljs-built_in\\">Number</span>\u3002\\n\\n<span class=\\"hljs-number\\">4.</span> <span class=\\"hljs-built_in\\">Object</span> == Primitive\uff0c\u9700\u8981<span class=\\"hljs-built_in\\">Object</span>\u8f6c\u4e3aPrimitive(\u5177\u4f53\u901a\u8fc7valueOf\u548ctoString\u65b9\u6cd5)\u3002\\n\\n\u77a7\u89c1\u6ca1\u6709\uff0c\u4e00\u5171\u53ea\u6709<span class=\\"hljs-number\\">4</span>\u6761\u89c4\u5219\uff01\u662f\u4e0d\u662f\u5f88\u6e05\u6670\u3001\u5f88\u7b80\u5355\u3002</code></pre><p>\u539f\u6587:   <a href=\\"https://github.com/jawil/blog/issues/1\\">\u4ece&#39;[]== ! []&#39;\u4e3atrue\u6765\u5256\u6790JavaScript\u5404\u79cd\u86cb\u75bc\u7684\u7c7b\u578b\u8f6c\u6362</a></p>\\n<h3 id=\\"16-\u53d8\u91cf\u63d0\u5347\u9884\u52a0\u8f7d\\">16. \u53d8\u91cf\u63d0\u5347/\u9884\u52a0\u8f7d</h3>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">var</span> foo = <span class=\\"hljs-number\\">1</span>;\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">bar</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n    <span class=\\"hljs-keyword\\">if</span> (!foo) {\\n        <span class=\\"hljs-keyword\\">var</span> foo = <span class=\\"hljs-number\\">10</span>;\\n    }\\n    <span class=\\"hljs-built_in\\">console</span>.log(foo);\\n}\\nbar(); <span class=\\"hljs-comment\\">// 10</span>\\n\\nfaz(<span class=\\"hljs-string\\">\'faz\'</span>); <span class=\\"hljs-comment\\">// faz</span>\\n<span class=\\"hljs-keyword\\">if</span>(<span class=\\"hljs-literal\\">true</span>){\\n    <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">foo</span>(<span class=\\"hljs-params\\">x</span>)</span>{\\n        <span class=\\"hljs-built_in\\">console</span>.log(x);\\n    }\\n}\\n<span class=\\"hljs-keyword\\">if</span>(<span class=\\"hljs-literal\\">false</span>){\\n    <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">bar</span>(<span class=\\"hljs-params\\">x</span>)</span>{\\n        <span class=\\"hljs-built_in\\">console</span>.log(x);\\n    }\\n}\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">faz</span>(<span class=\\"hljs-params\\">x</span>)</span>{\\n    <span class=\\"hljs-built_in\\">console</span>.log(x);\\n}\\nfoo(<span class=\\"hljs-string\\">\'foo\'</span>); <span class=\\"hljs-comment\\">// foo</span>\\nbar(<span class=\\"hljs-string\\">\'bar\'</span>); <span class=\\"hljs-comment\\">// Uncaught TypeError: bar is not a function</span></code></pre>\\n<p>\u5bf9\u4e8e\u53d8\u91cf\u7684\u5b9a\u4e49\uff0c\u65e0\u8bba\u662f\u5426\u5b58\u5728\u903b\u8f91\u5224\u65ad\uff0cJavaScript\u90fd\u4f1a\u8fdb\u884c\u9884\u89e3\u6790\uff0c\u800c\u5bf9\u4e8e\u51fd\u6570\u58f0\u660e\uff0cJavaScript\u5e76\u4e0d\u4f1a\u5bf9\u903b\u8f91\u5224\u65ad\u4e2d\u7684\u8fdb\u884c\u9884\u52a0\u8f7d\uff0c\u53ea\u4f1a\u5bf9\u51fd\u6570\u4e3b\u4f53\u4e2d\u66b4\u9732\u7684\u8fdb\u884c\u9884\u52a0\u8f7d\u3002</p>\\n<h3 id=\\"17-\u9884\u52a0\u8f7d\u987a\u5e8f\\">17. \u9884\u52a0\u8f7d\u987a\u5e8f</h3>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-built_in\\">console</span>.log(x) <span class=\\"hljs-comment\\">// function</span>\\n<span class=\\"hljs-keyword\\">var</span> x = <span class=\\"hljs-number\\">10</span>;\\n<span class=\\"hljs-built_in\\">console</span>.log(x) <span class=\\"hljs-comment\\">//10</span>\\nx = <span class=\\"hljs-number\\">20</span>;\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">x</span>(<span class=\\"hljs-params\\"></span>)</span>{}\\n<span class=\\"hljs-built_in\\">console</span>.log(x) <span class=\\"hljs-comment\\">//20</span>\\n\\n(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">x,y</span>)</span>{\\n    <span class=\\"hljs-built_in\\">console</span>.log(x); <span class=\\"hljs-comment\\">// \u0192 x(){}</span>\\n    <span class=\\"hljs-built_in\\">console</span>.log(y); <span class=\\"hljs-comment\\">//2</span>\\n    <span class=\\"hljs-keyword\\">var</span> x = <span class=\\"hljs-number\\">10</span>,y=<span class=\\"hljs-number\\">20</span>;\\n    <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">x</span>(<span class=\\"hljs-params\\"></span>)</span>{}\\n    <span class=\\"hljs-built_in\\">console</span>.log(x); <span class=\\"hljs-comment\\">//10</span>\\n    <span class=\\"hljs-built_in\\">console</span>.log(y);  <span class=\\"hljs-comment\\">//20</span>\\n})(<span class=\\"hljs-number\\">2</span>,<span class=\\"hljs-number\\">2</span>)</code></pre>\\n<pre><code>    <span class=\\"hljs-number\\">1.</span> \u51fd\u6570\u7684\u53c2\u6570\uff0c\u5982\u679c\u6709\u53c2\u6570\u76f4\u63a5\u8d4b\u503c\\n    <span class=\\"hljs-number\\">2.</span> \u51fd\u6570\u5185\u90e8\u7684\u51fd\u6570\u58f0\u660e\uff0c\u5982\u679c\u6709\u5219\u524d\u7f6e\uff0c\u5982\u679c\u51fd\u6570\u540d\u4e0e\u53c2\u6570\u91cd\u590d\u5219\u8986\u76d6\u6389\u53c2\u6570\\n    <span class=\\"hljs-number\\">3.</span> \u51fd\u6570\u5185\u90e8\u7684\u53d8\u91cf\u58f0\u660e\uff0c\u5982\u679c\u6709\u5219\u524d\u7f6e\uff0c\u5982\u679c\u53d8\u91cf\u540d\u4e0e \u51fd\u6570\u58f0\u660e\u91cd\u590d \u4f1a\u5ffd\u7565\u8be5\u53d8\u91cf\u58f0\u660e\uff0c\u53ea\u662f\u5ffd\u7565\u58f0\u660e \u8d4b\u503c\u8bed\u53e5\u4ecd\u6709\u6548</code></pre><h3 id=\\"18-\u67e5\u627e\u6570\u7ec4\u4e2d\u6700\u5927\u5c0f\u503c\\">18. \u67e5\u627e\u6570\u7ec4\u4e2d\u6700\u5927/\u5c0f\u503c</h3>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">var</span> numbers = [<span class=\\"hljs-number\\">5</span>, <span class=\\"hljs-number\\">458</span> , <span class=\\"hljs-number\\">120</span> , <span class=\\"hljs-number\\">-215</span> ];\\n<span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-built_in\\">Math</span>.min.apply(<span class=\\"hljs-literal\\">null</span>, numbers));\\n<span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-built_in\\">Math</span>.max.apply(<span class=\\"hljs-literal\\">null</span>, numbers));</code></pre>\\n<h3 id=\\"19-\u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u662f\u4e0d\u662f\u6570\u7ec4\\">19. \u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u662f\u4e0d\u662f\u6570\u7ec4</h3>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">isArray</span>(<span class=\\"hljs-params\\">myArray</span>) </span>{\\n    <span class=\\"hljs-keyword\\">return</span> myArray.<span class=\\"hljs-keyword\\">constructor</span>.toString(<span class=\\"hljs-params\\"></span>).indexOf(<span class=\\"hljs-params\\">\\"<span class=\\"hljs-built_in\\">Array</span>\\"</span>) &gt; -1;\\n}</code></pre>\\n<h3 id=\\"20-this\\">20. this</h3>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">var</span> length = <span class=\\"hljs-number\\">10</span>;\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">fn</span><span class=\\"hljs-params\\">()</span> <span class=\\"hljs-comment\\">{\\n    console.log(this.length)\\n}</span>;</span>\\n<span class=\\"hljs-keyword\\">var</span> obj = <span class=\\"hljs-comment\\">{\\n    length: 5,\\n    method: function (fn) {\\n        fn();\\n        arguments[0]();\\n        fn.call(obj, 12);\\n    }</span>\\n};\\nobj<span class=\\"hljs-function\\">.<span class=\\"hljs-keyword\\">method</span><span class=\\"hljs-params\\">(fn, 1)</span>;</span> <span class=\\"hljs-comment\\">// 10 2 5</span></code></pre>\\n<p><a href=\\"https://segmentfault.com/a/1190000007964935\\">\u4e00\u4e2a\u5c0f\u5c0f\u7684JavaScript\u9898\u76ee</a></p>\\n<h3 id=\\"21-\u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7\u95ee\u9898\\">21. \u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7\u95ee\u9898</h3>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">var</span> str = <span class=\\"hljs-string\\">\'why I am \'</span> + <span class=\\"hljs-keyword\\">typeof</span> + <span class=\\"hljs-string\\">\'\'</span>; <span class=\\"hljs-comment\\">// so what is str?</span></code></pre>\\n<p><code>str</code> \u662f <code>why I am number</code>,  \u601d\u8003\u4e00\u4e0b\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u5e94\u8be5\u7b49\u540c\u4e8e<code>&#39;why I am &#39; + (typeof (+ &#39;&#39;))</code>\u3002\\n<code>typeof</code> \u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7\u9ad8\u4e8e<code>+</code>\uff0c\u5e76\u4e14\u662f<code>right-to-left</code></p>\\n<h3 id=\\"22-prefix-increment-operator\u7684\u95ee\u9898\\">22. Prefix Increment Operator(++)\u7684\u95ee\u9898</h3>\\n<p>\u5173\u4e8e\u524d\u81ea\u589e\u8fd0\u7b97\u7b26\u7684\u4e00\u4e2a\u6709\u610f\u601d\u7684\u95ee\u9898\uff1a</p>\\n<pre><code class=\\"language-javascript\\">++<span class=\\"hljs-string\\">\'52\'</span>.<span class=\\"hljs-built_in\\">split</span>(<span class=\\"hljs-string\\">\'\'</span>)[<span class=\\"hljs-number\\">0</span>]<span class=\\"hljs-comment\\"> //\u8fd4\u56de\u7684\u662f\uff1f</span></code></pre>\\n<p>\u8fd9\u9053\u9898\u6765\u81ea<a href=\\"http://www.zhangxinxu.com/wordpress/2013/05/%E7%90%86%E8%A7%A3another-javascript-quiz-%E9%A2%98%E7%9B%AE/\\">Another JavaScript quiz</a>\u7b2c8\u9898\uff0c\u4e3b\u8981\u662f\u4f18\u5148\u7ea7\u95ee\u9898\uff0c\u5e94\u8be5\u8fd4\u56de6\uff0c\u770b\u5b8c\u7b54\u6848\u5e94\u8be5\u6ca1\u4ec0\u4e48\u96be\u7406\u89e3\u7684\u3002\u4f46\u662f\uff0c\u9898\u76ee\u7684\u67d0\u4e2a\u6ce8\u610f\u70b9:</p>\\n<pre><code class=\\"language-javascript\\">++\'5\'\\n<span class=\\"hljs-comment\\">// Uncaught ReferenceError: Invalid left-hand side expression in prefix operation</span></code></pre>\\n<p>\u5374\u975e\u5e38\u6709\u610f\u601d\u3002\u6240\u4ee5\u95ee\u9898\u662f\u4e3a\u4ec0\u4e48++&#39;5&#39;\u62a5\u9519\u800c++&#39;52&#39;.split(&#39;&#39;)[0]\u53ef\u4ee5\u6b63\u786e\u6267\u884c\uff1f</p>\\n<p>\u9605\u8bfb<a href=\\"http://es5.github.io/#x11.4.4\\">http://es5.github.io/#x11.4.4</a>\uff0c\u53ef\u4ee5\u770b\u5230_Prefix Increment Operator_\u64cd\u4f5c\u7684\u7b2c5\u6b65PutValue(expr, newValue)\u8981\u6c42expr\u662f\u5f15\u7528\u3002</p>\\n<p>\u800c\u5728\u8fd9\u91cc:</p>\\n<ul>\\n<li><code>&#39;5&#39;</code>\u662f\u503c\uff0c\u4e0d\u662f\u5f15\u7528\uff0c\u6240\u4ee5\u62a5\u9519\u3002</li>\\n<li><code>&#39;52&#39;.split(&#39;&#39;)[0]</code>\u8fd4\u56de\u7684\u662f<code>[&#39;5&#39;,&#39;2&#39;][0]</code>\uff0c\u5bf9\u8c61\u7684\u5c5e\u6027\u8bbf\u95ee\u8fd4\u56de\u7684\u662f\u5f15\u7528\uff0c\u6240\u4ee5\u53ef\u4ee5\u6b63\u786e\u6267\u884c\u3002</li>\\n</ul>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keywords\\">var</span> <span class=\\"hljs-symbol\\">x</span> = <span class=\\"hljs-string\\">\'5\'</span>;\\n++<span class=\\"hljs-symbol\\">x</span>  <span class=\\"hljs-comment\\">// 6</span>\\n\\n++<span class=\\"hljs-string\\">\'5\'</span>[<span class=\\"hljs-number\\">0</span>] <span class=\\"hljs-comment\\">// 6</span></code></pre>\\n<h3 id=\\"23-\u5f02\u6b65\u7684throw\u5c06\u4e0d\u4f1a\u88abpromise\u6355\u83b7\\">23. \u5f02\u6b65\u7684<code>throw</code>\u5c06\u4e0d\u4f1a\u88ab<code>Promise</code>\u6355\u83b7</h3>\\n<p>\u6211\u4eec\u77e5\u9053\uff0c\u5728<code>Promise</code>\u5185\u90e8<code>throw</code>\uff0c<code>promise</code>\u5c06\u4f1a\u53d8\u6210<code>rejected</code>\u72b6\u6001\uff0c\u5e76\u4e14\u901a\u8fc7<code>catch</code>\u53ef\u4ee5\u6355\u83b7\u9519\u8bef\uff08\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u4e0d\u7528\u663e\u793a\u8c03\u7528<code>reject</code>\uff09\u3002\u793a\u4f8b\u5982\u4e0b\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">const</span> promise = <span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-built_in\\">Promise</span>(<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">resolve, reject</span>) =&gt;</span> {\\n  <span class=\\"hljs-comment\\">// alternative: reject(\'hi\')</span>\\n  <span class=\\"hljs-keyword\\">throw</span> <span class=\\"hljs-string\\">\'hi\'</span>\\n})\\n<span class=\\"hljs-comment\\">// \u8fd9\u91cc\u7684 reason \u5c31\u662f hi</span>\\npromise.catch(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">reason</span> =&gt;</span> <span class=\\"hljs-built_in\\">console</span>.log(reason))</code></pre>\\n<p>\u4f46\u8bf7\u6ce8\u610f\uff0c\u5f02\u6b65\u7684<code>throw</code>\u5c06\u4e0d\u4f1a\u88ab\u6355\u83b7\u5230\u3002</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">timeoutPromiseThrow</span>(<span class=\\"hljs-params\\">delay</span>) </span>{\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-built_in\\">Promise</span>(<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">resolve,reject</span>) =&gt;</span> {\\n        setTimeout(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n            <span class=\\"hljs-keyword\\">throw</span> ( <span class=\\"hljs-string\\">\\"Timeout!\\"</span> );\\n        }, delay );\\n    } );\\n}\\n\\n<span class=\\"hljs-keyword\\">const</span> th = timeoutPromiseThrow(<span class=\\"hljs-number\\">2000</span>).catch(<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">err</span>) =&gt;</span> { <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\\"throw \\"</span> + err); })\\n<span class=\\"hljs-comment\\">// th \u5c06\u6c38\u8fdc\u662f pending \u72b6\u6001\u3002</span></code></pre>\\n<p>\u89e3\u91ca\uff1a<code>promise</code>\u5185\u90e8\u6709\u7c7b\u4f3c<code>try{} catch...</code>\u7684\u673a\u5236\uff0c\u4f46\u663e\u7136\uff0c\u5f02\u6b65\u7684<code>throw</code>\u662f\u65e0\u6cd5\u88ab\u6355\u83b7\u7684\uff0c\u5f02\u6b65\u8bf7\u663e\u5f0f\u8c03\u7528<code>reject</code>\u3002</p>\\n<h3 id=\\"24-jsonparse-\u7684\u4e00\u4e2a\u6478\u4e0d\u7740\u5934\u8111\u7684\u62a5\u9519unexpected-token-o-in-json\\">24. <code>JSON.parse</code> \u7684\u4e00\u4e2a\u6478\u4e0d\u7740\u5934\u8111\u7684\u62a5\u9519<code>Unexpected token o in JSON</code></h3>\\n<pre><code class=\\"language-javascript\\">JSON.parse<span class=\\"hljs-params\\">(obj)</span> <span class=\\"hljs-string\\">//</span> obj.toString<span class=\\"hljs-params\\">()</span> <span class=\\"hljs-params\\">---</span>&gt; <span class=\\"hljs-string\\">\\"[object Object]\\"</span></code></pre>\\n<p><a href=\\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON\\">JSON\u8bed\u6cd5</a></p>\\n<pre><code class=\\"language-javascript\\">JSON.parse(<span class=\\"hljs-string\\">\'[1, \\"b\\"]\'</span>)\\n<span class=\\"hljs-regexp\\">//</span> [<span class=\\"hljs-number\\">1</span>, <span class=\\"hljs-string\\">\\"b\\"</span>]</code></pre>\\n<h3 id=\\"25-javascript-\u4e2d\u53c2\u6570\u662f\u503c\u4f20\u9012\u8fd8\u662f\u5f15\u7528\u4f20\u9012\uff1f\\">25. JavaScript \u4e2d\u53c2\u6570\u662f\u503c\u4f20\u9012\u8fd8\u662f\u5f15\u7528\u4f20\u9012\uff1f</h3>\\n<p><a href=\\"https://stackoverflow.com/questions/518000/is-javascript-a-pass-by-reference-or-pass-by-value-language\\">StackOverflow</a> :\\nJavaScript \u65e2\u4e0d\u662f\u503c\u4f20\u9012\uff0c\u4e5f\u4e0d\u662f\u5f15\u7528\u4f20\u9012\uff0c\u800c\u662f call by sharing .</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">changeStuff</span>(<span class=\\"hljs-params\\">a, b, c</span>)\\n</span>{\\n  a = a * <span class=\\"hljs-number\\">10</span>;\\n  b.item = <span class=\\"hljs-string\\">\\"changed\\"</span>;\\n  c = {<span class=\\"hljs-attr\\">item</span>: <span class=\\"hljs-string\\">\\"changed\\"</span>};\\n}\\n\\n<span class=\\"hljs-keyword\\">var</span> num = <span class=\\"hljs-number\\">10</span>;\\n<span class=\\"hljs-keyword\\">var</span> obj1 = {<span class=\\"hljs-attr\\">item</span>: <span class=\\"hljs-string\\">\\"unchanged\\"</span>};\\n<span class=\\"hljs-keyword\\">var</span> obj2 = {<span class=\\"hljs-attr\\">item</span>: <span class=\\"hljs-string\\">\\"unchanged\\"</span>};\\n\\nchangeStuff(num, obj1, obj2);\\n\\n<span class=\\"hljs-built_in\\">console</span>.log(num);   <span class=\\"hljs-comment\\">// 10</span>\\n<span class=\\"hljs-built_in\\">console</span>.log(obj1.item);    <span class=\\"hljs-comment\\">// changed</span>\\n<span class=\\"hljs-built_in\\">console</span>.log(obj2.item);    <span class=\\"hljs-comment\\">// unchanged</span></code></pre>\\n<pre><code>    <span class=\\"hljs-number\\">1.</span> \u4f20\u503c\uff1a\u53c2\u6570\u6307\u5411\u65b0\u5185\u5b58\uff08\u65b0\u5185\u5b58\u590d\u5236\u4e86\u503c\uff09\uff0c\u64cd\u4f5c\u53c2\u6570\u548c\u539f\u6765\u7684\u53d8\u91cf\uff08\u6307\u5411\u7684\u5185\u5b58\uff09\u6ca1\u6709\u534a\u6bdb\u94b1\u7684\u5173\u7cfb\u3002\\n    <span class=\\"hljs-number\\">2.</span> \u4f20\u5f15\u7528\uff1a\u53c2\u6570\u6307\u5411\u540c\u4e00\u4efd\u5185\u5b58\uff08\u6ca1\u6709\u590d\u5236\u503c\uff09\uff0c\u64cd\u4f5c\u53c2\u6570\u5373\u64cd\u4f5c\u539f\u6765\u7684\u53d8\u91cf\uff08\u6307\u5411\u7684\u5185\u5b58\uff09\u3002\\n    <span class=\\"hljs-number\\">3.</span> call by sharing\uff1a\u53c2\u6570\u6307\u5411\u65b0\u5185\u5b58\uff0c\u4f46\u65b0\u5185\u5b58\u590d\u5236\u4e86\u539f\u6765\u7684\u5185\u5b58\u5730\u5740\uff0c\u76f4\u63a5\u8d4b\u503c\u7684\u8bdd\u76f8\u5f53\u4e8e\u8986\u76d6\u4e86\u65b0\u5185\u5b58\u7684\u5185\u5bb9\uff0c\u4e0d\u4f1a\u5f71\u54cd\u539f\u6765\u7684\u53d8\u91cf\uff1b\u4f46\u662f\u6539\u53d8\u5bf9\u8c61\u7684\u5c5e\u6027\u5176\u5b9e\u8fd8\u662f\u64cd\u4f5c\u4e86\u539f\u6765\u7684\u5bf9\u8c61\u3002</code></pre><p>Java \u4e2d\u4f20\u53c2\u6570\u7684\u672c\u8d28\u662f\u8d4b\u503c\u64cd\u4f5c\uff0cprimitive \u5c31\u662f\u672c\u8eab\u7684\u503c\uff0cobject \u5c31\u662f\u5185\u5b58\u5730\u5740\u3002</p>\\n<p>\u4ee5\u4e0a\u95ee\u9898\u6765\u81ea\u4e8e<a href=\\"https://github.com/creeperyang/blog/issues/2\\">JavaScript\u95ee\u9898\u96c6\u9526</a>, \u4ee5\u53ca\u770b\u7684\u65f6\u5019\u67e5\u9605\u7684\u5176\u4ed6\u8d44\u6599</p>\\n<h3 id=\\"26-javascript\u7684\u64cd\u4f5c\u7b26\u4f18\u5148\u7ea7\u4ece\u9ad8\u5230\u4f4e\u6392\u5e8f\\">26. JavaScript\u7684\u64cd\u4f5c\u7b26\u4f18\u5148\u7ea7,\u4ece\u9ad8\u5230\u4f4e\u6392\u5e8f</h3>\\n<p><a href=\\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence\\">MDN</a></p>\\n<h3 id=\\"27--\u4e00\u9053\u9887\u6709\u96be\u5ea6\u7684javascript\u9898\\">27.  <a href=\\"https://segmentfault.com/a/1190000007979730\\">\u4e00\u9053\u9887\u6709\u96be\u5ea6\u7684JavaScript\u9898</a></h3>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">Foo</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n    getName = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\"></span>) </span>{\\n        <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'1\'</span>);\\n    };\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-keyword\\">this</span>;\\n}\\nFoo.getName = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\"></span>) </span>{\\n    <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'2\'</span>);\\n};\\nFoo.prototype.getName = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\"></span>) </span>{\\n    <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'3\'</span>);\\n};\\n<span class=\\"hljs-keyword\\">var</span> getName = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\"></span>) </span>{\\n    <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'4\'</span>);\\n};\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">getName</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n    <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-number\\">5</span>);\\n}\\n\\nFoo.getName();  <span class=\\"hljs-comment\\">// 2</span>\\ngetName();    <span class=\\"hljs-comment\\">// 4</span>\\nFoo().getName(); <span class=\\"hljs-comment\\">// 1</span>\\ngetName();  <span class=\\"hljs-comment\\">// 1</span>\\n<span class=\\"hljs-keyword\\">new</span> Foo.getName(); <span class=\\"hljs-comment\\">// 2</span>\\n<span class=\\"hljs-keyword\\">new</span> Foo().getName();   <span class=\\"hljs-comment\\">// 3</span>\\n<span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-keyword\\">new</span> Foo().getName();   <span class=\\"hljs-comment\\">// 3</span></code></pre>\\n<p>new \u4f18\u5148\u7ea7\uff1f</p>\\n<h3 id=\\"28-\u5b9e\u73b0-functionprototypebind\\">28. \u5b9e\u73b0 <code>Function.prototype.bind()</code></h3>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">test</span><span class=\\"hljs-params\\">(num1, num2)</span> </span>{\\n    <span class=\\"hljs-keyword\\">this</span>.num1 = num1;\\n    <span class=\\"hljs-keyword\\">this</span>.num2 = num2;\\n}\\n\\nobj = {}\\ntest1 = test.bind(obj, <span class=\\"hljs-number\\">456</span>)\\ntest1(<span class=\\"hljs-number\\">123</span>)\\nobj.num1 <span class=\\"hljs-comment\\">// 456</span>\\nobj.num2 <span class=\\"hljs-comment\\">// 123</span></code></pre>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-built_in\\">Function</span>.prototype.bind = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n    <span class=\\"hljs-keyword\\">var</span> fn = <span class=\\"hljs-keyword\\">this</span>;\\n    <span class=\\"hljs-keyword\\">var</span> args = <span class=\\"hljs-built_in\\">Array</span>.prototype.slice.call(<span class=\\"hljs-built_in\\">arguments</span>);\\n    <span class=\\"hljs-keyword\\">var</span> context = args.shift();\\n\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n        <span class=\\"hljs-keyword\\">return</span> fn.apply(context,\\n            args.concat(<span class=\\"hljs-built_in\\">Array</span>.prototype.slice.call(<span class=\\"hljs-built_in\\">arguments</span>)));\\n    };\\n};</code></pre>\\n<p><a href=\\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply\\">Function.prototype.apply()</a>\\n<a href=\\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\\">Function.prototype.bind()</a></p>\\n<h3 id=\\"29-\u51fd\u6570\u8282\u6d41\u548c\u51fd\u6570\u9632\u6296\\">29. \u51fd\u6570\u8282\u6d41\u548c\u51fd\u6570\u9632\u6296</h3>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// \u7b80\u5355\u7684\u8282\u6d41\u51fd\u6570</span>\\n<span class=\\"hljs-comment\\">//fun \u8981\u6267\u884c\u7684\u51fd\u6570</span>\\n<span class=\\"hljs-comment\\">//delay \u5ef6\u8fdf</span>\\n<span class=\\"hljs-comment\\">//time  \u5728time\u65f6\u95f4\u5185\u5fc5\u987b\u6267\u884c\u4e00\u6b21</span>\\nfunction throttle(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">fun</span>, delay, time) {</span>\\n    <span class=\\"hljs-keyword\\">var</span> timeout,\\n        startTime = new Date();\\n    <span class=\\"hljs-keyword\\">return</span> function() {\\n        <span class=\\"hljs-keyword\\">var</span> context = <span class=\\"hljs-keyword\\">this</span>,\\n            args = arguments,\\n            curTime = new Date();\\n        clearTimeout(timeout);\\n        <span class=\\"hljs-comment\\">// \u5982\u679c\u8fbe\u5230\u4e86\u89c4\u5b9a\u7684\u89e6\u53d1\u65f6\u95f4\u95f4\u9694\uff0c\u89e6\u53d1 handler</span>\\n        <span class=\\"hljs-keyword\\">if</span> (curTime - startTime &gt;= time) {\\n            <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">fun</span>.<span class=\\"hljs-title\\">apply</span><span class=\\"hljs-params\\">(context, args)</span></span>;\\n            startTime = curTime;\\n            <span class=\\"hljs-comment\\">// \u6ca1\u8fbe\u5230\u89e6\u53d1\u95f4\u9694\uff0c\u91cd\u65b0\u8bbe\u5b9a\u5b9a\u65f6\u5668</span>\\n        } <span class=\\"hljs-keyword\\">else</span> {\\n            timeout = setTimeout(function(){\\n                <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">fun</span>.<span class=\\"hljs-title\\">apply</span><span class=\\"hljs-params\\">(context, args)</span></span>;\\n            }, delay);\\n        }\\n    };\\n};</code></pre>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// \u7b80\u5355\u7684\u9632\u6296\u51fd\u6570</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">debounce</span>(<span class=\\"hljs-params\\">fn, delay</span>) </span>{\\n  <span class=\\"hljs-comment\\">// \u6301\u4e45\u5316\u4e00\u4e2a\u5b9a\u65f6\u5668 timer</span>\\n  <span class=\\"hljs-keyword\\">let</span> timer = <span class=\\"hljs-literal\\">null</span>;\\n  <span class=\\"hljs-comment\\">// \u95ed\u5305\u51fd\u6570\u53ef\u4ee5\u8bbf\u95ee timer</span>\\n  <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n    <span class=\\"hljs-comment\\">// \u901a\u8fc7 \'this\' \u548c \'arguments\'</span>\\n    <span class=\\"hljs-comment\\">// \u83b7\u5f97\u51fd\u6570\u7684\u4f5c\u7528\u57df\u548c\u53c2\u6570</span>\\n    <span class=\\"hljs-keyword\\">let</span> context = <span class=\\"hljs-keyword\\">this</span>;\\n    <span class=\\"hljs-keyword\\">let</span> args = <span class=\\"hljs-built_in\\">arguments</span>;\\n    <span class=\\"hljs-comment\\">// \u5982\u679c\u4e8b\u4ef6\u88ab\u89e6\u53d1\uff0c\u6e05\u9664 timer \u5e76\u91cd\u65b0\u5f00\u59cb\u8ba1\u65f6</span>\\n    clearTimeout(timer);\\n    timer = setTimeout(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n      fn.apply(context, args);\\n    }, delay);\\n  }\\n}</code></pre>\\n<p><a href=\\"https://blog.coding.net/blog/the-difference-between-throttle-and-debounce-in-underscorejs\\">\u6d45\u8c08 Underscore.js \u4e2d _.throttle \u548c _.debounce \u7684\u5dee\u5f02</a></p>\\n<h3 id=\\"30--\u61d2\u52a0\u8f7d-lazyload\\">30.  \u61d2\u52a0\u8f7d lazyload</h3>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">script</span>&gt;</span><span class=\\"javascript\\">\\n    <span class=\\"hljs-keyword\\">var</span> num = <span class=\\"hljs-built_in\\">document</span>.getElementsByTagName(<span class=\\"hljs-string\\">\'img\'</span>).length;\\n    <span class=\\"hljs-keyword\\">var</span> img = <span class=\\"hljs-built_in\\">document</span>.getElementsByTagName(<span class=\\"hljs-string\\">\\"img\\"</span>);\\n    <span class=\\"hljs-keyword\\">var</span> n = <span class=\\"hljs-number\\">0</span>; <span class=\\"hljs-comment\\">//\u5b58\u50a8\u56fe\u7247\u52a0\u8f7d\u5230\u7684\u4f4d\u7f6e\uff0c\u907f\u514d\u6bcf\u6b21\u90fd\u4ece\u7b2c\u4e00\u5f20\u56fe\u7247\u5f00\u59cb\u904d\u5386</span>\\n    lazyload(); <span class=\\"hljs-comment\\">//\u9875\u9762\u8f7d\u5165\u5b8c\u6bd5\u52a0\u8f7d\u53ef\u662f\u533a\u57df\u5185\u7684\u56fe\u7247</span>\\n    <span class=\\"hljs-built_in\\">window</span>.onscroll = lazyload;\\n    <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">lazyload</span>(<span class=\\"hljs-params\\"></span>) </span>{ <span class=\\"hljs-comment\\">//\u76d1\u542c\u9875\u9762\u6eda\u52a8\u4e8b\u4ef6</span>\\n        <span class=\\"hljs-keyword\\">var</span> seeHeight = <span class=\\"hljs-built_in\\">document</span>.documentElement.clientHeight; <span class=\\"hljs-comment\\">//\u53ef\u89c1\u533a\u57df\u9ad8\u5ea6</span>\\n        <span class=\\"hljs-keyword\\">var</span> scrollTop = <span class=\\"hljs-built_in\\">document</span>.documentElement.scrollTop || <span class=\\"hljs-built_in\\">document</span>.body.scrollTop; <span class=\\"hljs-comment\\">//\u6eda\u52a8\u6761\u8ddd\u79bb\u9876\u90e8\u9ad8\u5ea6</span>\\n        <span class=\\"hljs-keyword\\">for</span> (<span class=\\"hljs-keyword\\">var</span> i = n; i &lt; num; i++) {\\n            <span class=\\"hljs-keyword\\">if</span> (img[i].offsetTop &lt; seeHeight + scrollTop) {\\n                <span class=\\"hljs-keyword\\">if</span> (img[i].getAttribute(<span class=\\"hljs-string\\">\\"src\\"</span>) == <span class=\\"hljs-string\\">\\"default.jpg\\"</span>) {\\n                    img[i].src = img[i].getAttribute(<span class=\\"hljs-string\\">\\"data-src\\"</span>);\\n                }\\n                n = i + <span class=\\"hljs-number\\">1</span>;\\n            }\\n        }\\n    }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">script</span>&gt;</span></code></pre>\\n<p>\u4f7f\u7528\u8282\u6d41\u51fd\u6570\u8fdb\u884c\u6027\u80fd\u4f18\u5316</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// \u7b80\u5355\u7684\u8282\u6d41\u51fd\u6570</span>\\n<span class=\\"hljs-comment\\">//fun \u8981\u6267\u884c\u7684\u51fd\u6570</span>\\n<span class=\\"hljs-comment\\">//delay \u5ef6\u8fdf</span>\\n<span class=\\"hljs-comment\\">//time  \u5728time\u65f6\u95f4\u5185\u5fc5\u987b\u6267\u884c\u4e00\u6b21</span>\\nfunction throttle(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">fun</span>, delay, time) {</span>\\n    <span class=\\"hljs-keyword\\">var</span> timeout,\\n        startTime = new Date();\\n    <span class=\\"hljs-keyword\\">return</span> function() {\\n        <span class=\\"hljs-keyword\\">var</span> context = <span class=\\"hljs-keyword\\">this</span>,\\n            args = arguments,\\n            curTime = new Date();\\n        clearTimeout(timeout);\\n        <span class=\\"hljs-comment\\">// \u5982\u679c\u8fbe\u5230\u4e86\u89c4\u5b9a\u7684\u89e6\u53d1\u65f6\u95f4\u95f4\u9694\uff0c\u89e6\u53d1 handler</span>\\n        <span class=\\"hljs-keyword\\">if</span> (curTime - startTime &gt;= time) {\\n            <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">fun</span>.<span class=\\"hljs-title\\">apply</span><span class=\\"hljs-params\\">(context, args)</span></span>;\\n            startTime = curTime;\\n            <span class=\\"hljs-comment\\">// \u6ca1\u8fbe\u5230\u89e6\u53d1\u95f4\u9694\uff0c\u91cd\u65b0\u8bbe\u5b9a\u5b9a\u65f6\u5668</span>\\n        } <span class=\\"hljs-keyword\\">else</span> {\\n            timeout = setTimeout(function(){\\n                <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">fun</span>.<span class=\\"hljs-title\\">apply</span><span class=\\"hljs-params\\">(context, args)</span></span>;\\n            }, delay);\\n        }\\n    };\\n};\\n<span class=\\"hljs-comment\\">// \u5b9e\u9645\u60f3\u7ed1\u5b9a\u5728 scroll \u4e8b\u4ef6\u4e0a\u7684 handler</span>\\nfunction lazyload(event) {}\\n<span class=\\"hljs-comment\\">// \u91c7\u7528\u4e86\u8282\u6d41\u51fd\u6570</span>\\nwindow.addEventListener(<span class=\\"hljs-string\\">\'scroll\'</span>,throttle(lazyload,<span class=\\"hljs-number\\">500</span>,<span class=\\"hljs-number\\">1000</span>));</code></pre>\\n<p>\u4f7f\u7528\u53bb\u6296\u51fd\u6570\u8fdb\u884c\u6027\u80fd\u4f18\u5316</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// debounce\u51fd\u6570\u7528\u6765\u5305\u88f9\u6211\u4eec\u7684\u4e8b\u4ef6</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">debounce</span>(<span class=\\"hljs-params\\">fn, delay</span>) </span>{\\n  <span class=\\"hljs-comment\\">// \u6301\u4e45\u5316\u4e00\u4e2a\u5b9a\u65f6\u5668 timer</span>\\n  <span class=\\"hljs-keyword\\">let</span> timer = <span class=\\"hljs-literal\\">null</span>;\\n  <span class=\\"hljs-comment\\">// \u95ed\u5305\u51fd\u6570\u53ef\u4ee5\u8bbf\u95ee timer</span>\\n  <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n    <span class=\\"hljs-comment\\">// \u901a\u8fc7 \'this\' \u548c \'arguments\'</span>\\n    <span class=\\"hljs-comment\\">// \u83b7\u5f97\u51fd\u6570\u7684\u4f5c\u7528\u57df\u548c\u53c2\u6570</span>\\n    <span class=\\"hljs-keyword\\">let</span> context = <span class=\\"hljs-keyword\\">this</span>;\\n    <span class=\\"hljs-keyword\\">let</span> args = <span class=\\"hljs-built_in\\">arguments</span>;\\n    <span class=\\"hljs-comment\\">// \u5982\u679c\u4e8b\u4ef6\u88ab\u89e6\u53d1\uff0c\u6e05\u9664 timer \u5e76\u91cd\u65b0\u5f00\u59cb\u8ba1\u65f6</span>\\n    clearTimeout(timer);\\n    timer = setTimeout(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n      fn.apply(context, args);\\n    }, delay);\\n  }\\n}\\n<span class=\\"hljs-comment\\">// \u5b9e\u9645\u60f3\u7ed1\u5b9a\u5728 scroll \u4e8b\u4ef6\u4e0a\u7684 handler</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">lazyload</span>(<span class=\\"hljs-params\\">event</span>) </span>{}\\n<span class=\\"hljs-comment\\">// \u91c7\u7528\u4e86\u53bb\u6296\u51fd\u6570</span>\\n<span class=\\"hljs-built_in\\">window</span>.addEventListener(<span class=\\"hljs-string\\">\'scroll\'</span>,throttle(lazyload,<span class=\\"hljs-number\\">500</span>));</code></pre>\\n<p><a href=\\"https://i.jakeyu.top//2016/11/26/%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD/\\">\u5b9e\u73b0\u56fe\u7247\u61d2\u52a0\u8f7d(lazyload)</a></p>\\n<h3 id=\\"31-new-\u64cd\u4f5c\u7b26\u90fd\u505a\u4e86\u4ec0\u4e48\uff1f\\">31. new \u64cd\u4f5c\u7b26\u90fd\u505a\u4e86\u4ec0\u4e48\uff1f</h3>\\n<pre><code><span class=\\"hljs-number\\">1.</span> \u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\\n<span class=\\"hljs-number\\">2.</span> \u5c06\u6784\u9020\u51fd\u6570\u7684<span class=\\"hljs-keyword\\">this</span>\u6307\u5411\u8fd9\u4e2a\u65b0\u5bf9\u8c61\\n<span class=\\"hljs-number\\">3.</span> \u6267\u884c\u6784\u9020\u51fd\u6570\u7684\u4ee3\u7801\uff0c\u4e3a\u8fd9\u4e2a\u5bf9\u8c61\u6dfb\u52a0\u5c5e\u6027\uff0c\u65b9\u6cd5\u7b49\\n<span class=\\"hljs-number\\">4.</span> \u8fd4\u56de\u65b0\u5bf9\u8c61</code></pre><h3 id=\\"32-\u539f\u751fajax\\">32. \u539f\u751fAjax</h3>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">if</span>(<span class=\\"hljs-built_in\\">window</span>.ActiveXObject){\\n    xmlHttp=<span class=\\"hljs-keyword\\">new</span> ActiveXObject(<span class=\\"hljs-string\\">\\"Microsoft.XMLHTTP\\"</span>);\\n}<span class=\\"hljs-keyword\\">else</span> <span class=\\"hljs-keyword\\">if</span>(<span class=\\"hljs-built_in\\">window</span>.XMLHttpRequest)\\n    xmlHttp=<span class=\\"hljs-keyword\\">new</span> XMLHttpRequest();\\n}\\n\\n<span class=\\"hljs-keyword\\">var</span> xhr = <span class=\\"hljs-keyword\\">new</span> XMLHttpRequest()\\nxhr.onreadystatechange = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\"></span>) </span>{\\n  <span class=\\"hljs-keyword\\">switch</span> (xhr.readyState) {\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-number\\">0</span>:\\n      <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'\u672a\u521d\u59cb\u5316, \u5c1a\u672a\u8c03\u7528open()\'</span>);\\n      <span class=\\"hljs-keyword\\">break</span>;\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-number\\">1</span>:\\n      <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'\u542f\u52a8, \u5df2\u8c03\u7528open(), \u672a\u8c03\u7528send()\'</span>);\\n      <span class=\\"hljs-keyword\\">break</span>;\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-number\\">2</span>:\\n      <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'\u53d1\u9001, \u5df2\u8c03\u7528send(), \u4e3a\u672a\u6536\u5230\u54cd\u5e94\'</span>);\\n      <span class=\\"hljs-keyword\\">break</span>;\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-number\\">3</span>:\\n      <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'\u63a5\u53d7, \u5df2\u63a5\u53d7\u5230\u90e8\u5206\u6570\u636e\'</span>);\\n      <span class=\\"hljs-keyword\\">break</span>;\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-number\\">4</span>:\\n      <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'\u5b8c\u6210, \u5df2\u63a5\u53d7\u5168\u90e8\u6570\u636e\'</span>);\\n      <span class=\\"hljs-keyword\\">break</span>;\\n    <span class=\\"hljs-keyword\\">default</span>:\\n      <span class=\\"hljs-keyword\\">break</span>;\\n  }\\n}\\n<span class=\\"hljs-comment\\">// xhr.onload = function(e) {</span>\\n<span class=\\"hljs-comment\\">//  var res = e.target.response.message</span>\\n<span class=\\"hljs-comment\\">// }</span>\\n<span class=\\"hljs-comment\\">// xhr.setRequestHeader(\'X-Requested-With\', \'XMLHttpRequest\');</span>\\n<span class=\\"hljs-comment\\">// xhr.responseType = \'json\';</span>\\n<span class=\\"hljs-comment\\">// \u907f\u514d\u7f13\u5b58\uff1a url+\u65f6\u95f4\u6233</span>\\nxhr.open(<span class=\\"hljs-string\\">\'GET\'</span>, URL);\\nxhr.send(<span class=\\"hljs-literal\\">null</span>);\\n\\nhttpRequest.open(<span class=\\"hljs-string\\">\'POST\'</span>, url);\\nhttpRequest.setRequestHeader(<span class=\\"hljs-string\\">\'Content-Type\'</span>, <span class=\\"hljs-string\\">\'application/x-www-form-urlencoded\'</span>);\\nhttpRequest.send(<span class=\\"hljs-string\\">\'userName=\'</span> + <span class=\\"hljs-built_in\\">encodeURIComponent</span>(userName));</code></pre>\\n<p><a href=\\"https://segmentfault.com/a/1190000004100271\\">\u8131\u79bbjQuery\uff0c\u4f7f\u7528\u539f\u751fAjax</a></p>\\n<h3 id=\\"33-\u5c01\u88c5\u4e00\u4e2a\u8f6e\u64ad\u56fe\u7ec4\u4ef6\\">33. \u5c01\u88c5\u4e00\u4e2a\u8f6e\u64ad\u56fe\u7ec4\u4ef6</h3>\\n<pre><code>(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"> $ </span>) </span>{\\n    $.fn.initCarousel = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n      <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-keyword\\">this</span>.data(<span class=\\"hljs-string\\">\'target\'</span>));\\n      <span class=\\"hljs-keyword\\">var</span> self = <span class=\\"hljs-keyword\\">this</span>,\\n          target = $(<span class=\\"hljs-keyword\\">this</span>.data(<span class=\\"hljs-string\\">\'target\'</span>)),\\n          elementName = <span class=\\"hljs-keyword\\">this</span>.data(<span class=\\"hljs-string\\">\'element\'</span>),\\n          elements = target.find(elementName),\\n          time = <span class=\\"hljs-literal\\">null</span>,\\n          timeNav = <span class=\\"hljs-literal\\">null</span>,\\n          curImg = <span class=\\"hljs-literal\\">null</span>,\\n          curIndex = <span class=\\"hljs-number\\">1</span>,\\n          init = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n            <span class=\\"hljs-built_in\\">console</span>.log(elements);\\n            curImg = $(target.find(elementName + <span class=\\"hljs-string\\">\'.cur\'</span>)[<span class=\\"hljs-number\\">0</span>]);\\n            self.find(<span class=\\"hljs-string\\">\'li\'</span>).removeClass(<span class=\\"hljs-string\\">\'hover\'</span>);\\n            self.find(<span class=\\"hljs-string\\">\'li\'</span>).eq(curIndex).addClass(<span class=\\"hljs-string\\">\'hover\'</span>);\\n            curImg.fadeOut(<span class=\\"hljs-number\\">10</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n              curImg.removeClass(<span class=\\"hljs-string\\">\'cur\'</span>);\\n              elements.eq(curIndex - <span class=\\"hljs-number\\">1</span>).addClass(<span class=\\"hljs-string\\">\'cur\'</span>).fadeIn(<span class=\\"hljs-number\\">500</span>)\\n            });\\n            curIndex++;\\n            curIndex = curIndex == elements.length ? <span class=\\"hljs-number\\">0</span> : curIndex++;\\n            time = setTimeout(init, <span class=\\"hljs-number\\">3000</span>)\\n          };\\n      time = setTimeout(init, <span class=\\"hljs-number\\">3000</span>);\\n      <span class=\\"hljs-keyword\\">this</span>.find(<span class=\\"hljs-string\\">\'li\'</span>).bind(<span class=\\"hljs-string\\">\'mouseenter\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">e</span>) </span>{\\n        curIndex = $(<span class=\\"hljs-keyword\\">this</span>).index();\\n        <span class=\\"hljs-built_in\\">console</span>.log(curIndex);\\n        <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-keyword\\">this</span>)\\n        self.find(<span class=\\"hljs-string\\">\\"li\\"</span>).removeClass(<span class=\\"hljs-string\\">\\"hover\\"</span>);\\n        clearTimeout(time);\\n        clearTimeout(timeNav);\\n        timeNav = setTimeout(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n          elements.hide();\\n          elements.removeClass(<span class=\\"hljs-string\\">\'cur\'</span>);\\n          elements.eq(curIndex - <span class=\\"hljs-number\\">1</span>).addClass(<span class=\\"hljs-string\\">\'cur\'</span>).show()\\n        }, <span class=\\"hljs-number\\">200</span>)\\n        $(<span class=\\"hljs-keyword\\">this</span>).addClass(<span class=\\"hljs-string\\">\'hover\'</span>);\\n        curIndex = curIndex == elements.length ? <span class=\\"hljs-number\\">0</span> : curIndex + <span class=\\"hljs-number\\">1</span>;\\n        time = setTimeout(init, <span class=\\"hljs-number\\">3000</span>)\\n      })\\n    };\\n})( jQuery );\\n$(<span class=\\"hljs-string\\">\'.slide\'</span>).initCarousel();</code></pre><h3 id=\\"34-\u8f93\u5165\u67d0\u4e8c\u53c9\u6811\u7684\u524d\u5e8f\u904d\u5386\u548c\u4e2d\u5e8f\u904d\u5386\u7684\u7ed3\u679c\uff0c\u8bf7\u91cd\u5efa\u51fa\u8be5\u4e8c\u53c9\u6811\u3002\u5047\u8bbe\u8f93\u5165\u7684\u524d\u5e8f\u904d\u5386\u548c\u4e2d\u5e8f\u904d\u5386\u7684\u7ed3\u679c\u4e2d\u90fd\u4e0d\u542b\u91cd\u590d\u7684\u6570\u5b57\u3002\u4f8b\u5982\u8f93\u5165\u524d\u5e8f\u904d\u5386\u5e8f\u521712473568\u548c\u4e2d\u5e8f\u904d\u5386\u5e8f\u521747215386\uff0c\u5219\u91cd\u5efa\u4e8c\u53c9\u6811\u5e76\u8fd4\u56de\u3002\\">34. \u8f93\u5165\u67d0\u4e8c\u53c9\u6811\u7684\u524d\u5e8f\u904d\u5386\u548c\u4e2d\u5e8f\u904d\u5386\u7684\u7ed3\u679c\uff0c\u8bf7\u91cd\u5efa\u51fa\u8be5\u4e8c\u53c9\u6811\u3002\u5047\u8bbe\u8f93\u5165\u7684\u524d\u5e8f\u904d\u5386\u548c\u4e2d\u5e8f\u904d\u5386\u7684\u7ed3\u679c\u4e2d\u90fd\u4e0d\u542b\u91cd\u590d\u7684\u6570\u5b57\u3002\u4f8b\u5982\u8f93\u5165\u524d\u5e8f\u904d\u5386\u5e8f\u5217{1,2,4,7,3,5,6,8}\u548c\u4e2d\u5e8f\u904d\u5386\u5e8f\u5217{4,7,2,1,5,3,8,6}\uff0c\u5219\u91cd\u5efa\u4e8c\u53c9\u6811\u5e76\u8fd4\u56de\u3002</h3>\\n<pre><code class=\\"language-javascript\\">\u4f5c\u8005\uff1afaremax\\n\u94fe\u63a5\uff1ahttps:<span class=\\"hljs-comment\\">//www.nowcoder.com/discuss/49349</span>\\n\u6765\u6e90\uff1a\u725b\u5ba2\u7f51\\n\\n<span class=\\"hljs-comment\\">/* function TreeNode(x) {\\n    this.val = x;\\n    this.left = null;\\n    this.right = null;\\n} */</span>\\n<span class=\\"hljs-keyword\\">function</span> re<span class=\\"hljs-constructor\\">ConstructBinaryTree(<span class=\\"hljs-params\\">pre</span>, <span class=\\"hljs-params\\">vin</span>)</span>{\\n    <span class=\\"hljs-keyword\\">if</span>(pre.length<span class=\\"hljs-operator\\"> == </span><span class=\\"hljs-number\\">0</span><span class=\\"hljs-operator\\"> || </span>vin.length<span class=\\"hljs-operator\\"> == </span><span class=\\"hljs-number\\">0</span>){\\n        return null;\\n    };\\n    var index = vin.index<span class=\\"hljs-constructor\\">Of(<span class=\\"hljs-params\\">pre</span>[0])</span>;\\n    var left = vin.slice(<span class=\\"hljs-number\\">0</span>,index);\\n    var right = vin.slice(index+<span class=\\"hljs-number\\">1</span>);\\n    var node = <span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-constructor\\">TreeNode(<span class=\\"hljs-params\\">vin</span>[<span class=\\"hljs-params\\">index</span>])</span>;\\n    node.left = re<span class=\\"hljs-constructor\\">ConstructBinaryTree(<span class=\\"hljs-params\\">pre</span>.<span class=\\"hljs-params\\">slice</span>(1,<span class=\\"hljs-params\\">index</span>+1)</span>,left);\\n    node.right = re<span class=\\"hljs-constructor\\">ConstructBinaryTree(<span class=\\"hljs-params\\">pre</span>.<span class=\\"hljs-params\\">slice</span>(<span class=\\"hljs-params\\">index</span>+1)</span>,right);\\n    return node;\\n}</code></pre>\\n<h3 id=\\"35-\u7528\u4e24\u4e2a\u6808\u6765\u5b9e\u73b0\u4e00\u4e2a\u961f\u5217\uff0c\u5b8c\u6210\u961f\u5217\u7684push\u548cpop\u64cd\u4f5c\u3002-\u961f\u5217\u4e2d\u7684\u5143\u7d20\u4e3aint\u7c7b\u578b\u3002\\">35. \u7528\u4e24\u4e2a\u6808\u6765\u5b9e\u73b0\u4e00\u4e2a\u961f\u5217\uff0c\u5b8c\u6210\u961f\u5217\u7684Push\u548cPop\u64cd\u4f5c\u3002 \u961f\u5217\u4e2d\u7684\u5143\u7d20\u4e3aint\u7c7b\u578b\u3002</h3>\\n<pre><code class=\\"language-javascript\\">\u4f5c\u8005\uff1afaremax\\n\u94fe\u63a5\uff1ahttps://www.nowcoder.com/discuss/<span class=\\"hljs-number\\">49349</span>\\n\u6765\u6e90\uff1a\u725b\u5ba2\u7f51\\n\\n<span class=\\"hljs-built_in\\">var</span> stack1 = [];\\n<span class=\\"hljs-built_in\\">var</span> stack2 = [];\\nfunction <span class=\\"hljs-built_in\\">push</span>(node){\\n    stack1.<span class=\\"hljs-built_in\\">push</span>(node);\\n}\\nfunction <span class=\\"hljs-built_in\\">pop</span>(){\\n    <span class=\\"hljs-built_in\\">var</span> temp = stack1.<span class=\\"hljs-built_in\\">pop</span>();\\n    <span class=\\"hljs-keyword\\">while</span>(temp){\\n        stack2.<span class=\\"hljs-built_in\\">push</span>(temp);\\n        temp = stack1.<span class=\\"hljs-built_in\\">pop</span>();\\n    }\\n    <span class=\\"hljs-built_in\\">var</span> result = stack2.<span class=\\"hljs-built_in\\">pop</span>();\\n    temp = stack2.<span class=\\"hljs-built_in\\">pop</span>();\\n    <span class=\\"hljs-keyword\\">while</span>(temp){\\n        stack1.<span class=\\"hljs-built_in\\">push</span>(temp);\\n        temp = stack2.<span class=\\"hljs-built_in\\">pop</span>();\\n    }\\n    <span class=\\"hljs-built_in\\">return</span> result;\\n}</code></pre>\\n<h3 id=\\"36-\u5927\u5bb6\u90fd\u77e5\u9053\u6590\u6ce2\u90a3\u5951\u6570\u5217\uff0c\u73b0\u5728\u8981\u6c42\u8f93\u5165\u4e00\u4e2a\u6574\u6570n\uff0c\u8bf7\u4f60\u8f93\u51fa\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u7b2cn\u9879\u3002n39\\">36. \u5927\u5bb6\u90fd\u77e5\u9053\u6590\u6ce2\u90a3\u5951\u6570\u5217\uff0c\u73b0\u5728\u8981\u6c42\u8f93\u5165\u4e00\u4e2a\u6574\u6570n\uff0c\u8bf7\u4f60\u8f93\u51fa\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u7b2cn\u9879\u3002n&lt;=39</h3>\\n<pre><code class=\\"language-javascript\\">\u4f5c\u8005\uff1afaremax\\n\u94fe\u63a5\uff1ahttps:<span class=\\"hljs-comment\\">//www.nowcoder.com/discuss/49349</span>\\n\u6765\u6e90\uff1a\u725b\u5ba2\u7f51\\n\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">Fibonacci</span><span class=\\"hljs-params\\">(n)</span></span>{\\n    <span class=\\"hljs-keyword\\">var</span> a = <span class=\\"hljs-number\\">1</span>, b = <span class=\\"hljs-number\\">1</span>, temp;\\n    <span class=\\"hljs-keyword\\">if</span>(n &lt;= <span class=\\"hljs-number\\">0</span>) <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-number\\">0</span>;\\n    <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">var</span> i = <span class=\\"hljs-number\\">2</span>; i &lt;= n; i++){\\n      temp = b;\\n      b = a + b;\\n      a = temp;\\n    }\\n    <span class=\\"hljs-keyword\\">return</span> a;\\n}</code></pre>\\n<h3 id=\\"37-\u4e00\u53ea\u9752\u86d9\u4e00\u6b21\u53ef\u4ee5\u8df3\u4e0a1\u7ea7\u53f0\u9636\uff0c\u4e5f\u53ef\u4ee5\u8df3\u4e0a2\u7ea7\u3002\u6c42\u8be5\u9752\u86d9\u8df3\u4e0a\u4e00\u4e2an\u7ea7\u7684\u53f0\u9636\u603b\u5171\u6709\u591a\u5c11\u79cd\u8df3\u6cd5\u3002\\">37. \u4e00\u53ea\u9752\u86d9\u4e00\u6b21\u53ef\u4ee5\u8df3\u4e0a1\u7ea7\u53f0\u9636\uff0c\u4e5f\u53ef\u4ee5\u8df3\u4e0a2\u7ea7\u3002\u6c42\u8be5\u9752\u86d9\u8df3\u4e0a\u4e00\u4e2an\u7ea7\u7684\u53f0\u9636\u603b\u5171\u6709\u591a\u5c11\u79cd\u8df3\u6cd5\u3002</h3>\\n<p>\u6211\u4eec\u53ef\u4ee5\u752821\u7684\u5c0f\u77e9\u5f62\u6a2a\u7740\u6216\u8005\u7ad6\u7740\u53bb\u8986\u76d6\u66f4\u5927\u7684\u77e9\u5f62\u3002\u8bf7\u95ee\u7528n\u4e2a21\u7684\u5c0f\u77e9\u5f62\u65e0\u91cd\u53e0\u5730\u8986\u76d6\u4e00\u4e2a2*n\u7684\u5927\u77e9\u5f62\uff0c\u603b\u5171\u6709\u591a\u5c11\u79cd\u65b9\u6cd5\uff1f</p>\\n<pre><code class=\\"language-javascript\\">\u4f5c\u8005\uff1afaremax\\n\u94fe\u63a5\uff1ahttps:<span class=\\"hljs-comment\\">//www.nowcoder.com/discuss/49349</span>\\n\u6765\u6e90\uff1a\u725b\u5ba2\u7f51\\n\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">jumpFloor</span>(<span class=\\"hljs-params\\"><span class=\\"hljs-built_in\\">number</span></span>)</span>{\\n    <span class=\\"hljs-keyword\\">if</span>(<span class=\\"hljs-built_in\\">number</span> &lt; <span class=\\"hljs-number\\">1</span>){\\n        <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-number\\">0</span>;\\n    }\\n    <span class=\\"hljs-keyword\\">if</span>(<span class=\\"hljs-built_in\\">number</span> === <span class=\\"hljs-number\\">1</span>){\\n        <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-number\\">1</span>;\\n    }\\n    <span class=\\"hljs-keyword\\">if</span>(<span class=\\"hljs-built_in\\">number</span> === <span class=\\"hljs-number\\">2</span>){\\n        <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-number\\">2</span>;\\n    }\\n    <span class=\\"hljs-keyword\\">var</span> temp = <span class=\\"hljs-number\\">0</span>, a = <span class=\\"hljs-number\\">1</span>, b = <span class=\\"hljs-number\\">2</span>;\\n    <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">var</span> i = <span class=\\"hljs-number\\">3</span>; i &lt;= <span class=\\"hljs-built_in\\">number</span>; i++){\\n        temp = a + b;\\n        a = b;\\n        b = temp;\\n    }\\n    <span class=\\"hljs-keyword\\">return</span> temp;\\n}</code></pre>\\n<h3 id=\\"38-\u4e00\u53ea\u9752\u86d9\u4e00\u6b21\u53ef\u4ee5\u8df3\u4e0a1\u7ea7\u53f0\u9636\uff0c\u4e5f\u53ef\u4ee5\u8df3\u4e0a2\u7ea7\u5b83\u4e5f\u53ef\u4ee5\u8df3\u4e0an\u7ea7\u3002\u6c42\u8be5\u9752\u86d9\u8df3\u4e0a\u4e00\u4e2an\u7ea7\u7684\u53f0\u9636\u603b\u5171\u6709\u591a\u5c11\u79cd\u8df3\u6cd5\u3002\\">38. \u4e00\u53ea\u9752\u86d9\u4e00\u6b21\u53ef\u4ee5\u8df3\u4e0a1\u7ea7\u53f0\u9636\uff0c\u4e5f\u53ef\u4ee5\u8df3\u4e0a2\u7ea7\u2026\u2026\u5b83\u4e5f\u53ef\u4ee5\u8df3\u4e0an\u7ea7\u3002\u6c42\u8be5\u9752\u86d9\u8df3\u4e0a\u4e00\u4e2an\u7ea7\u7684\u53f0\u9636\u603b\u5171\u6709\u591a\u5c11\u79cd\u8df3\u6cd5\u3002</h3>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">jumpFloorII</span>(<span class=\\"hljs-params\\"><span class=\\"hljs-built_in\\">number</span></span>)</span>{\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-built_in\\">Math</span>.pow(<span class=\\"hljs-number\\">2</span>, <span class=\\"hljs-built_in\\">number</span> - <span class=\\"hljs-number\\">1</span>);\\n}</code></pre>\\n<h3 id=\\"39-\u8f93\u5165\u4e00\u4e2a\u6574\u6570\uff0c\u8f93\u51fa\u8be5\u6570\u4e8c\u8fdb\u5236\u8868\u793a\u4e2d1\u7684\u4e2a\u6570\u3002\u5176\u4e2d\u8d1f\u6570\u7528\u8865\u7801\u8868\u793a\u3002\\">39. \u8f93\u5165\u4e00\u4e2a\u6574\u6570\uff0c\u8f93\u51fa\u8be5\u6570\u4e8c\u8fdb\u5236\u8868\u793a\u4e2d1\u7684\u4e2a\u6570\u3002\u5176\u4e2d\u8d1f\u6570\u7528\u8865\u7801\u8868\u793a\u3002</h3>\\n<pre><code class=\\"language-javascript\\">\u4f5c\u8005\uff1afaremax\\n\u94fe\u63a5\uff1ahttps:<span class=\\"hljs-comment\\">//www.nowcoder.com/discuss/49349</span>\\n\u6765\u6e90\uff1a\u725b\u5ba2\u7f51\\n\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">NumberOf1</span><span class=\\"hljs-params\\">(n)</span></span>{\\n    <span class=\\"hljs-keyword\\">if</span>(n &lt; <span class=\\"hljs-number\\">0</span>){\\n        n = n &gt;&gt;&gt; <span class=\\"hljs-number\\">0</span>;\\n    }\\n    <span class=\\"hljs-keyword\\">var</span> arr = n.toString(<span class=\\"hljs-number\\">2</span>).split(<span class=\\"hljs-string\\">\'\'</span>);\\n    <span class=\\"hljs-keyword\\">return</span> arr.reduce(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span><span class=\\"hljs-params\\">(a,b)</span></span>{\\n        <span class=\\"hljs-keyword\\">return</span> b === <span class=\\"hljs-string\\">\\"1\\"</span> ? a + <span class=\\"hljs-number\\">1</span> : a;\\n    },<span class=\\"hljs-number\\">0</span>);\\n}</code></pre>\\n<h3 id=\\"40-\u8f93\u5165\u4e00\u4e2a\u6574\u6570\u6570\u7ec4\uff0c\u5b9e\u73b0\u4e00\u4e2a\u51fd\u6570\u6765\u8c03\u6574\u8be5\u6570\u7ec4\u4e2d\u6570\u5b57\u7684\u987a\u5e8f\uff0c\u4f7f\u5f97\u6240\u6709\u7684\u5947\u6570\u4f4d\u4e8e\u6570\u7ec4\u7684\u524d\u534a\u90e8\u5206\uff0c\u6240\u6709\u7684\u5076\u6570\u4f4d\u4e8e\u4f4d\u4e8e\u6570\u7ec4\u7684\u540e\u534a\u90e8\u5206\uff0c\u5e76\u4fdd\u8bc1\u5947\u6570\u548c\u5947\u6570\uff0c\u5076\u6570\u548c\u5076\u6570\u4e4b\u95f4\u7684\u76f8\u5bf9\u4f4d\u7f6e\u4e0d\u53d8\u3002\\">40. \u8f93\u5165\u4e00\u4e2a\u6574\u6570\u6570\u7ec4\uff0c\u5b9e\u73b0\u4e00\u4e2a\u51fd\u6570\u6765\u8c03\u6574\u8be5\u6570\u7ec4\u4e2d\u6570\u5b57\u7684\u987a\u5e8f\uff0c\u4f7f\u5f97\u6240\u6709\u7684\u5947\u6570\u4f4d\u4e8e\u6570\u7ec4\u7684\u524d\u534a\u90e8\u5206\uff0c\u6240\u6709\u7684\u5076\u6570\u4f4d\u4e8e\u4f4d\u4e8e\u6570\u7ec4\u7684\u540e\u534a\u90e8\u5206\uff0c\u5e76\u4fdd\u8bc1\u5947\u6570\u548c\u5947\u6570\uff0c\u5076\u6570\u548c\u5076\u6570\u4e4b\u95f4\u7684\u76f8\u5bf9\u4f4d\u7f6e\u4e0d\u53d8\u3002</h3>\\n<pre><code class=\\"language-javascript\\">\u4f5c\u8005\uff1afaremax\\n\u94fe\u63a5\uff1ahttps:<span class=\\"hljs-comment\\">//www.nowcoder.com/discuss/49349</span>\\n\u6765\u6e90\uff1a\u725b\u5ba2\u7f51\\n\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">reOrderArray</span><span class=\\"hljs-params\\">(array)</span></span>{\\n    <span class=\\"hljs-keyword\\">var</span> result = [];\\n    <span class=\\"hljs-keyword\\">var</span> even = [];\\n    <span class=\\"hljs-keyword\\">array</span>.<span class=\\"hljs-keyword\\">forEach</span>(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span><span class=\\"hljs-params\\">(item)</span></span>{\\n        <span class=\\"hljs-keyword\\">if</span>((item &amp; <span class=\\"hljs-number\\">1</span>) === <span class=\\"hljs-number\\">1</span>){\\n            result.push(item);\\n        } <span class=\\"hljs-keyword\\">else</span> {\\n            even.push(item);\\n        }\\n    });\\n    <span class=\\"hljs-keyword\\">return</span> result.concat(even);\\n}</code></pre>\\n<h3 id=\\"41\\">41.</h3>\\n<pre><code class=\\"language-javascript\\">ar a = {};\\n<span class=\\"hljs-keyword\\">var</span> b = {<span class=\\"hljs-attr\\">key</span>: <span class=\\"hljs-string\\">\'b\'</span>};\\n<span class=\\"hljs-keyword\\">var</span> c = {<span class=\\"hljs-attr\\">key</span>: <span class=\\"hljs-string\\">\'c\'</span>};\\na[b] = <span class=\\"hljs-number\\">123</span>, a[c] = <span class=\\"hljs-number\\">456</span>;\\n<span class=\\"hljs-built_in\\">console</span>.log(a[b]); <span class=\\"hljs-comment\\">// 456</span></code></pre>\\n<h3 id=\\"42\\">42.</h3>\\n<pre><code class=\\"language-javascript\\">(<span class=\\"hljs-name\\">function</span>(<span class=\\"hljs-name\\">x</span>){\\n    return (<span class=\\"hljs-name\\">function</span>(<span class=\\"hljs-name\\">y</span>){\\n        console.log(<span class=\\"hljs-name\\">x</span>)<span class=\\"hljs-comment\\">;</span>\\n    })(<span class=\\"hljs-number\\">2</span>)<span class=\\"hljs-comment\\">;</span>\\n})(<span class=\\"hljs-number\\">1</span>) // <span class=\\"hljs-number\\">1</span></code></pre>\\n<h3 id=\\"43\\">43.</h3>\\n<pre><code class=\\"language-javascript\\">for(<span class=\\"hljs-name\\">var</span> i=0<span class=\\"hljs-comment\\">;i&lt;5;i++){</span>\\n    setTimeout((<span class=\\"hljs-name\\">function</span>(<span class=\\"hljs-name\\">i</span>){console.log(<span class=\\"hljs-name\\">i</span>)})(<span class=\\"hljs-name\\">i</span>),i*1000)<span class=\\"hljs-comment\\">;</span>\\n}\\n// <span class=\\"hljs-number\\">0</span> <span class=\\"hljs-number\\">1</span> <span class=\\"hljs-number\\">2</span> <span class=\\"hljs-number\\">3</span> <span class=\\"hljs-number\\">4</span></code></pre>\\n<h3 id=\\"\u6587\u7ae0\uff1a\\">\u6587\u7ae0\uff1a</h3>\\n<ol>\\n<li><a href=\\"http://yujiangshui.com/javascript-prototype-and-create-object/\\">JavaScript \u539f\u578b\u7406\u89e3\u4e0e\u521b\u5efa\u5bf9\u8c61\u5e94\u7528</a></li>\\n<li><a href=\\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Closures\\">\u95ed\u5305 | MDN</a></li>\\n<li><a href=\\"http://yanhaijing.com/es5/\\">ECMAScript5.1\u4e2d\u6587\u7248</a></li>\\n<li><a href=\\"http://www.jianshu.com/p/cd3fee40ef59\\">\u524d\u7aef\u57fa\u7840\u8fdb\u9636\u7cfb\u5217</a></li>\\n</ol>\\n","title":"JavaScript \u7b14\u8bb0","tags":["javascript"],"slug":"javascript-note","createDate":1504627200000,"id":"javascript-note","thumb":"https://images.unsplash.com/photo-1580737387267-7a8a976c8e1c?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>\u5148\u4e0a\u535a\u5ba2\u5730\u5740\uff1a<a href=\\"https://www.xiao555.com.cn/\\">https://www.xiao555.com.cn/</a></p>\\n<p>Github\uff1a <a href=\\"https://github.com/xiao555/blog\\">https://github.com/xiao555/blog</a></p>\\n<p>\u5f88\u591a\u4eba\u90fd\u60f3\u6709\u4e00\u4e2a\u81ea\u5df1\u7684\u535a\u5ba2\uff0c\u5f88\u591a\u4eba\u4e5f\u90fd\u6709\u81ea\u5df1\u7684\u535a\u5ba2\uff0c\u73b0\u5728\u7f51\u4e0a\u4e5f\u6709\u5f88\u591a\u6d41\u884c\u7684\u9759\u6001\u535a\u5ba2\u751f\u6210\u5668\uff0c\u6bd4\u5982 Hexo\u5566\uff0cJekyll\u5566\uff0c\u6211\u7684\u7b2c\u4e00\u4e2a\u535a\u5ba2\u4e5f\u662f\u7528Hexo\u751f\u6210\u7684\uff0c\u90e8\u7f72\u5728Github Pages\uff0c\u8fd8\u6709VPS\u4e0a\u3002 \u4f46\u662f\u53c8\u4e0d\u6ee1\u8db3\u4e8e\u6b64\uff0c\u60f3\u8981\u6253\u9020\u4e00\u4e2a\u5305\u542b\u540e\u7aef\u548c\u6570\u636e\u5e93\u7684\u5b8c\u6574\u7684\u535a\u5ba2\u7cfb\u7edf\uff0c\u800c\u4e14\u53ef\u4ee5\u8ba9\u6211\u4ece\u524d\u7aef\u63a5\u89e6\u5230\u540e\u7aef\uff0c\u63a5\u89e6\u5230\u670d\u52a1\u5668\u8fd0\u7ef4\uff0c\u6570\u636e\u5e93\u64cd\u4f5c\u7b49\u65b9\u65b9\u9762\u9762\uff0c\u4e8e\u662f\u8fd9\u4e2a\u9879\u76ee\u5c31\u8bde\u751f\u5566\u3002</p>\\n<p>\u8fd9\u4e2a\u662f\u6211\u51c6\u5907\u627e\u5b9e\u4e60\u7ec3\u624bvue\u7684\u9879\u76ee\uff0c\u4e0d\u8fc7\u5927\u90e8\u5206\u90fd\u662f\u5728\u901a\u8fc7\u817e\u8baf\u5b9e\u4e60\u540e\u5b8c\u6210\u7684\u3002\u65ad\u65ad\u7eed\u7eed\u5f00\u53d1\u4e86\u8fd9\u4e48\u957f\u65f6\u95f4\uff0c\u4e5f\u5e0c\u671b\u5199\u4e00\u7bc7\u6587\u7ae0\u8bb0\u5f55\u4e00\u4e0b\u5fc3\u5f97\u548c\u4f53\u4f1a\u3002</p>\\n<p>\u672c\u6587\u5c06\u6309\u7167\u5f00\u53d1\u987a\u5e8f\uff0c\u4ece\u540e\u7aef\u5230\u524d\u7aef\uff0c\u4ece\u90e8\u7f72\u5230\u4f18\u5316\uff0c\u8bb2\u8ff0\u4e00\u4e0b\u8fd9\u4e2a\u535a\u5ba2\u7cfb\u7edf\u7684\u51fa\u751f\u5230\u843d\u5730\u3002</p>\\n","content":"<p>\u5148\u4e0a\u535a\u5ba2\u5730\u5740\uff1a<a href=\\"https://www.xiao555.com.cn/\\">https://www.xiao555.com.cn/</a></p>\\n<p>Github\uff1a <a href=\\"https://github.com/xiao555/blog\\">https://github.com/xiao555/blog</a></p>\\n<p>\u5f88\u591a\u4eba\u90fd\u60f3\u6709\u4e00\u4e2a\u81ea\u5df1\u7684\u535a\u5ba2\uff0c\u5f88\u591a\u4eba\u4e5f\u90fd\u6709\u81ea\u5df1\u7684\u535a\u5ba2\uff0c\u73b0\u5728\u7f51\u4e0a\u4e5f\u6709\u5f88\u591a\u6d41\u884c\u7684\u9759\u6001\u535a\u5ba2\u751f\u6210\u5668\uff0c\u6bd4\u5982 Hexo\u5566\uff0cJekyll\u5566\uff0c\u6211\u7684\u7b2c\u4e00\u4e2a\u535a\u5ba2\u4e5f\u662f\u7528Hexo\u751f\u6210\u7684\uff0c\u90e8\u7f72\u5728Github Pages\uff0c\u8fd8\u6709VPS\u4e0a\u3002 \u4f46\u662f\u53c8\u4e0d\u6ee1\u8db3\u4e8e\u6b64\uff0c\u60f3\u8981\u6253\u9020\u4e00\u4e2a\u5305\u542b\u540e\u7aef\u548c\u6570\u636e\u5e93\u7684\u5b8c\u6574\u7684\u535a\u5ba2\u7cfb\u7edf\uff0c\u800c\u4e14\u53ef\u4ee5\u8ba9\u6211\u4ece\u524d\u7aef\u63a5\u89e6\u5230\u540e\u7aef\uff0c\u63a5\u89e6\u5230\u670d\u52a1\u5668\u8fd0\u7ef4\uff0c\u6570\u636e\u5e93\u64cd\u4f5c\u7b49\u65b9\u65b9\u9762\u9762\uff0c\u4e8e\u662f\u8fd9\u4e2a\u9879\u76ee\u5c31\u8bde\u751f\u5566\u3002</p>\\n<p>\u8fd9\u4e2a\u662f\u6211\u51c6\u5907\u627e\u5b9e\u4e60\u7ec3\u624bvue\u7684\u9879\u76ee\uff0c\u4e0d\u8fc7\u5927\u90e8\u5206\u90fd\u662f\u5728\u901a\u8fc7\u817e\u8baf\u5b9e\u4e60\u540e\u5b8c\u6210\u7684\u3002\u65ad\u65ad\u7eed\u7eed\u5f00\u53d1\u4e86\u8fd9\u4e48\u957f\u65f6\u95f4\uff0c\u4e5f\u5e0c\u671b\u5199\u4e00\u7bc7\u6587\u7ae0\u8bb0\u5f55\u4e00\u4e0b\u5fc3\u5f97\u548c\u4f53\u4f1a\u3002</p>\\n<p>\u672c\u6587\u5c06\u6309\u7167\u5f00\u53d1\u987a\u5e8f\uff0c\u4ece\u540e\u7aef\u5230\u524d\u7aef\uff0c\u4ece\u90e8\u7f72\u5230\u4f18\u5316\uff0c\u8bb2\u8ff0\u4e00\u4e0b\u8fd9\u4e2a\u535a\u5ba2\u7cfb\u7edf\u7684\u51fa\u751f\u5230\u843d\u5730\u3002</p>\\n<h2 id=\\"\u540e\u7aef\u7bc7\\">\u540e\u7aef\u7bc7</h2>\\n<p>\u65e2\u7136\u662f\u524d\u540e\u7aef\u5206\u79bb\uff0c\u90a3\u4e48\u540e\u7aef\u7684\u57fa\u672c\u529f\u80fd\u6211\u4eec\u4e5f\u5c31\u5927\u4f53\u6e05\u695a\uff1a\u63d0\u4f9bAPI\u63a5\u53e3\u4f9b\u524d\u7aef\u8fdb\u884c\u6570\u636e\u7684\u589e\u5220\u6539\u67e5\u3002</p>\\n<p>\u90a3\u4e3a\u4ec0\u4e48\u8981\u9009\u62e9Koa\u4f5c\u4e3a\u540e\u7aef\u6846\u67b6\u5462\uff1f \u56e0\u4e3a\u4f5c\u4e3a\u524d\u7aefer\u7684\u6211\u9996\u9009\u5c31\u662fNode.js\u7684\uff0cexpress \u4e4b\u524d\u7528\u8fc7\u4e86\uff0c \u8fd9\u6b21\u8981\u4f53\u9a8c\u4e00\u4e2a\u4e0d\u4e00\u6837\u7684\uff0c\u6240\u6709\u5c31\u9009\u62e9Koa2\uff0c\u800c\u4e14Koa \u4e5f\u662fexpress \u539f\u73ed\u4eba\u9a6c\u6253\u9020\u7684\u7b2c\u4e8c\u4ee3\u6846\u67b6:</p>\\n<blockquote>\\n<p>koa \u662f\u7531 Express \u539f\u73ed\u4eba\u9a6c\u6253\u9020\u7684\uff0c\u81f4\u529b\u4e8e\u6210\u4e3a\u4e00\u4e2a\u66f4\u5c0f\u3001\u66f4\u5bcc\u6709\u8868\u73b0\u529b\u3001\u66f4\u5065\u58ee\u7684 Web \u6846\u67b6\u3002\u4f7f\u7528 koa \u7f16\u5199 web \u5e94\u7528\uff0c\u901a\u8fc7\u7ec4\u5408\u4e0d\u540c\u7684 generator\uff0c\u53ef\u4ee5\u514d\u9664\u91cd\u590d\u7e41\u7410\u7684\u56de\u8c03\u51fd\u6570\u5d4c\u5957\uff0c\u5e76\u6781\u5927\u5730\u63d0\u5347\u9519\u8bef\u5904\u7406\u7684\u6548\u7387\u3002koa \u4e0d\u5728\u5185\u6838\u65b9\u6cd5\u4e2d\u7ed1\u5b9a\u4efb\u4f55\u4e2d\u95f4\u4ef6\uff0c\u5b83\u4ec5\u4ec5\u63d0\u4f9b\u4e86\u4e00\u4e2a\u8f7b\u91cf\u4f18\u96c5\u7684\u51fd\u6570\u5e93\uff0c\u4f7f\u5f97\u7f16\u5199 Web \u5e94\u7528\u53d8\u5f97\u5f97\u5fc3\u5e94\u624b\u3002</p>\\n</blockquote>\\n<p>\u5b9e\u73b0\u8fc7\u7a0b\u4e2d\u4e5f\u4f1a\u53d1\u73b0\uff0cKoa \u786e\u5b9e\u5982\u5b98\u7f51\u6240\u8bf4\u7684\u7b80\u6d01\u4f18\u96c5\uff0c\u5199\u8d77\u6765\u5f97\u5fc3\u5e94\u624b\uff0c\u800cKoa\u6700\u6709\u610f\u601d\u7684\u5f53\u5c5e\u4ed6\u7684\u4e2d\u95f4\u4ef6\u673a\u5236\u5427\uff0c\u5c31\u50cf\u8fd9\u4e2a\u6d0b\u8471\u56fe, \u4e00\u5c42\u5c42\u8fdb\u53bb\uff0c\u53c8\u4e00\u5c42\u5c42\u51fa\u6765\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/img\\" alt=\\"img\\"></p>\\n<p>\u5982\u679c\u4f60\u613f\u610f\u4e00\u5c42\u4e00\u5c42\u4e00\u5c42\u7684\u8fdb\u5165\u6211\u7684\u5fc3\uff0c\u6211\u5c31\u628a\u4f60\u4e00\u5c42\u4e00\u5c42\u4e00\u5c42\u5730\u8bf7\u51fa\u53bb~~ <a href=\\"https://eggjs.org/zh-cn/intro/egg-and-koa.html#middleware\\">\u76f8\u5173\u6587\u6863</a>\uff0c\u8fd9\u91cc\u5c31\u4e0d\u591a\u8bf4\u4e86\u3002</p>\\n<p>\u6709\u4e86\u540e\u7aef\u6846\u67b6\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u4e00\u4e2a\u6570\u636e\u5e93\u4fdd\u5b58\u6211\u4eec\u7684\u6570\u636e\uff0c\u8fd9\u91cc\u6211\u9009\u62e9\u4e86MongoDB\uff0c\u7b80\u5355\u65b9\u4fbf\uff0c\u6ca1\u6709\u5173\u7cfb\u578b\u6570\u636e\u5e93\u90a3\u4e48\u591a\u9053\u9053\uff0c\u800c\u4e14\u6570\u636e\u5b58\u50a8\u683c\u5f0f\u662fBOSN(Binary JSON)\uff0c\u6211\u4eec\u53ef\u4ee5\u5f53\u505aJSON\u6765\u64cd\u4f5c\u3002</p>\\n<h3 id=\\"\u76ee\u5f55\u7ed3\u6784\\">\u76ee\u5f55\u7ed3\u6784</h3>\\n<p><img src=\\"https://xiao555.netlify.com/menu\\" alt=\\"menu\\"></p>\\n<p>\u6253\u7b97\u7528ES6\u6765\u5f00\u53d1\uff0c\u6240\u4ee5\u914d\u7f6e\u4e86Babel\uff1a</p>\\n<pre><code class=\\"language-js\\"><span class=\\"hljs-comment\\">// entry.js</span>\\n<span class=\\"hljs-selector-tag\\">require</span>(<span class=\\"hljs-string\\">\\"babel-register\\"</span>)({\\n  <span class=\\"hljs-attribute\\">presets</span>: [\\n    <span class=\\"hljs-string\\">\\"es2015\\"</span>,\\n    <span class=\\"hljs-string\\">\\"stage-0\\"</span>\\n  ],\\n  <span class=\\"hljs-attribute\\">plugins</span>: [<span class=\\"hljs-string\\">\\"transform-runtime\\"</span>]\\n});\\n<span class=\\"hljs-selector-tag\\">require</span>(<span class=\\"hljs-string\\">\\"babel-polyfill\\"</span>)\\n\\n<span class=\\"hljs-selector-tag\\">require</span>(<span class=\\"hljs-string\\">\'./app\'</span>)</code></pre>\\n<p>\u7531\u5165\u53e3\u6587\u4ef6\u8fdb\u5165\u4e86app.js</p>\\n<pre><code class=\\"language-js\\"><span class=\\"hljs-comment\\">// app.js</span>\\n<span class=\\"hljs-meta\\">\'use strict\'</span>;\\n<span class=\\"hljs-keyword\\">import</span> Koa <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'koa\'</span>\\n<span class=\\"hljs-keyword\\">import</span> log <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'./utils/log\'</span>\\n<span class=\\"hljs-keyword\\">import</span> middleware <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'./middleware\'</span>\\n<span class=\\"hljs-keyword\\">import</span> { connectDatabase } <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'./db/mongodb\'</span>\\n<span class=\\"hljs-keyword\\">import</span> api <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'./api\'</span>\\n<span class=\\"hljs-keyword\\">import</span> config <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'./config\'</span>\\n<span class=\\"hljs-keyword\\">const</span> port = config.port\\n<span class=\\"hljs-keyword\\">const</span> app = <span class=\\"hljs-keyword\\">new</span> Koa()\\n\\napp.use(<span class=\\"hljs-keyword\\">async</span> (ctx, next) =&gt; { <span class=\\"hljs-comment\\">// \u6d0b\u8471\u7684\u5916\u76ae\uff0c\u5229\u7528\u4e2d\u95f4\u4ef6\u673a\u5236\u5de7\u5999\u7684\u8ba1\u7b97 \u6bcf\u6b21\u8bf7\u6c42\u7684\u54cd\u5e94\u65f6\u95f4</span>\\n  <span class=\\"hljs-keyword\\">const</span> start = <span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-built_in\\">Date</span>();\\n  <span class=\\"hljs-keyword\\">await</span> next();\\n  <span class=\\"hljs-keyword\\">const</span> ms = <span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-built_in\\">Date</span>() - start;\\n  log.info(<span class=\\"hljs-string\\">`<span class=\\"hljs-subst\\">${ctx.method}</span> <span class=\\"hljs-subst\\">${<span class=\\"hljs-built_in\\">decodeURIComponent</span>(ctx.url)}</span> <span class=\\"hljs-subst\\">${ctx.status}</span> - <span class=\\"hljs-subst\\">${ms}</span>ms`</span>);\\n});\\napp.use(middleware()) <span class=\\"hljs-comment\\">// \u52a0\u8f7d\u4e2d\u95f4\u4ef6</span>\\napp.use(api())  <span class=\\"hljs-comment\\">// Koa-router \u914d\u7f6e\u7684\u8def\u7531</span>\\napp.use(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">ctx</span> =&gt;</span> ctx.status = <span class=\\"hljs-number\\">404</span>) <span class=\\"hljs-comment\\">// \u9ed8\u8ba4\u8fd4\u56de 404</span>\\n\\n;<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\"><span class=\\"hljs-keyword\\">async</span> (</span>) =&gt;</span> { <span class=\\"hljs-comment\\">// \u8fd8\u53ef\u4ee5\u6109\u5feb\u7684\u7528async await\u5b9e\u73b0\u5f02\u6b65</span>\\n  <span class=\\"hljs-keyword\\">try</span> {\\n    <span class=\\"hljs-keyword\\">const</span> db = <span class=\\"hljs-keyword\\">await</span> connectDatabase(config.mongoDB) <span class=\\"hljs-comment\\">// \u8fde\u63a5\u6570\u636e\u5e93</span>\\n    log.info(<span class=\\"hljs-string\\">`Connected to <span class=\\"hljs-subst\\">${db.host}</span>:<span class=\\"hljs-subst\\">${db.port}</span>/<span class=\\"hljs-subst\\">${db.name}</span>`</span>)\\n    <span class=\\"hljs-keyword\\">await</span> app.listen(port, () =&gt; log.info(<span class=\\"hljs-string\\">`Server started on port <span class=\\"hljs-subst\\">${port}</span>`</span>)) <span class=\\"hljs-comment\\">// \u5f00\u542f\u670d\u52a1\uff0c\u76d1\u542c\u7aef\u53e3</span>\\n  } <span class=\\"hljs-keyword\\">catch</span>(e) {\\n    log.error(e);\\n  }\\n})()\\n\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">default</span> app</code></pre>\\n<p>\u611f\u89c9Koa\u5199\u8d77\u6765\u5341\u5206\u7b80\u6d01\u4f18\u96c5\u54c8\u54c8\uff0c\u4e0d\u8fc7\u662f\u5927\u90e8\u5206\u903b\u8f91\u90fd\u62bd\u79bb\u51fa\u6765\u653e\u5728\u5176\u4ed6\u6587\u4ef6\u91cc\u4e86\uff0c\u8fd9\u91cc\u9762\u4e3b\u8981\u662fLog\uff0cMiddleware, DB, Router, \u6211\u4eec\u4e00\u4e2a\u4e00\u4e2a\u6765\u89e3\u5228\u3002</p>\\n<h3 id=\\"log\\">Log</h3>\\n<p>\u8fd9\u91cc\u9009\u62e9\u7684\u662f <a href=\\"https://github.com/nomiddlename/log4js-node\\">log4js</a> \u4f5c\u4e3a\u65e5\u5fd7\u7ba1\u7406\u4ee5\u53cadebug\u5de5\u5177, \u5b9e\u73b0\u8d77\u6765\u5341\u5206\u65b9\u4fbf\uff1a</p>\\n<pre><code class=\\"language-js\\">// utils/<span class=\\"hljs-keyword\\">log</span>.js\\n<span class=\\"hljs-keyword\\">import</span> log4js <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'log4js\'</span>\\n<span class=\\"hljs-keyword\\">import</span> <span class=\\"hljs-type\\">path</span> <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'path\'</span>\\nconst env = process.env.NODE_ENV\\n<span class=\\"hljs-keyword\\">if</span>(env == <span class=\\"hljs-string\\">\'production\'</span>) { // \u751f\u4ea7\u73af\u5883\u4e0b\u65e5\u5fd7\u8f93\u51fa\u5230\u6587\u4ef6\u4e2d\\n  log4js.configure({\\n    appenders: [\\n      { <span class=\\"hljs-keyword\\">type</span>: <span class=\\"hljs-string\\">\'file\'</span>, filename: <span class=\\"hljs-type\\">path</span>.<span class=\\"hljs-keyword\\">join</span>(__dirname,<span class=\\"hljs-string\\">\'..\'</span>, <span class=\\"hljs-string\\">\'log/cheese.log\'</span>)}\\n    ]\\n  });\\n}\\n\\nlet <span class=\\"hljs-keyword\\">log</span> = log4js.getLogger(<span class=\\"hljs-string\\">\'TYPE\'</span>)\\nexport <span class=\\"hljs-keyword\\">default</span> log4js.getLogger(<span class=\\"hljs-string\\">\'Blog\'</span>)\\n// \u4e0b\u9762\u8fd9\u4e00\u4e32\u662f\u6253\u5370\u8f93\u51fa\u683c\u5f0f\u7684\u4f8b\u5b50\\n<span class=\\"hljs-keyword\\">log</span>.<span class=\\"hljs-keyword\\">debug</span>(\\"LOG TYPE:\\")\\n<span class=\\"hljs-keyword\\">log</span>.<span class=\\"hljs-keyword\\">debug</span>(<span class=\\"hljs-string\\">\'DEBUG\'</span>)\\n<span class=\\"hljs-keyword\\">log</span>.<span class=\\"hljs-keyword\\">info</span>(<span class=\\"hljs-string\\">\'INFO\'</span>)\\n<span class=\\"hljs-keyword\\">log</span>.warn(<span class=\\"hljs-string\\">\'WARN\'</span>)\\n<span class=\\"hljs-keyword\\">log</span>.error(<span class=\\"hljs-string\\">\'ERROR\'</span>)\\n<span class=\\"hljs-keyword\\">log</span>.fatal(<span class=\\"hljs-string\\">\'FATAL\'</span>)</code></pre>\\n<p>\u6548\u679c\u5982\u4e0b\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/log4js\\" alt=\\"log4js\\"></p>\\n<h3 id=\\"middleware\\">Middleware</h3>\\n<p>Koa \u53ea\u63d0\u4f9b\u57fa\u672c\u7684\u6846\u67b6\uff0c\u5f88\u591a\u529f\u80fd\u9700\u8981\u4ee5\u4e2d\u95f4\u4ef6\u7684\u5f62\u5f0f\u52a0\u8fdb\u6765\uff0c\u8fd9\u4e5f\u662f\u4ed6\u6bd4\u8f83\u8f7b\u91cf\u5316\u7684\u539f\u56e0\u4e4b\u4e00\u3002</p>\\n<p>\u591a\u4e2a\u4e2d\u95f4\u4ef6\u53ef\u4ee5\u7528koa-compose\u7ec4\u5408\u4e00\u4e0b\uff0c\u6709\u76841.0\u7684\u4e2d\u95f4\u4ef6\u9700\u8981\u7528koa-convert\u8f6c\u6362\u6210promise Middleware\u3002</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// middleware/index.js</span>\\n<span class=\\"hljs-keyword\\">import</span> compose <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'koa-compose\'</span>;\\n<span class=\\"hljs-keyword\\">import</span> convert <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'koa-convert\'</span>;\\n<span class=\\"hljs-keyword\\">import</span> helmet <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'koa-helmet\'</span>;\\n<span class=\\"hljs-keyword\\">import</span> cors <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'koa-cors\'</span>;\\n<span class=\\"hljs-keyword\\">import</span> bodyParser <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'koa-bodyparser\'</span>;\\n<span class=\\"hljs-keyword\\">import</span> session <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'koa-generic-session\'</span>;\\n<span class=\\"hljs-keyword\\">const</span> RedisStore = <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'koa-redis\'</span>);\\n\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">default</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">middleware</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n  <span class=\\"hljs-keyword\\">return</span> compose([\\n    helmet(), <span class=\\"hljs-comment\\">// \u63d0\u4f9b\u5b89\u5168\u7684header</span>\\n    convert(cors()), <span class=\\"hljs-comment\\">// \u8de8\u57df \u914d\u7f6e Access-Control-Allow-Origin CORS header.</span>\\n    convert(bodyParser()), <span class=\\"hljs-comment\\">// \u89e3\u6790 body\uff0c\u5b58\u50a8\u5728 ctx.request.body \u91cc</span>\\n    convert(session({ <span class=\\"hljs-comment\\">// session</span>\\n      <span class=\\"hljs-attr\\">store</span>: <span class=\\"hljs-keyword\\">new</span> RedisStore()\\n    })),\\n  ]);\\n}</code></pre>\\n<h3 id=\\"database\\">DataBase</h3>\\n<p>\u5bf9\u4e8eMongoDB\u4f5c\u4e3a\u6570\u636e\u5e93\u7684\u540e\u7aef\u4e00\u822c\u7528Mongoose\u5f00\u53d1\uff0c\u6570\u636e\u5e93\u7684\u8fde\u63a5\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// db/mongodb.js</span>\\n<span class=\\"hljs-keyword\\">import</span> mongoose <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'mongoose\'</span>\\n<span class=\\"hljs-keyword\\">import</span> log <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'../utils/log\'</span>\\nmongoose.Promise = global.Promise; <span class=\\"hljs-comment\\">// \u5185\u7f6e\u7684promise\u5df2\u7ecf\u5f03\u7528\u4e86\uff0c\u9700\u8981\u7528\u81ea\u5df1\u7684promise\u5e93\uff0c\u8fd9\u91cc\u9009\u62e9\u7528\u539f\u751f\u7684ES6 Promise</span>\\n\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">connectDatabase</span>(<span class=\\"hljs-params\\">uri</span>) </span>{\\n  <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-built_in\\">Promise</span>(<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">resolve, reject</span>) =&gt;</span> {\\n    mongoose.connection\\n      .on(<span class=\\"hljs-string\\">\'error\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">error</span> =&gt;</span> reject(error))\\n      .on(<span class=\\"hljs-string\\">\'close\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> log.warn(<span class=\\"hljs-string\\">\'Database connection closed.\'</span>))\\n      .once(<span class=\\"hljs-string\\">\'open\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> resolve(mongoose.connections[<span class=\\"hljs-number\\">0</span>]))\\n\\n    mongoose.connect(uri)\\n  })\\n}</code></pre>\\n<p>Models\u7684\u521b\u5efa(\u4ee5Category\u4e3a\u4f8b)\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// models/category.js</span>\\n<span class=\\"hljs-keyword\\">import</span> mongoose <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'mongoose\'</span>\\n<span class=\\"hljs-keyword\\">const</span> categorySchema = <span class=\\"hljs-keyword\\">new</span> mongoose.Schema({\\n  name: <span class=\\"hljs-built_in\\">String</span>,\\n  <span class=\\"hljs-built_in\\">number</span>: {\\n    <span class=\\"hljs-keyword\\">type</span>: <span class=\\"hljs-built_in\\">Number</span>,\\n    <span class=\\"hljs-keyword\\">default</span>: <span class=\\"hljs-number\\">0</span>\\n  }\\n}, {\\n  versionKey: <span class=\\"hljs-literal\\">false</span>\\n})\\n\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">default</span> mongoose.model(<span class=\\"hljs-string\\">\'category\'</span>, categorySchema)</code></pre>\\n<h3 id=\\"router\\">Router</h3>\\n<p>\u6700\u521d\u7684models\u662f\u6709\u56db\u4e2a\uff0carticle\uff0ccategory\uff0ctag\uff0cuser\u3002\u4e3a\u4e86\u907f\u514d\u4e00\u4e2a\u4e00\u4e2a\u53bb\u914d\u7f6e\u8def\u7531\u903b\u8f91\uff0c\u6240\u4ee5\u901a\u8fc7importDir\u83b7\u53d6Models\u7684\u96c6\u5408\uff0c\u6587\u4ef6\u540d\u5c31\u662fkey\uff0c\u901a\u8fc7generateRouter\u7ed9\u6bcf\u4e2amodel\u52a0\u4e0a\u589e\u5220\u6539\u67e5\u7684\u8def\u7531\uff0c\u5e76\u5bf9\u5e94generateAction\u91cc\u7684\u4e0d\u540c\u7684action\uff0c\u5bf9\u4e8e\u4e2a\u522b\u7684\u8bf7\u6c42\u9700\u8981\u52a0\u4e0a\u6743\u9650\u9a8c\u8bc1\u3002\u9664\u6b64\u4e4b\u5916\u589e\u52a0\u4e86\u4e24\u4e2a\u8def\u7531\uff0c\u767b\u5f55\u540e\u53f0\u7684<code>/admin/login</code>\u548c\u7edf\u8ba1\u6587\u7ae0\u6d4f\u89c8\u6570\u7684<code>/view/blog</code>\u3002</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// api/index.js</span>\\n<span class=\\"hljs-keyword\\">import</span> compose <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'koa-compose\'</span>\\n<span class=\\"hljs-keyword\\">import</span> Router <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'koa-router\'</span>\\n<span class=\\"hljs-keyword\\">import</span> importDir <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'import-dir\'</span>\\n<span class=\\"hljs-keyword\\">import</span> generateRouter <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'./router\'</span>\\n<span class=\\"hljs-keyword\\">import</span> generateAction <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'./actions\'</span>\\n<span class=\\"hljs-keyword\\">import</span> Admin <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'./admin\'</span>\\n<span class=\\"hljs-keyword\\">import</span> Article <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'../models/article.js\'</span>\\n<span class=\\"hljs-keyword\\">import</span> log <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'../utils/log\'</span>\\n\\n<span class=\\"hljs-keyword\\">const</span> prefix = <span class=\\"hljs-string\\">\'/api\'</span>\\n<span class=\\"hljs-keyword\\">const</span> models = importDir(<span class=\\"hljs-string\\">\'../models\'</span>)\\n\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">default</span> () =&gt; {\\n  <span class=\\"hljs-keyword\\">const</span> router = <span class=\\"hljs-keyword\\">new</span> Router({ prefix }) <span class=\\"hljs-comment\\">// url\u524d\u7f00</span>\\n  <span class=\\"hljs-built_in\\">Object</span>.keys(models).forEach(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">key</span> =&gt;</span> generateRouter(key, router, Admin.permission, generateAction(models[key])));\\n  router\\n    .post(<span class=\\"hljs-string\\">\'/admin/login\'</span>, Admin.login)\\n    .post(<span class=\\"hljs-string\\">\'/view/blog\'</span>, <span class=\\"hljs-keyword\\">async</span> ctx =&gt; {\\n      <span class=\\"hljs-keyword\\">try</span> {\\n        <span class=\\"hljs-keyword\\">const</span> blog = <span class=\\"hljs-keyword\\">await</span> Article.find(ctx.request.query)\\n        <span class=\\"hljs-keyword\\">const</span> result = <span class=\\"hljs-keyword\\">await</span> Article.findByIdAndUpdate(blog[<span class=\\"hljs-number\\">0</span>].id, {visits: ++blog[<span class=\\"hljs-number\\">0</span>].visits}, {<span class=\\"hljs-keyword\\">new</span>: <span class=\\"hljs-literal\\">true</span>})\\n        <span class=\\"hljs-keyword\\">if</span> (result) <span class=\\"hljs-keyword\\">return</span> ctx.status = <span class=\\"hljs-number\\">200</span>\\n      } <span class=\\"hljs-keyword\\">catch</span> (e) {\\n        log.error(e)\\n      }\\n    })\\n  <span class=\\"hljs-keyword\\">return</span> compose([\\n    router.routes(),\\n    router.allowedMethods()\\n  ])\\n}\\n</code></pre>\\n<p>RESTful  API\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// api/router.js (generateRouter)</span>\\nexport default (<span class=\\"hljs-keyword\\">model</span>, router, permission, actions) =&gt; {\\n  router\\n    .get(<span class=\\"hljs-string\\">\'/\'</span>+ <span class=\\"hljs-keyword\\">model</span> + <span class=\\"hljs-string\\">\'s\'</span>, actions.find)\\n    .post(<span class=\\"hljs-string\\">\'/\'</span>+ <span class=\\"hljs-keyword\\">model</span> + <span class=\\"hljs-string\\">\'s\'</span>, permission, actions.create)\\n    .get(<span class=\\"hljs-string\\">\'/\'</span>+ <span class=\\"hljs-keyword\\">model</span> + <span class=\\"hljs-string\\">\'s/:id\'</span>, actions.findById)\\n    .<span class=\\"hljs-keyword\\">put</span>(<span class=\\"hljs-string\\">\'/\'</span>+ <span class=\\"hljs-keyword\\">model</span> + <span class=\\"hljs-string\\">\'s/:id\'</span>, permission, actions.updateById)\\n    .delete(<span class=\\"hljs-string\\">\'/\'</span>+ <span class=\\"hljs-keyword\\">model</span> + <span class=\\"hljs-string\\">\'s/:id\'</span>, permission, actions.deleteById)\\n}</code></pre>\\n<h3 id=\\"config\\">Config</h3>\\n<p>\u4e4b\u6240\u4ee5\u628auser\u53bb\u6389\u4e86\uff0c\u662f\u56e0\u4e3a\u60f3\u4e86\u4e0b\u8fd9\u4e2ablog\u5c31\u81ea\u5df1\u5728\u7528\uff0c\u4e0d\u4f1a\u6709\u597d\u51e0\u4e2a\u7528\u6237\u7684\u60c5\u51b5\uff0c\u6240\u4ee5\u76f4\u63a5\u628a\u7528\u6237\u540d\u5bc6\u7801\u4fdd\u5b58\u5728config\u91cc\u4e86\u3002\u9664\u4e86\u7528\u6237\u540d\u5bc6\u7801\uff0cconfig\u91cc\u8fd8\u6709mongoDB\u7684\u5730\u5740\uff0credis\u7684\u5730\u5740\uff0c\u670d\u52a1\u5668\u8fd0\u884c\u7aef\u53e3\uff0c\u9274\u6743\u79d8\u94a5\uff0ctoken\u8fc7\u671f\u65f6\u95f4\u8fd9\u4e9b\u914d\u7f6e\u3002</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-selector-tag\\">export</span> <span class=\\"hljs-selector-tag\\">default</span> {\\n  <span class=\\"hljs-attribute\\">admin</span>: {\\n    <span class=\\"hljs-attribute\\">name</span>: <span class=\\"hljs-string\\">\'test\'</span>,\\n    <span class=\\"hljs-attribute\\">passwd</span>: <span class=\\"hljs-string\\">\'test\'</span>\\n  },\\n  <span class=\\"hljs-attribute\\">mongoDB</span>: <span class=\\"hljs-string\\">\'mongodb://localhost/blog\'</span>,\\n  <span class=\\"hljs-attribute\\">redis</span>: {\\n    <span class=\\"hljs-attribute\\">host</span>: <span class=\\"hljs-string\\">\'127.0.0.1\'</span>,\\n    <span class=\\"hljs-attribute\\">port</span>: <span class=\\"hljs-number\\">6379</span>\\n  },\\n  <span class=\\"hljs-attribute\\">port</span>: process.env.PORT || <span class=\\"hljs-number\\">3000</span>,\\n  <span class=\\"hljs-attribute\\">authSecret</span>: <span class=\\"hljs-string\\">\'blogAuth\'</span>,\\n  <span class=\\"hljs-attribute\\">expiresIn</span>: <span class=\\"hljs-number\\">60</span> * <span class=\\"hljs-number\\">60</span>, <span class=\\"hljs-comment\\">// token 1h</span>\\n}</code></pre>\\n<h3 id=\\"auth\\">Auth</h3>\\n<p>\u518d\u6765\u8bf4\u8bf4\u6743\u9650\u9a8c\u8bc1\uff0c\u8fd9\u91cc\u6211\u7528\u7684\u662fredis + JWT \u7684\u65b9\u5f0f\u3002\u7528\u6237\u5728\u767b\u5f55\u6210\u529f\u7684\u65f6\u5019\uff0c\u540e\u53f0\u4f1a\u751f\u6210\u4e00\u4e2atoken\uff0c\u7528redis\u4fdd\u5b581h\u3002\u5e76\u4e14\u8fd9\u4e2atoken\u4f1a\u8fd4\u56de\u7ed9\u6d4f\u89c8\u5668\u7aef\uff0c\u6d4f\u89c8\u5668\u7aef\u4fdd\u5b58\u5728localStorage\u91cc\uff0c\u5e76\u4e14\u5f53localStorage\u5b58\u5728token\u65f6\uff0c\u6bcf\u6b21\u8bf7\u6c42\u90fd\u4f1a\u4f5c\u4e3aheader\u7684\u4e00\u4e2a\u5b57\u6bb5\u5e26\u4e0a\u5b83\uff0c\u4f9b\u540e\u7aef\u9a8c\u8bc1\u3002</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// api/admin.js  (permission \u6743\u9650\u9a8c\u8bc1)</span>\\n<span class=\\"hljs-keyword\\">const</span> token = ctx.request.headers[<span class=\\"hljs-string\\">\'authorization\'</span>] || <span class=\\"hljs-literal\\">null</span>\\n<span class=\\"hljs-keyword\\">if</span> (!token) <span class=\\"hljs-keyword\\">return</span> ctx.body = {\\n  status: <span class=\\"hljs-string\\">\'fail\'</span>,\\n  message: <span class=\\"hljs-string\\">\'Token not found\'</span>\\n}\\n<span class=\\"hljs-keyword\\">const</span> result = Token.verifyToken(token)\\n\\n<span class=\\"hljs-keyword\\">if</span> (!result) <span class=\\"hljs-keyword\\">return</span> ctx.body = {\\n  status: <span class=\\"hljs-string\\">\'fail\'</span>,\\n  message: <span class=\\"hljs-string\\">\'Token verify failed\'</span>\\n}\\n\\n<span class=\\"hljs-keyword\\">const</span> reply = await redis.getAsync(token)\\n\\n<span class=\\"hljs-keyword\\">if</span> (!reply) <span class=\\"hljs-keyword\\">return</span> ctx.body = {\\n  status: <span class=\\"hljs-string\\">\'fail\'</span>,\\n  message: <span class=\\"hljs-string\\">\'Token invalid\'</span>\\n}\\n\\n<span class=\\"hljs-keyword\\">return</span> next()</code></pre>\\n<h3 id=\\"test\\">Test</h3>\\n<p>\u5728\u5199\u5b8capi\u8def\u7531\u7684\u65f6\u5019\u7528Mocha + Chai\u505a\u4e86\u4e00\u4e0b\u5355\u5143\u6d4b\u8bd5\uff0c\u7528\u6a21\u62df\u6570\u636e\u6d4b\u8bd5\u589e\u5220\u6539\u67e5\u529f\u80fd\uff0c\u4e0b\u9762\u4f8b\u5b50\u662f\u4e0a\u4f20\u6587\u7ae0\u7684api\u6d4b\u8bd5\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// test/api/routes/articles.js</span>\\nit(<span class=\\"hljs-string\\">\'should create article\'</span>, <span class=\\"hljs-keyword\\">async</span> () =&gt; {\\n  <span class=\\"hljs-keyword\\">const</span> res = <span class=\\"hljs-keyword\\">await</span> request.post(<span class=\\"hljs-string\\">\'/api/articles\'</span>)\\n    .send(article)\\n    .expect(<span class=\\"hljs-number\\">200</span>)\\n    .expect(<span class=\\"hljs-string\\">\'Content-Type\'</span>, /json/)\\n\\n  <span class=\\"hljs-built_in\\">Object</span>.keys(res.body).should.have.length(<span class=\\"hljs-number\\">11</span>);\\n  res.body.should.have.property(<span class=\\"hljs-string\\">\'_id\'</span>);\\n  res.body.title.should.equal(article.title);\\n  res.body.content.should.equal(article.content);\\n  res.body.status.should.equal(<span class=\\"hljs-keyword\\">true</span>);\\n});</code></pre>\\n<h3 id=\\"\u603b\u7ed3\\">\u603b\u7ed3</h3>\\n<p>\u4f5c\u4e3a\u4e00\u4e2a\u524d\u540e\u7aef\u5206\u79bb\u7684blog\u7684\u540e\u7aef\uff0c\u505a\u597d\u589e\u5565\u6539\u67e5\uff0c\u6743\u9650\u9a8c\u8bc1\u5c31\u597d\uff0c\u7528Koa\u5b9e\u73b0\u8d77\u6765\u5e76\u4e0d\u96be\uff0c\u4e0d\u8fc7\u5f53\u65f6\u5199\u7684\u65f6\u5019\u4e5f\u662f\u770b\u4e86\u5f88\u591a\u8d44\u6599\uff0c\u6bd5\u7adf\u4ece\u96f6\u5f00\u59cb\uff0c\u5b66\u4e60\u522b\u4eba\u4ee3\u7801\u7684\u8fc7\u7a0b\u4e5f\u8ba9\u6211\u53d7\u76ca\u532a\u6d45\uff0c\u4ee3\u7801\u89c4\u8303\u6027\u6709\u5f88\u5927\u63d0\u9ad8\uff0c\u6bd4\u5982\u4e0b\u9762\u8fd9\u4e2a\u5c31\u7528\u4e86try-catch\u8fdb\u884c\u9519\u8bef\u5904\u7406\u3002</p>\\n<p>\u6574\u4e2a\u540e\u7aef\u6bd4\u8f83\u590d\u6742\u7684\u5730\u65b9\u5c31\u662f\u5bf9api\u6bcf\u4e2a\u8bf7\u6c42\u7684\u5904\u7406\u4e86\uff0c\u7b97\u662f\u4e1a\u52a1\u903b\u8f91\u5427\uff08api/actions.js\uff09\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// api/actions.js (create)</span>\\ncreate: async<span class=\\"hljs-function\\"> <span class=\\"hljs-params\\">ctx</span> =&gt;</span> {\\n  <span class=\\"hljs-keyword\\">try</span> {\\n    const body = ctx.request.body <span class=\\"hljs-comment\\">// \u83b7\u53d6\u6570\u636e</span>\\n    <span class=\\"hljs-keyword\\">if</span> (model.modelName<span class=\\"hljs-operator\\"> === </span>\'article\') { <span class=\\"hljs-comment\\">// \u5982\u679c\u662farticle\u7684\u8bdd\u8fdb\u884c\u8fd9\u4e9b\u64cd\u4f5c</span>\\n      markdown<span class=\\"hljs-constructor\\">Parse(<span class=\\"hljs-params\\">body</span>)</span>; <span class=\\"hljs-comment\\">// markdown \u8bed\u6cd5\u89e3\u6790</span>\\n      !!body.tags<span class=\\"hljs-operator\\"> &amp;&amp; </span>await save<span class=\\"hljs-constructor\\">Tags(<span class=\\"hljs-params\\">body</span>.<span class=\\"hljs-params\\">tags</span>)</span>\\n      !!body.category<span class=\\"hljs-operator\\"> &amp;&amp; </span>await save<span class=\\"hljs-constructor\\">Category(<span class=\\"hljs-params\\">body</span>.<span class=\\"hljs-params\\">category</span>)</span>\\n    }\\n    ctx.body = await model.create(body) <span class=\\"hljs-comment\\">// Mongoose create</span>\\n  } catch(e) {\\n    <span class=\\"hljs-comment\\">// statements</span>\\n    log.error(e)\\n  }\\n},</code></pre>\\n<p>\u4e0b\u4e00\u7bc7\u8bb2\u4e00\u4e0b\u524d\u7aef\u90e8\u5206\uff0c\u7528vue2\u5199\u7684\u670d\u52a1\u7aef\u6e32\u67d3(SSR)\u5355\u9875\u5e94\u7528(SPA).</p>\\n","title":"\u57fa\u4e8eVue2 + Koa2\u642d\u5efa\u524d\u540e\u7aef\u5206\u79bb\u7684\u535a\u5ba2\u7cfb\u7edf","tags":["blog","vue","koa"],"slug":"based-on-vue2-%2B-koa2-to-build-a-separate-front-end-and-back-end-blog-system","createDate":1501171200000,"id":"based-on-vue2-%2B-koa2-to-build-a-separate-front-end-and-back-end-blog-system","thumb":"https://images.unsplash.com/photo-1581670819508-2a3a1e736774?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>\u8fd9\u662f\u4e00\u4e2avue\u7684\u7ec3\u624b\u9879\u76ee\uff0c\u4e5f\u662fkoa\u7684\u7ec3\u624b\u9879\u76ee\u3002\\n\u8fd9\u662f\u4e00\u4e2ajs\u5199\u7684\u5b8c\u6574\u7684\u535a\u5ba2\u7cfb\u7edf\u3002\\n\u8fd9\u662f\u4e00\u4e2a\u524d\u540e\u7aef\u5206\u79bb + \u670d\u52a1\u7aef\u6e32\u67d3\u7684\u535a\u5ba2\u7cfb\u7edf\u3002\\n\u8fd9\u662f\u4e00\u4e2a\u524d\u7aef SPA + \u540e\u7aef RESTful API \u7684\u535a\u5ba2\u7cfb\u7edf\u3002\\n\u8fd9\u662f\u4e00\u4e2a\u4e3a\u4e86\u627e\u5b9e\u4e60\u505a\u7684\u4e2a\u4eba\u4f5c\u54c1\uff0c\u867d\u7136\u662f\u5728\u627e\u5b8c\u5b9e\u4e60\u540e\u5b8c\u6210\u7684\u3002\\n\u8fd9\u662f\u6211\u4ee5\u540e\u7684\u8bd5\u9a8c\u7530\uff0c\u4e5f\u662f\u4e2a\u4eba\u5206\u4eab\u7684\u5e73\u53f0\u3002\\n\u5f53\u7136\u8fd8\u6709\u5f88\u591a\u4e0d\u8db3\uff0c\u4eca\u540e\u4f1a\u9010\u6e10\u5b8c\u5584\u3002</p>\\n","content":"<p>\u8fd9\u662f\u4e00\u4e2avue\u7684\u7ec3\u624b\u9879\u76ee\uff0c\u4e5f\u662fkoa\u7684\u7ec3\u624b\u9879\u76ee\u3002\\n\u8fd9\u662f\u4e00\u4e2ajs\u5199\u7684\u5b8c\u6574\u7684\u535a\u5ba2\u7cfb\u7edf\u3002\\n\u8fd9\u662f\u4e00\u4e2a\u524d\u540e\u7aef\u5206\u79bb + \u670d\u52a1\u7aef\u6e32\u67d3\u7684\u535a\u5ba2\u7cfb\u7edf\u3002\\n\u8fd9\u662f\u4e00\u4e2a\u524d\u7aef SPA + \u540e\u7aef RESTful API \u7684\u535a\u5ba2\u7cfb\u7edf\u3002\\n\u8fd9\u662f\u4e00\u4e2a\u4e3a\u4e86\u627e\u5b9e\u4e60\u505a\u7684\u4e2a\u4eba\u4f5c\u54c1\uff0c\u867d\u7136\u662f\u5728\u627e\u5b8c\u5b9e\u4e60\u540e\u5b8c\u6210\u7684\u3002\\n\u8fd9\u662f\u6211\u4ee5\u540e\u7684\u8bd5\u9a8c\u7530\uff0c\u4e5f\u662f\u4e2a\u4eba\u5206\u4eab\u7684\u5e73\u53f0\u3002\\n\u5f53\u7136\u8fd8\u6709\u5f88\u591a\u4e0d\u8db3\uff0c\u4eca\u540e\u4f1a\u9010\u6e10\u5b8c\u5584\u3002</p>\\n<h3 id=\\"\u5f00\u53d1\u73af\u5883\\">\u5f00\u53d1\u73af\u5883</h3>\\n<ul>\\n<li>MacOS + iTerm2 + Sublime\uff08\u524d\u671f\uff09 + Atom\uff08\u540e\u671f\uff09</li>\\n<li>Node v7.7.0 + MongoDB + Redis</li>\\n<li>Docker</li>\\n</ul>\\n<h3 id=\\"\u6280\u672f\u6808\\">\u6280\u672f\u6808</h3>\\n<h5 id=\\"\u540e\u7aef\uff1a\\">\u540e\u7aef\uff1a</h5>\\n<ul>\\n<li>\u670d\u52a1\u5668 Koa2</li>\\n<li>\u8def\u7531 Koa-Router</li>\\n<li>\u6570\u636e\u5e93 MongoDB + Mongoose</li>\\n<li>\u6743\u9650\u9a8c\u8bc1 Redis + JWT</li>\\n<li>\u65e5\u5fd7 log4js</li>\\n<li>\u6d4b\u8bd5 mocha + chai</li>\\n</ul>\\n<h5 id=\\"\u524d\u7aef\uff1a\\">\u524d\u7aef\uff1a</h5>\\n<ul>\\n<li>\u5355\u9875\u5e94\u7528 Vue2</li>\\n<li>\u72b6\u6001\u7ba1\u7406 Vuex</li>\\n<li>\u524d\u7aef\u8def\u7531 Vue-Router</li>\\n<li>\u670d\u52a1\u7aef\u6e32\u67d3 Express</li>\\n<li>Markdown\u751f\u6210\u76ee\u5f55 + \u6e32\u67d3 marked + uslug + highlight.js</li>\\n<li>\u901a\u4fe1\u5e93 axios</li>\\n<li>\u7f13\u5b58 lru-cache</li>\\n</ul>\\n<h5 id=\\"\u670d\u52a1\u5668\u7aef\uff1a\\">\u670d\u52a1\u5668\u7aef\uff1a</h5>\\n<ul>\\n<li>\u817e\u8baf\u4e91 Ubuntu 16.04</li>\\n<li>\u5b88\u62a4\u8fdb\u7a0b pm2</li>\\n<li>\u53cd\u5411\u4ee3\u7406 Nginx</li>\\n<li>ssl\u8bc1\u4e66 acme-tiny\u81ea\u52a8\u5316\u811a\u672c</li>\\n<li>Docker</li>\\n</ul>\\n<h5 id=\\"cdn\uff1a\\">CDN\uff1a</h5>\\n<ul>\\n<li>netlify\uff08\u514d\u8d39 + \u652f\u6301https + \u652f\u6301 github repo\u5bfc\u5165\uff09</li>\\n</ul>\\n<h3 id=\\"usage\\">Usage</h3>\\n<p>\u6700\u8fd1\u9664\u4e86Nginx\uff0cNode.js, MongoDB, Redis\u4e09\u90e8\u5206\u90fd\u4e0a\u4e86Docker\uff0c\u8981\u7528docker\u8fd0\u884c\u7684\u8bdd\u9700\u8981\u914d\u597ddocker\u73af\u5883\u4e86, \u5c06<code>blog</code>\u76ee\u5f55\u590d\u5236\u5230<code>docker/node</code>\u76ee\u5f55\u4e0b\u5728<code>docker</code>\u76ee\u5f55\u8fd0\u884c</p>\\n<pre><code class=\\"language-bash\\"><span class=\\"hljs-symbol\\">docker</span>-compose <span class=\\"hljs-keyword\\">build\\n</span><span class=\\"hljs-symbol\\">docker</span>-compose up</code></pre>\\n<p>\u8bbf\u95eeyourdomain:5050 \u5c31\u53ef\u4ee5\u770b\u5230\u535a\u5ba2\u524d\u7aef\u9875\u9762\u4e86\uff0c\u518d\u6309\u7167\u4e0b\u9762\u6b65\u9aa4\u914d\u7f6eNginx\u5373\u53ef\uff0c\u7701\u53bb\u4e86\u5f88\u591a\u6b65\u9aa4\u3002\u4e0d\u8fc7<code>build</code>\u7684\u65f6\u95f4\u53ef\u80fd\u6709\u5341\u51e0\u5206\u949f\uff08\u6709docker\u52a0\u901f\u5668\uff09\uff0c\u6240\u4ee5<code>build</code>\u7684\u65f6\u5019\u53ef\u4ee5\u53bb\u559d\u676f\u8336\uff0c\u804a\u804a\u5929~~</p>\\n<p>\u4e0d\u60f3\u7528docker\u7684\u8bdd\uff0c\u53ea\u9700\u8981\u5207\u6362\u5230<code>blog</code>\u76ee\u5f55\uff0c\u6309\u7167\u4e0b\u9762\u6b65\u9aa4\u4e00\u6b65\u4e00\u6b65\u8d70\u5373\u53ef\u3002</p>\\n<h4 id=\\"\u5b89\u88c5-node\\">\u5b89\u88c5 Node</h4>\\n<p>\u63a8\u8350\u4f7f\u7528 <a href=\\"https://github.com/creationix/nvm\\">NVM</a> \u7ba1\u7406Node\u7248\u672c\uff0c\u6211\u7684\u5f00\u53d1\u7248\u672c\u662f v7.7.0</p>\\n<h4 id=\\"\u5b89\u88c5-mongodb\\">\u5b89\u88c5 MongoDB</h4>\\n<ul>\\n<li><a href=\\"https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/\\">Ubuntu\u4e0a\u5b89\u88c5</a></li>\\n<li><a href=\\"http://www.linuxdiyf.com/linux/26151.html\\">\u56fd\u5185\u63a8\u8350\u963f\u91cc\u4e91\u955c\u50cf\u5b89\u88c5</a></li>\\n<li><a href=\\"https://docs.mongodb.com/manual/tutorial/install-mongodb-on-os-x/\\">Mac\u4e0a\u5b89\u88c5</a></li>\\n</ul>\\n<p>\u8c8c\u4f3cUbuntu\u4e0a\u6709\u4e9b\u5751\uff0c\u6bd4\u5982\u7528\u5b98\u7f51\u7684\u6559\u7a0b\u5b89\u88c5\u5de8\u6162\uff0c\u53ef\u80fd\u88ab\u5899\u4e86\uff0c\u63a8\u8350\u963f\u91cc\u4e91\u955c\u50cf\uff0c\u540e\u9762\u5199\u4e00\u7bc7\u8bb0\u5f55\u4e00\u4e0b\u5427\u3002\\n\u670b\u53cb\u8bf4apt-get\u9ed8\u8ba4\u662f\u817e\u8baf\u7684\u6e90\uff0c\u901f\u5ea6\u5f88\u5feb\uff0c\u6211\u6ca1\u9ed8\u8ba4\u88c5\u8fc7...</p>\\n<h4 id=\\"\u5b89\u88c5-redis\\">\u5b89\u88c5 Redis</h4>\\n<ul>\\n<li><a href=\\"http://blog.fens.me/linux-redis-install/\\">Ubuntu</a></li>\\n<li><a href=\\"http://blog.csdn.net/pingpangbing0902/article/details/47104545\\">Mac</a></li>\\n</ul>\\n<p>\u8fd8\u662fHomebrew\u65b9\u4fbf\u554a\uff0c\u7f51\u4e0a\u627e\u7684\u4e00\u4e2a\u6559\u7a0b\uff0c\u5e94\u8be5\u6ca1\u95ee\u9898</p>\\n<h4 id=\\"\u5b89\u88c5-pm2\\">\u5b89\u88c5 pm2</h4>\\n<pre><code class=\\"language-bash\\"><span class=\\"hljs-built_in\\">npm</span> i -g pm2</code></pre>\\n<p>\u7528\u6cd5: <a href=\\"https://github.com/Unitech/pm2#commands-overview\\">github</a></p>\\n<h4 id=\\"\u5b89\u88c5\u4f9d\u8d56\\">\u5b89\u88c5\u4f9d\u8d56</h4>\\n<p>\u5728<code>client</code> \u548c <code>server</code> \u76ee\u5f55\u4e0b\u5206\u522b\u8fd0\u884c</p>\\n<pre><code class=\\"language-bash\\"><span class=\\"hljs-built_in\\">npm</span> i</code></pre>\\n<h4 id=\\"\u8fd0\u884c\u670d\u52a1\u7aef\\">\u8fd0\u884c\u670d\u52a1\u7aef</h4>\\n<h5 id=\\"\u914d\u7f6e\\">\u914d\u7f6e</h5>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// config/index.js</span>\\n<span class=\\"hljs-selector-tag\\">export</span> <span class=\\"hljs-selector-tag\\">default</span> {\\n  <span class=\\"hljs-attribute\\">admin</span>: { <span class=\\"hljs-comment\\">// \u7ba1\u7406\u540e\u53f0\u7528\u6237\u540d\uff0c\u5bc6\u7801</span>\\n    <span class=\\"hljs-attribute\\">name</span>: <span class=\\"hljs-string\\">\'yourname\'</span>,\\n    <span class=\\"hljs-attribute\\">passwd</span>: <span class=\\"hljs-string\\">\'yourpassword\'</span>\\n  },\\n  <span class=\\"hljs-attribute\\">mongoDB</span>: <span class=\\"hljs-string\\">\'mongodb://localhost/blog\'</span>, <span class=\\"hljs-comment\\">// mongoDB\u6570\u636e\u5e93\u8fde\u63a5uri</span>\\n  <span class=\\"hljs-attribute\\">redis</span>: { <span class=\\"hljs-comment\\">// Redis</span>\\n    <span class=\\"hljs-attribute\\">host</span>: <span class=\\"hljs-string\\">\'127.0.0.1\'</span>,\\n    <span class=\\"hljs-attribute\\">port</span>: <span class=\\"hljs-number\\">6379</span>\\n  },\\n  <span class=\\"hljs-attribute\\">port</span>: process.env.PORT || <span class=\\"hljs-number\\">3000</span>, <span class=\\"hljs-comment\\">// \u670d\u52a1\u5668\u8fd0\u884c\u7aef\u53e3</span>\\n  <span class=\\"hljs-attribute\\">authSecret</span>: <span class=\\"hljs-string\\">\'blogAuth\'</span>, <span class=\\"hljs-comment\\">// \u9a8c\u8bc1\u5bc6\u94a5</span>\\n  <span class=\\"hljs-attribute\\">expiresIn</span>: <span class=\\"hljs-number\\">60</span> * <span class=\\"hljs-number\\">60</span>, <span class=\\"hljs-comment\\">// JWT token \u4fdd\u5b58\u65f6\u95f4 1h</span>\\n}</code></pre>\\n<h5 id=\\"\u8fd0\u884c\\">\u8fd0\u884c</h5>\\n<pre><code class=\\"language-bash\\">npm <span class=\\"hljs-keyword\\">run</span><span class=\\"bash\\"> start</span>\\n\\n// pm2\\nnpm <span class=\\"hljs-keyword\\">run</span><span class=\\"bash\\"> pm</span></code></pre>\\n<h5 id=\\"\u8bf4\u660e\\">\u8bf4\u660e</h5>\\n<ul>\\n<li>\u589e\u52a0\u4e86pm script\uff1a<code>&quot;NODE_ENV=production pm2 start entry.js --name=&#39;blogServer&#39;&quot;</code>, \u65b9\u4fbf\u90e8\u7f72</li>\\n<li>JWT \u7684token expiresIn \u4ee3\u8868\u5728redis\u4e2d\u7684\u5b58\u50a8\u65f6\u95f4\uff0c\u5728\u6709\u6548\u671f\u5185\u53ef\u4ee5\u901a\u8fc7admin\u540e\u53f0\u8fdb\u884c\u5404\u79cd\u64cd\u4f5c\uff0c\u8fc7\u671f\u4e86\u9700\u8981\u91cd\u65b0\u767b\u5f55\u751f\u6210token</li>\\n<li>API\u8bbf\u95ee\u65f6\u7edf\u4e00\u52a0\u524d\u7f00api\uff0c\u6bd4\u5982\u67e5\u770b\u516c\u5f00\u6587\u7ae0<a href=\\"https://www.xiao555.com.cn/api/articles?status=Published\\">https://www.xiao555.com.cn/api/articles?status=Published</a></li>\\n<li>\u751f\u4ea7\u73af\u5883\u4e0blog\u8f93\u51fa\u5230<code>log/cheese.log</code>\uff0c\u683c\u5f0f\u5982\u4e0b\uff1a<pre><code class=\\"language-javascript\\">[<span class=\\"hljs-number\\">2017</span><span class=\\"hljs-number\\">-06</span><span class=\\"hljs-number\\">-09</span> <span class=\\"hljs-number\\">19</span>:<span class=\\"hljs-number\\">19</span>:<span class=\\"hljs-number\\">50.579</span>] [INFO] Blog - Redis <span class=\\"hljs-keyword\\">is</span> ready\\n[<span class=\\"hljs-number\\">2017</span><span class=\\"hljs-number\\">-06</span><span class=\\"hljs-number\\">-09</span> <span class=\\"hljs-number\\">19</span>:<span class=\\"hljs-number\\">19</span>:<span class=\\"hljs-number\\">50.602</span>] [INFO] Blog - Connected to localhost:<span class=\\"hljs-number\\">27017</span>/blog\\n[<span class=\\"hljs-number\\">2017</span><span class=\\"hljs-number\\">-06</span><span class=\\"hljs-number\\">-09</span> <span class=\\"hljs-number\\">19</span>:<span class=\\"hljs-number\\">19</span>:<span class=\\"hljs-number\\">50.605</span>] [INFO] Blog - Server started on port <span class=\\"hljs-number\\">3000</span>\\n[<span class=\\"hljs-number\\">2017</span><span class=\\"hljs-number\\">-06</span><span class=\\"hljs-number\\">-09</span> <span class=\\"hljs-number\\">19</span>:<span class=\\"hljs-number\\">20</span>:<span class=\\"hljs-number\\">22.140</span>] [INFO] Blog - GET /api/ <span class=\\"hljs-number\\">404</span> - <span class=\\"hljs-number\\">7</span>ms\\n[<span class=\\"hljs-number\\">2017</span><span class=\\"hljs-number\\">-06</span><span class=\\"hljs-number\\">-09</span> <span class=\\"hljs-number\\">19</span>:<span class=\\"hljs-number\\">20</span>:<span class=\\"hljs-number\\">29.507</span>] [INFO] Blog - GET /api/articles\u3001 <span class=\\"hljs-number\\">404</span> - <span class=\\"hljs-number\\">2</span>ms\\n[<span class=\\"hljs-number\\">2017</span><span class=\\"hljs-number\\">-06</span><span class=\\"hljs-number\\">-09</span> <span class=\\"hljs-number\\">19</span>:<span class=\\"hljs-number\\">20</span>:<span class=\\"hljs-number\\">33.603</span>] [INFO] Blog - GET /api/articles/ <span class=\\"hljs-number\\">200</span> - <span class=\\"hljs-number\\">14</span>ms\\n[<span class=\\"hljs-number\\">2017</span><span class=\\"hljs-number\\">-06</span><span class=\\"hljs-number\\">-09</span> <span class=\\"hljs-number\\">19</span>:<span class=\\"hljs-number\\">23</span>:<span class=\\"hljs-number\\">34.390</span>] [INFO] Blog - POST /api/admin/login <span class=\\"hljs-number\\">200</span> - <span class=\\"hljs-number\\">55</span>ms</code></pre>\\n</li>\\n</ul>\\n<h4 id=\\"\u8fd0\u884c\u5ba2\u6237\u7aef\\">\u8fd0\u884c\u5ba2\u6237\u7aef</h4>\\n<h5 id=\\"\u914d\u7f6e-1\\">\u914d\u7f6e</h5>\\n<p>\u6682\u65f6\u786c\u7f16\u7801\u4e0a\uff0c\u540e\u9762\u653e\u5230\u6570\u636e\u5e93\uff0c\u901a\u8fc7admin\u540e\u53f0\u6765\u4fee\u6539</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// config/index.js</span>\\n<span class=\\"hljs-selector-tag\\">export</span> <span class=\\"hljs-selector-tag\\">default</span> {\\n  <span class=\\"hljs-attribute\\">dev</span>: { <span class=\\"hljs-comment\\">// dev \u73af\u5883\u4e0b\u76f8\u5173\u94fe\u63a5</span>\\n    <span class=\\"hljs-attribute\\">api</span>: <span class=\\"hljs-string\\">\'http://localhost:3000/api\'</span>,\\n    <span class=\\"hljs-attribute\\">siteInfo</span>: {\\n      <span class=\\"hljs-attribute\\">siteUrl</span>: <span class=\\"hljs-string\\">\'http://localhost:5050/\'</span>,\\n      <span class=\\"hljs-attribute\\">postUrl</span>: <span class=\\"hljs-string\\">\'http://localhost:5050/posts/\'</span>\\n    }\\n  },\\n  <span class=\\"hljs-attribute\\">prod</span>: { <span class=\\"hljs-comment\\">// \u751f\u4ea7\u73af\u5883\u4e0b\u76f8\u5173\u94fe\u63a5</span>\\n    <span class=\\"hljs-attribute\\">api</span>: <span class=\\"hljs-string\\">\'https://www.xiao555.com.cn/api\'</span>,\\n    <span class=\\"hljs-attribute\\">siteInfo</span>: {\\n      <span class=\\"hljs-attribute\\">siteUrl</span>: <span class=\\"hljs-string\\">\'https://www.xiao555.com.cn/\'</span>,\\n      <span class=\\"hljs-attribute\\">postUrl</span>: <span class=\\"hljs-string\\">\'https://www.xiao555.com.cn/posts/\'</span>\\n    }\\n  },\\n  <span class=\\"hljs-attribute\\">links</span>: { <span class=\\"hljs-comment\\">// \u5404\u79cd\u94fe\u63a5</span>\\n    <span class=\\"hljs-attribute\\">github</span>: <span class=\\"hljs-string\\">\\"https://github.com/xiao555\\"</span>,\\n    <span class=\\"hljs-attribute\\">facebook</span>: <span class=\\"hljs-string\\">\\"https://www.facebook.com/profile.php?id=100009127309661\\"</span>,\\n    <span class=\\"hljs-attribute\\">email</span>: <span class=\\"hljs-string\\">\\"mailto: zhangruiwu32@gmail.com\\"</span>,\\n    <span class=\\"hljs-attribute\\">weibo</span>: <span class=\\"hljs-string\\">\\"http://weibo.com/u/5315649743\\"</span>,\\n    <span class=\\"hljs-attribute\\">zhihu</span>: <span class=\\"hljs-string\\">\\"https://www.zhihu.com/people/zhang-rui-wu-50\\"</span>,\\n    <span class=\\"hljs-attribute\\">rss</span>: <span class=\\"hljs-string\\">\\"#\\"</span>\\n  },\\n  <span class=\\"hljs-attribute\\">headerImg</span>: <span class=\\"hljs-string\\">\\"https://xiao555.netlify.com/header.jpg\\"</span>, <span class=\\"hljs-comment\\">// \u5934\u50cf</span>\\n  <span class=\\"hljs-attribute\\">titleTemplate</span>: <span class=\\"hljs-string\\">\\"%s | Xiao555\'s Blog\\"</span>, <span class=\\"hljs-comment\\">// Vue-meta title \u683c\u5f0f</span>\\n}</code></pre>\\n<h5 id=\\"\u8fd0\u884c-1\\">\u8fd0\u884c</h5>\\n<pre><code class=\\"language-bash\\"><span class=\\"hljs-comment\\">// dev</span>\\nnpm <span class=\\"hljs-built_in\\">run</span> dev\\n\\n<span class=\\"hljs-comment\\">// prod</span>\\nnpm <span class=\\"hljs-built_in\\">run</span> build &amp;&amp; npm <span class=\\"hljs-built_in\\">run</span> start\\n<span class=\\"hljs-comment\\">// pm</span>\\nnpm <span class=\\"hljs-built_in\\">run</span> build &amp;&amp; npm <span class=\\"hljs-built_in\\">run</span> pm</code></pre>\\n<h5 id=\\"\u8bf4\u660e-1\\">\u8bf4\u660e</h5>\\n<ul>\\n<li>\u589e\u52a0\u4e86pm script\uff1a<code>&quot;NODE_ENV=production pm2 start server.js --name=&#39;blogClient&#39;&quot;</code>, \u65b9\u4fbf\u90e8\u7f72</li>\\n<li>dev \u6a21\u5f0f\u4e0b\uff0c\u81ea\u52a8\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u652f\u6301\u70ed\u91cd\u8f7d\uff0c\u8dd1\u5728\u672c\u5730<code>8008</code>\u7aef\u53e3</li>\\n<li>prod \u6a21\u5f0f\u8dd1\u5728\u672c\u5730<code>5050</code>\u7aef\u53e3</li>\\n<li>css\u9884\u5904\u7406\u5668\u7528<code>stylus</code>\uff0cwebpack\u9ed8\u8ba4\u6253\u5305<code>/src/assets/css/variables.styl</code>, \u91cc\u9762\u914d\u7f6e\u4e00\u4e9b\u5168\u5c40\u53d8\u91cf</li>\\n<li>\u52a0\u8f7d\u5176\u4ed6\u5b57\u4f53\u6587\u4ef6\u8bf7\u53c2\u8003<code>variables.styl</code>\u91cc\u7684<code>font-face(&#39;Meta&#39;, &#39;FFMetaPro-Normal&#39;, 400)</code>\uff0c\u5b57\u4f53\u6587\u4ef6\u653e\u5728<code>/src/assets/font/</code>\u76ee\u5f55</li>\\n<li>admin\u7ba1\u7406\u540e\u53f0\u901a\u8fc7<code>yoursite.com/admin</code>\u8bbf\u95ee</li>\\n<li>\u7f51\u7ad9icon\u653e\u5728<code>public</code>\u76ee\u5f55\u4e0b\uff0c\u901a\u8fc7<code>server.js</code>\u91cc\u7684<code>app.use(favicon(&#39;./public/header.jpg&#39;))</code>\u5f15\u5165\u3002</li>\\n</ul>\\n<h4 id=\\"\u914d\u7f6e\u670d\u52a1\u5668\\">\u914d\u7f6e\u670d\u52a1\u5668</h4>\\n<h5 id=\\"nginx\\">Nginx</h5>\\n<p>\u5b89\u88c5\u65f6\u5019\u8bb0\u5f97\u8981\u652f\u6301http2\u7684\uff0c\u8c8c\u4f3c\u73b0\u5728\u76f4\u63a5\u5b89\u88c5\u7684\u5df2\u7ecf\u652f\u6301\u4e86\uff1f\\n\u672c\u7ad9\u7684nginx\u914d\u7f6e\uff1a</p>\\n<pre><code><span class=\\"hljs-section\\">server</span> {\\n    <span class=\\"hljs-attribute\\">listen</span> <span class=\\"hljs-number\\">443</span> ssl http2 default_server;\\n    <span class=\\"hljs-attribute\\">server_name</span> xiao555.com.cn www.xiao555.com.cn;\\n\\n    <span class=\\"hljs-attribute\\">ssl</span> <span class=\\"hljs-literal\\">on</span>;\\n    <span class=\\"hljs-attribute\\">ssl_certificate</span> /root/ssl/chained.pem;\\n    <span class=\\"hljs-attribute\\">ssl_certificate_key</span> /root/ssl/domain.key;\\n    <span class=\\"hljs-attribute\\">ssl_session_timeout</span> <span class=\\"hljs-number\\">5m</span>;\\n    <span class=\\"hljs-attribute\\">ssl_protocols</span> TLSv1 TLSv1.<span class=\\"hljs-number\\">1</span> TLSv1.<span class=\\"hljs-number\\">2</span>;\\n    <span class=\\"hljs-attribute\\">ssl_ciphers</span> ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA:ECDHE-RSA-AES128-SHA:DHE-RSA-AES256-SHA:DHE-RSA-AES128-SHA;\\n    <span class=\\"hljs-attribute\\">ssl_session_cache</span> shared:SSL:<span class=\\"hljs-number\\">50m</span>;\\n    <span class=\\"hljs-attribute\\">ssl_dhparam</span> /root/ssl/dhparams.pem;\\n    <span class=\\"hljs-attribute\\">ssl_prefer_server_ciphers</span> <span class=\\"hljs-literal\\">on</span>;\\n\\n    <span class=\\"hljs-attribute\\">index</span> index.php index.html;\\n    <span class=\\"hljs-attribute\\">location</span><span class=\\"hljs-regexp\\"> ^~</span> /api/ {\\n        <span class=\\"hljs-attribute\\">proxy_pass</span> http://localhost:3000;\\n        <span class=\\"hljs-attribute\\">proxy_set_header</span> Host <span class=\\"hljs-variable\\">$host</span>;\\n        <span class=\\"hljs-attribute\\">proxy_set_header</span> X-Real-IP <span class=\\"hljs-variable\\">$remote_addr</span>;\\n        <span class=\\"hljs-attribute\\">proxy_set_header</span> X-Forwarded-For <span class=\\"hljs-variable\\">$proxy_add_x_forwarded_for</span>;\\n        <span class=\\"hljs-attribute\\">proxy_redirect</span> <span class=\\"hljs-literal\\">off</span>;\\n    }\\n\\n    <span class=\\"hljs-attribute\\">location</span><span class=\\"hljs-regexp\\"> ^~</span>  /.well-known/acme-challenge/ {\\n        <span class=\\"hljs-attribute\\">alias</span> /var/www/challenges/;\\n        <span class=\\"hljs-attribute\\">try_files</span> <span class=\\"hljs-variable\\">$uri</span> =<span class=\\"hljs-number\\">404</span>;\\n    }\\n\\n    <span class=\\"hljs-attribute\\">location</span> / {\\n        <span class=\\"hljs-attribute\\">proxy_pass</span> http://localhost:5050;\\n        <span class=\\"hljs-attribute\\">proxy_set_header</span> Host <span class=\\"hljs-variable\\">$host</span>;\\n        <span class=\\"hljs-attribute\\">proxy_set_header</span> X-Real-IP <span class=\\"hljs-variable\\">$remote_addr</span>;\\n        <span class=\\"hljs-attribute\\">proxy_set_header</span> X-Forwarded-For <span class=\\"hljs-variable\\">$proxy_add_x_forwarded_for</span>;\\n        <span class=\\"hljs-attribute\\">proxy_redirect</span> <span class=\\"hljs-literal\\">off</span>;\\n    }\\n}\\n\\n<span class=\\"hljs-section\\">server</span> {\\n    <span class=\\"hljs-attribute\\">listen</span> <span class=\\"hljs-number\\">80</span>;\\n    <span class=\\"hljs-attribute\\">server_name</span> www.xiao555.com.cn xiao555.com.cn;\\n\\n    <span class=\\"hljs-attribute\\">location</span><span class=\\"hljs-regexp\\"> ^~</span> /.well-known/acme-challenge/ {\\n        <span class=\\"hljs-attribute\\">alias</span> /var/www/challenges/;\\n        <span class=\\"hljs-attribute\\">try_files</span> <span class=\\"hljs-variable\\">$uri</span> =<span class=\\"hljs-number\\">404</span>;\\n    }\\n}\\n\\n<span class=\\"hljs-section\\">server</span> {\\n    <span class=\\"hljs-attribute\\">listen</span> <span class=\\"hljs-number\\">80</span>;\\n    <span class=\\"hljs-attribute\\">server_name</span> xiao555.com.cn www.xiao555.com.cn;\\n    <span class=\\"hljs-attribute\\">index</span> index.php index.html;\\n    <span class=\\"hljs-attribute\\">location</span><span class=\\"hljs-regexp\\"> ^~</span> / {\\n        <span class=\\"hljs-attribute\\">rewrite</span><span class=\\"hljs-regexp\\"> ^(.*)$</span>  https://<span class=\\"hljs-variable\\">$host</span><span class=\\"hljs-variable\\">$request_uri</span>;\\n    }\\n}</code></pre><p><code>/usr/local/nginx/conf/nginx.conf</code>\uff0c\u91cc\u5176\u4ed6\u7684\u914d\u7f6e\u90fd\u5220\u6389\u4e86\uff0c\u4f46\u662f\u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48\u8bbf\u95ee80\u7aef\u53e3\u4e0d\u4f1a\u8f6c\u53d1, \u65e0\u5948\u53ea\u597dindex.html\u5f3a\u5236\u5237\u65b0\u7f51\u9875\uff0c\u572880\u7aef\u53e3\u4f1a\u8bbf\u95ee\u5230\u7684html\u91cc\u52a0\u4e0a<code>&lt;meta http-equiv=&quot;refresh&quot; content=&quot;0;url=https://www.xiao555.com.cn/&quot;&gt;</code></p>\\n<h5 id=\\"\u83b7\u53d6-lets-encyrpt-\u8bc1\u4e66\\">\u83b7\u53d6 Let&#39;s Encyrpt \u8bc1\u4e66</h5>\\n<p>\u8fd9\u662f\u4e00\u4e2a\u514d\u8d39\u7684ssl\u8bc1\u4e66\uff0c\u901a\u8fc7<a href=\\"https://github.com/diafygi/acme-tiny\\">acme-tiny</a>\u811a\u672c\u81ea\u52a8\u5316\u83b7\u53d6, \u7b80\u5355\u8bf4\u4e00\u4e0b\u6b65\u9aa4\uff1a</p>\\n<ol>\\n<li><p>\u521b\u5efa\u5e10\u53f7\\n \u9996\u5148\u521b\u5efa\u4e00\u4e2a\u76ee\u5f55\u7528\u6765\u653e\u751f\u6210\u7684\u5404\u79cd\u4e1c\u897f\uff0c\u6211\u662f\u5728<code>~/ssl</code>\u76ee\u5f55\u4e0b\u3002\u521b\u5efa\u4e00\u4e2a RSA \u79c1\u94a5\u7528\u4e8e Let&#39;s Encrypt \u8bc6\u522b\u4f60\u7684\u8eab\u4efd\uff1a</p>\\n<pre><code> openssl genrsa <span class=\\"hljs-number\\">4096</span> &gt; account.<span class=\\"hljs-type\\">key</span></code></pre></li>\\n<li><p>\u521b\u5efa CSR \u6587\u4ef6\\n\u751f\u6210 CSR\uff08Certificate Signing Request\uff0c\u8bc1\u4e66\u7b7e\u540d\u8bf7\u6c42\uff09\u6587\u4ef6\uff1a</p>\\n<pre><code>openssl genrsa <span class=\\"hljs-number\\">4096</span> &gt; <span class=\\"hljs-built_in\\">domain</span>.<span class=\\"hljs-built_in\\">key</span>\\nopenssl req -<span class=\\"hljs-built_in\\">new</span> -sha256 -<span class=\\"hljs-built_in\\">key</span> <span class=\\"hljs-built_in\\">domain</span>.<span class=\\"hljs-built_in\\">key</span> -subj <span class=\\"hljs-string\\">\\"/CN=yoursite.com\\"</span> &gt; <span class=\\"hljs-built_in\\">domain</span>.csr</code></pre></li>\\n<li><p>\u914d\u7f6e\u9a8c\u8bc1\u670d\u52a1\\n \u521b\u5efa\u5efa\u7528\u4e8e\u5b58\u653e\u9a8c\u8bc1\u6587\u4ef6\u7684\u76ee\u5f55\uff1a</p>\\n<pre><code> mkdir -p <span class=\\"hljs-regexp\\">/var/</span>www<span class=\\"hljs-regexp\\">/challenges/</span></code></pre><p> \u914d\u7f6e\u670d\u52a1\u5668(Nginx\u4e3a\u4f8b)\uff1a</p>\\n<pre><code> #example <span class=\\"hljs-keyword\\">for</span> nginx\\n<span class=\\"hljs-built_in\\"> server </span>{\\n     listen 80;\\n     server_name yoursite.com www.yoursite.com;\\n\\n     location /.well-known/acme-challenge/ {\\n         alias /var/www/challenges/;\\n         try_files <span class=\\"hljs-variable\\">$uri</span> =404;\\n     }\\n\\n     <span class=\\"hljs-built_in\\">..</span>.the rest of your<span class=\\"hljs-built_in\\"> config\\n</span> }</code></pre><p> \u4e5f\u53ef\u4ee5\u770b\u6211nginx\u7684\u914d\u7f6e\uff0c\u4e3b\u8981\u5c31\u662f\u8bbf\u95ee<code>/.well-known/acme-challenge/</code>\u7684\u65f6\u5019\u80fd\u8bbf\u95ee\u5230<code>/var/www/challenges/</code>\u76ee\u5f55</p>\\n</li>\\n<li><p>\u83b7\u53d6\u7f51\u7ad9\u8bc1\u4e66\\n \u5148\u4e0b\u8f7d acme-tiny \u811a\u672c\uff1a</p>\\n<pre><code> wget https:<span class=\\"hljs-regexp\\">//</span>raw.githubusercontent.com<span class=\\"hljs-regexp\\">/diafygi/</span>acme-tiny<span class=\\"hljs-regexp\\">/master/</span>acme_tiny.py</code></pre><p> \u6307\u5b9a\u8d26\u6237\u79c1\u94a5\u3001CSR \u4ee5\u53ca\u9a8c\u8bc1\u76ee\u5f55\uff0c\u6267\u884c\u811a\u672c\uff1a</p>\\n<pre><code> python acme_tiny.py <span class=\\"hljs-params\\">--account-key</span> <span class=\\"hljs-string\\">./account.key</span> <span class=\\"hljs-params\\">--csr</span> <span class=\\"hljs-string\\">./domain.csr</span> <span class=\\"hljs-params\\">--acme-dir</span> <span class=\\"hljs-string\\">/var/www/challenges/</span> &gt; <span class=\\"hljs-string\\">./signed.crt</span></code></pre><p> \u4e0b\u8f7d Let&#39;s Encrypt \u7684\u4e2d\u95f4\u8bc1\u4e66\uff1a</p>\\n<pre><code class=\\"language-bash\\"> wget -O - https:<span class=\\"hljs-comment\\">//letsencrypt.org/certs/lets-encrypt-x3-cross-signed.pem &gt; intermediate.pem</span>\\n\\n   cat signed<span class=\\"hljs-selector-class\\">.crt</span> intermediate<span class=\\"hljs-selector-class\\">.pem</span> &gt; chained.pem</code></pre>\\n</li>\\n<li><p>Nginx \u914d\u7f6e</p>\\n<pre><code><span class=\\"hljs-built_in\\"> server </span>{\\n     listen 443;\\n     server_name yoursite.com, www.yoursite.com;\\n\\n     ssl on;\\n     ssl_certificate /path/<span class=\\"hljs-keyword\\">to</span>/chained.pem;\\n     ssl_certificate_key /path/<span class=\\"hljs-keyword\\">to</span>/domain.key;\\n     ssl_session_timeout 5m;\\n     ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\\n     ssl_ciphers ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA:ECDHE-RSA-AES128-SHA:DHE-RSA-AES256-SHA:DHE-RSA-AES128-SHA;\\n     ssl_session_cache shared:SSL:50m;\\n     # openssl dhparam -out dhparams.pem 2048\\n     ssl_dhparam /path/<span class=\\"hljs-keyword\\">to</span>/dhparams.pem;\\n     ssl_prefer_server_ciphers on;\\n\\n     <span class=\\"hljs-built_in\\">..</span>.the rest of your<span class=\\"hljs-built_in\\"> config\\n</span> }\\n\\n<span class=\\"hljs-built_in\\"> server </span>{\\n     listen 80;\\n     server_name yoursite.com, www.yoursite.com;\\n\\n     location /.well-known/acme-challenge/ {\\n         alias /var/www/challenges/;\\n         try_files <span class=\\"hljs-variable\\">$uri</span> =404;\\n     }\\n\\n     <span class=\\"hljs-built_in\\">..</span>.the rest of your<span class=\\"hljs-built_in\\"> config\\n</span> }</code></pre><p> \u90a3\u4e2adhparams.pem\u662f\u589e\u5f3a\u5b89\u5168\u6027\u7684\uff0c\u7528<code>openssl dhparam -out dhparams.pem 2048</code>\u751f\u6210\u5c31\u53ef\u4ee5</p>\\n</li>\\n<li><p>\u914d\u7f6e\u811a\u672c\u81ea\u52a8\u66f4\u65b0\\nLet&#39;s Encrypt \u7b7e\u53d1\u7684\u8bc1\u4e66\u53ea\u6709 90 \u5929\u6709\u6548\u671f\uff0c\u6240\u4ee5\u521b\u5efa\u4e00\u4e2a\u811a\u672c\u81ea\u52a8\u66f4\u65b0</p>\\n<pre><code><span class=\\"hljs-comment\\"># renew_cert.sh</span>\\ncd ~<span class=\\"hljs-regexp\\">/ssl/</span>\\npython acme_tiny.py --account-key account.key --csr domain.csr --acme-dir <span class=\\"hljs-regexp\\">/var/</span>www<span class=\\"hljs-regexp\\">/challenges/</span> &gt; signed.crt || <span class=\\"hljs-keyword\\">exit</span>\\nwget -O - https:<span class=\\"hljs-regexp\\">//</span>letsencrypt.org<span class=\\"hljs-regexp\\">/certs/</span>lets-encrypt-x3-cross-signed.pem &gt; intermediate.pem\\ncat signed.crt intermediate.pem &gt; chained.pem\\nnginx -s reload</code></pre><p>\u901a\u8fc7 <code>chmod a+x renew_cert.sh</code> \u8d4b\u4e88\u6267\u884c\u6743\u9650\u3002\\n<code>crontab -e</code>\u52a0\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a</p>\\n<pre><code><span class=\\"hljs-symbol\\">0 </span><span class=\\"hljs-number\\">0</span> <span class=\\"hljs-number\\">1</span> * * ~/ssl/renew_cert.sh &gt;/dev/null <span class=\\"hljs-number\\">2</span>&gt;&amp;<span class=\\"hljs-number\\">1</span></code></pre><p>\u8fd9\u6837\u4ee5\u540e\u8bc1\u4e66\u6bcf\u4e2a\u6708\u90fd\u4f1a\u81ea\u52a8\u66f4\u65b0</p>\\n</li>\\n</ol>\\n<h3 id=\\"\u66f4\u65b0\u65e5\u5fd7\\">\u66f4\u65b0\u65e5\u5fd7</h3>\\n<p>\u4e4b\u524d\u505a\u7684\u65f6\u5019\u6ca1\u6709\u8bb0\u5f55\uff0c\u6240\u4ee5\u8bf4\u4e00\u4e0b\u5927\u4f53\u6d41\u7a0b\u5427\u3002\\n\u8fd9\u4e2a\u9879\u76ee\u662f\u4ece\u670d\u52a1\u7aef\u5f00\u59cb\u5f00\u53d1\u7684\uff0c\u5148\u662f\u8981\u642d\u5efa\u4e00\u4e2aRESTful API\u7684\u670d\u52a1\u5668\uff0c\u7528Mocha + chai \u6d4b\u8bd5\u529f\u80fd\u3002\\n\u540e\u7aef\u529f\u80fd\u5b9e\u73b0\u540e\uff0c\u5f00\u59cb\u641e\u524d\u7aef\uff0c\u4e00\u5f00\u59cb\u662f\u7528vue-cli\u642d\u7684\u811a\u624b\u67b6\uff0c\u800c\u4e14admin\u8ddfclient\u662f\u5206\u5f00\u76f8\u4e92\u72ec\u7acb\u7684\uff0c\u5148\u5f00\u53d1\u7684admin\uff0c\u6700\u540e\u662fclient\u3002\\n\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u5bf9<code>build</code>\u76ee\u5f55\u4e0b\u7684webpack\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u4e86\u5f88\u591a\u6b21\uff0c\u7ed3\u5408<code>vue-hackernews-2.0</code>\u52a0\u5165\u4e86\u670d\u52a1\u7aef\u6e32\u67d3\u7684\u529f\u80fd\uff0c\u5e76\u53bb\u6389\u4e86dev\u5f00\u53d1\u6a21\u5f0f\u7684\u914d\u7f6e\u3002\\n\u968f\u7740\u524d\u7aef\u529f\u80fd\u7684\u589e\u591a\u4e5f\u5728\u4e0d\u65ad\u4fee\u6539\u540e\u7aef\u903b\u8f91\uff0c\u6700\u7ec8\u5f62\u6210\u4e86beta\u7248\u672c\u2014\u2014<a href=\\"https://github.com/xiao555/New-Blog/tree/c8b6e2d909f284d10a484272ac215043978900ed\\">github</a>, \u540e\u9762\u56e0\u4e3a\u5176\u4ed6\u4e8b\u60c5\u5c31\u6ca1\u518d\u641e\u3002</p>\\n<p>\u5728\u8003\u5b8cjava\u548c\u7b97\u6cd5\u4e4b\u540e\uff0c\u82b1\u4e86\u4e24\u4e09\u5929\u624d\u628a\u4e4b\u524d\u7684\u534a\u6210\u54c1\u5b8c\u5584\u4e86\u4e00\u4e0b\uff0c\u6539\u52a8\u5982\u4e0b\uff1a</p>\\n<ul>\\n<li>\u6539\u4e3a\u6bd4\u8f83\u6b63\u5e38sidebar</li>\\n<li>\u53d6\u6d88\u9876\u90e8\u5bfc\u822a\u83dc\u5355</li>\\n<li>markdown\u6e32\u67d3\u5f03\u7528vue-markdown\uff0c\u81ea\u5df1\u7528marked + highlight.js + uslug \u6253\u9020\u4e00\u4e2a\u8bed\u6cd5\u9ad8\u4eae\uff0c\u80fd\u81ea\u52a8\u751f\u6210toc\u7684\u7ec4\u4ef6</li>\\n<li>\u53d6\u6d88\u4e86category\u548ctag\u9875\u9762\uff0c\u589e\u52a0archive\u9875\u9762</li>\\n<li>\u6784\u5efa\u5de5\u5177\u4e0a\u5207\u6362\u56dedev\u6a21\u5f0f\uff0c\u6bd5\u7adf\u8fd8\u8981\u8fb9\u6539\u8fb9\u770b\u6548\u679c</li>\\n</ul>\\n<h4 id=\\"201767\\">2017.6.7</h4>\\n<ul>\\n<li>\u5b9e\u73b0Archive\u9875\u9762\u903b\u8f91</li>\\n<li>\u6d4b\u8bd5production\u73af\u5883\u4e0bbuild &amp; start \u5931\u8d25\uff0c\u53ea\u6709\u5916\u90e8css\uff0c\u6ca1\u6709\u7ec4\u4ef6\u5185css\uff0c\u539f\u56e0\u662f\u90fd\u7528<code>extract-text-webpack-plugin</code> \u5355\u72ec\u6253\u5305\u5230<code>style.css</code>\uff0c\u5916\u90e8css\u628a\u7ec4\u4ef6\u5185\u7684\u8986\u76d6\u6389\u4e86\uff0c\u89e3\u51b3\u529e\u6cd5\uff1a\u67e5\u8be2\u6587\u6863\uff0c\u7528<code>const extractCSS = new ExtractTextPlugin(&#39;css/[name].css&#39;);</code>\u6765\u5b9e\u73b0Multiple Instances\u3002</li>\\n<li>\u7528<code>vue-meta</code>\u5b9e\u73b0title\u7684\u81ea\u52a8\u66f4\u65b0\uff0c\u540c\u65f6\u670d\u52a1\u7aef<code>server.js</code>\u4e5f\u8981\u8fdb\u884c\u76f8\u5e94\u7684\u4fee\u6539\uff0c\u4f18\u5316SEO</li>\\n</ul>\\n<h4 id=\\"201768\\">2017.6.8</h4>\\n<ul>\\n<li>\u589e\u52a0\u54cd\u5e94\u5f0f\u5e03\u5c40</li>\\n<li>\u670d\u52a1\u5668\u4e0a\u8dd1\u4e86\u4e0b\uff0c\u4fee\u590d\u4e86\u90e8\u5206\u4f9d\u8d56\u6ca1\u6709\u7684\u95ee\u9898</li>\\n<li>\u53d1\u73b0admin\u548cclient\u5206\u5f00\u7684\u8bdd\uff0c\u90e8\u7f72\u8fd0\u884c\u90fd\u8981\u5404\u8dd1\u4e00\u904d\uff0c\u592a\u9ebb\u70e6\uff0c\u4e8e\u662fadmin\u5408\u5e76\u5230client\uff0c\u91cd\u6784\u540e\u7684client\u7531blog\u548cadmin\u7ec4\u6210\uff0c\u4e5f\u7b97\u540c\u6784\u4e86\u4e00\u4e0b</li>\\n<li>\u6bcf\u4e2a\u8fc7\u7a0b\u90fd\u5728\u4e0d\u65ad\u7684\u4f18\u5316\u4ee3\u7801\u7ed3\u6784\uff0c\u660e\u5929\u628a\u4e00\u4e9b\u914d\u7f6e\u9879\u6574\u5408\u51fa\u6765\uff0c\u7edf\u4e00\u7ba1\u7406</li>\\n</ul>\\n<h4 id=\\"2017612\\">2017.6.12</h4>\\n<p>\u8fd9\u4e24\u5929\u592a\u6d6a\u4e86~</p>\\n<ul>\\n<li>\u589e\u52a0\u6587\u7ae0\u9605\u8bfb\u8ba1\u6570\u529f\u80fd</li>\\n<li>\u914d\u7f6e\u9879\u7edf\u4e00\u5728 <code>config/index.js</code> \u91cc</li>\\n<li>\u90e8\u7f72\u540e\u53d1\u73b0https\u56fe\u6807\u4e0d\u662f\u7eff\u8272\u7684\uff0c\u4ee5\u4e3a\u6211\u7684\u514d\u8d39Let&#39;s Encrypt \u8bc1\u4e66\u6709\u95ee\u9898...\u6700\u540e\u641e\u4e86\u534a\u5929\u53d1\u73b0\u662f\u56e0\u4e3a\u6709http\u7684\u56fe\u7247\u5916\u94fe\uff0c\u56fe\u7247\u4e4b\u524d\u653e\u5728\u4e03\u725b\u4e0a\u7684\uff0c\u6253\u7b97\u670d\u52a1\u5668\u4e0a\u641e\u4e00\u6ce2\uff0c\u518d\u770b\u770b\u6709\u6ca1\u6709\u4ec0\u4e48\u597d\u7684\u652f\u6301https\u7684CDN</li>\\n<li>\u8c03\u8bd5\u670d\u52a1\u5668\u8fc7\u7a0b\u4e2d\u53d1\u73b0\u6211\u7684\u7f51\u9875\u52a0\u8f7d\u6709\u70b9\u6162\uff0c\u4e3b\u8981\u662f\u751f\u6210\u7684<code>app.js</code>\u592a\u5927\u4e86\uff0c\u67091M\u591a\uff0c\u540e\u9762\u53ef\u4ee5\u4f18\u5316\u4e00\u4e0b\uff0c\u51cf\u5c11\u4f9d\u8d56\u5e93\u7684\u4f7f\u7528\uff0c\u53d1\u73b0\u4e00\u4e2a<code>highlight.js</code>\u5c31\u5360\u4e86\u4e09\u56db\u767eK\u3002</li>\\n</ul>\\n<p>\u6240\u4ee5\u540e\u9762\u4e3b\u8981\u4efb\u52a1\u662f\u89e3\u51b3\u4e00\u4e0bhttp\u5916\u94fe\u7684\u95ee\u9898\uff0c\u4f18\u5316\u4e00\u4e0b\u6027\u80fd\u3002</p>\\n<ul>\\n<li>\u5916\u94fe\u95ee\u9898\u89e3\u51b3\u4e86\uff0c\u7528\u7684<a href=\\"https://www.netlify.com/\\">netlify</a>\uff0c\u53ef\u4ee5\u76f4\u63a5\u5bfc\u5165github\u7684repo\uff0c\u5f88\u65b9\u4fbf\uff0c\u5c31\u662f\u56fd\u5916\u7684\u6709\u70b9\u6162</li>\\n</ul>\\n<h4 id=\\"2017722\\">2017.7.22</h4>\\n<p>\u8d81\u5468\u672b\u5728\u516c\u53f8\u505a\u4e9b\u81ea\u5df1\u7684\u4e8b23333\\n\u4e4b\u524d\u5206\u6790\u4e86\u63d0\u9ad8\u6027\u80fd\u7684\u4e00\u4e9b\u65b9\u6cd5\uff0c\u4e3b\u8981\u662f\u51cf\u5c11\u6253\u5305\u751f\u6210\u7684app.js\u7684\u4f53\u79ef\uff0c\u8fd9\u6b21\u66f4\u65b0\u524d\u8fd0\u884c<code>npm run build</code>\u7684\u7ed3\u679c\u662f\u8fd9\u6837\u7684\uff1a</p>\\n<pre><code class=\\"language-bash\\">Total precache size <span class=\\"hljs-keyword\\">is</span> about <span class=\\"hljs-number\\">2.75</span> MB <span class=\\"hljs-keyword\\">for</span> <span class=\\"hljs-number\\">12</span> resources.\\nHash: <span class=\\"hljs-number\\">8</span>a46e668ed80f8d7a493\\nVersion: webpack <span class=\\"hljs-number\\">2.6</span><span class=\\"hljs-number\\">.1</span>\\nTime: <span class=\\"hljs-number\\">32802</span>ms\\n                                         Asset       Size  Chunks                    Chunk Names\\n    static/fonts/FFMetaPro-Normal.ec7ccf1.woff    <span class=\\"hljs-number\\">71.7</span> kB          [emitted]\\n    static/img/fontawesome-webfont<span class=\\"hljs-number\\">.912</span>ec66.svg     <span class=\\"hljs-number\\">444</span> kB          [emitted]  [big]\\n  static/fonts/fontawesome-webfont.b06871f.ttf     <span class=\\"hljs-number\\">166</span> kB          [emitted]\\nstatic/fonts/fontawesome-webfont.af7ae50.woff2    <span class=\\"hljs-number\\">77.2</span> kB          [emitted]\\n static/fonts/fontawesome-webfont.fee66e7.woff      <span class=\\"hljs-number\\">98</span> kB          [emitted]\\n       static/img/FFMetaPro-Normal<span class=\\"hljs-number\\">.5</span>d836bf.svg    <span class=\\"hljs-number\\">2.12</span> MB          [emitted]  [big]\\n     static/fonts/FFMetaPro-Normal<span class=\\"hljs-number\\">.4</span>eebf0c.eot     <span class=\\"hljs-number\\">200</span> kB          [emitted]\\n     static/fonts/FFMetaPro-Normal<span class=\\"hljs-number\\">.3767f</span>35.ttf     <span class=\\"hljs-number\\">199</span> kB          [emitted]\\n  static/fonts/fontawesome-webfont<span class=\\"hljs-number\\">.674f</span>50d.eot     <span class=\\"hljs-number\\">166</span> kB          [emitted]\\n                                        app.js    <span class=\\"hljs-number\\">1.27</span> MB       <span class=\\"hljs-number\\">0</span>  [emitted]  [big]  app\\n                                     vendor.js  <span class=\\"hljs-number\\">810</span> bytes       <span class=\\"hljs-number\\">1</span>  [emitted]         vendor\\n                                      style.js  <span class=\\"hljs-number\\">263</span> bytes       <span class=\\"hljs-number\\">2</span>  [emitted]         style\\n                                   manifest.js    <span class=\\"hljs-number\\">1.39</span> kB       <span class=\\"hljs-number\\">3</span>  [emitted]         manifest\\n                                   css/app.css    <span class=\\"hljs-number\\">27.5</span> kB       <span class=\\"hljs-number\\">0</span>  [emitted]         app\\n                                 css/style.css    <span class=\\"hljs-number\\">39.1</span> kB       <span class=\\"hljs-number\\">2</span>  [emitted]         style\\n                                    index.html    <span class=\\"hljs-number\\">1.26</span> kB          [emitted]\\n\\n&gt; <span class=\\"hljs-symbol\\">client@</span><span class=\\"hljs-number\\">1.0</span><span class=\\"hljs-number\\">.0</span> build:server /var/www/New-Blog/client\\n&gt; cross-env NODE_ENV=production webpack --config build/webpack.server.config.js --progress --hide-modules\\n\\nHash: c1685fd6bd9a9bb148a6\\nVersion: webpack <span class=\\"hljs-number\\">2.6</span><span class=\\"hljs-number\\">.1</span>\\nTime: <span class=\\"hljs-number\\">9352</span>ms\\n              Asset     Size  Chunks                    Chunk Names\\nvue-ssr-bundle.json  <span class=\\"hljs-number\\">1.72</span> MB          [emitted]  [big]</code></pre>\\n<p>\u53ef\u4ee5\u770b\u5230\u4e00\u4e2aapp.js\u5c31\u5360\u4e861.27MB, \u6b64\u65f6\u7f51\u9875\u52a0\u8f7d\u7684\u60c5\u51b5\u662f\u8fd9\u6837\u7684:\\n<img src=\\"https://xiao555.netlify.com/preyouhua.jpg\\" alt=\\"\\">\\n\u7136\u540e\u6211\u770b\u4e86\u4e00\u4e0b\u522b\u4eba\u7684app.js\uff0c\u538b\u7f29\u540e\u57fa\u672c\u90fd\u662f\u51e0\u5341k\u5927\u5c0f\uff0c\u800c\u6211\u662f\u51e0\u767ek\uff0c\u6240\u4ee5app.js\u7684\u5927\u5c0f\u662f\u4e00\u4e2a\u4f18\u5316\u70b9\uff0c\u5728\u5206\u6790\u4e86\u4e3a\u4f55app.js\u8fd9\u4e48\u5927\u540e\uff0c\u6211\u8fdb\u884c\u4e86\u5982\u4e0b\u4f18\u5316\uff1a</p>\\n<ul>\\n<li>\u51cf\u5c11\u5bf9\u8fd9\u4e9b\u5e93\u7684\u4f9d\u8d56\uff0c&#39;marked&#39;,&#39;highlight.js&#39;,&#39;uslug&#39;, &#39;vuejs-datepicker&#39;, &#39;Vuex&#39;</li>\\n<li>markdown \u6e32\u67d3\u653e\u5728server\u7aef\u8fdb\u884c\uff0carticle Model\u589e\u52a0\u5b58\u653emarkdown\u7684\u5b57\u6bb5\uff0c\u5bf9\u6570\u636e\u5e93\u4e2d\u7684\u65e7\u6570\u636e\u521b\u5efaMigration\u811a\u672c</li>\\n</ul>\\n<p>\u4f18\u5316\u540e\u8fd0\u884c<code>npm run build</code>\u7684\u7ed3\u679c\u662f\u8fd9\u6837\u7684\uff1a</p>\\n<pre><code class=\\"language-bash\\">Total precache size <span class=\\"hljs-keyword\\">is</span> about <span class=\\"hljs-number\\">1.63</span> MB <span class=\\"hljs-keyword\\">for</span> <span class=\\"hljs-number\\">12</span> resources.\\nHash: <span class=\\"hljs-number\\">85</span>db4cfa5f72482c3c59\\nVersion: webpack <span class=\\"hljs-number\\">2.3</span><span class=\\"hljs-number\\">.0</span>\\nTime: <span class=\\"hljs-number\\">10386</span>ms\\n                                         Asset       Size  Chunks                    Chunk Names\\n                                        app.js     <span class=\\"hljs-number\\">203</span> kB       <span class=\\"hljs-number\\">0</span>  [emitted]         app\\n    static/img/fontawesome-webfont<span class=\\"hljs-number\\">.912</span>ec66.svg     <span class=\\"hljs-number\\">444</span> kB          [emitted]  [big]\\n  static/fonts/fontawesome-webfont.b06871f.ttf     <span class=\\"hljs-number\\">166</span> kB          [emitted]\\nstatic/fonts/fontawesome-webfont.af7ae50.woff2    <span class=\\"hljs-number\\">77.2</span> kB          [emitted]\\n static/fonts/fontawesome-webfont.fee66e7.woff      <span class=\\"hljs-number\\">98</span> kB          [emitted]\\n       static/img/FFMetaPro-Normal<span class=\\"hljs-number\\">.5</span>d836bf.svg    <span class=\\"hljs-number\\">2.12</span> MB          [emitted]  [big]\\n     static/fonts/FFMetaPro-Normal<span class=\\"hljs-number\\">.4</span>eebf0c.eot     <span class=\\"hljs-number\\">200</span> kB          [emitted]\\n     static/fonts/FFMetaPro-Normal<span class=\\"hljs-number\\">.3767f</span>35.ttf     <span class=\\"hljs-number\\">199</span> kB          [emitted]\\n    static/fonts/FFMetaPro-Normal.ec7ccf1.woff    <span class=\\"hljs-number\\">71.7</span> kB          [emitted]\\n  static/fonts/fontawesome-webfont<span class=\\"hljs-number\\">.674f</span>50d.eot     <span class=\\"hljs-number\\">166</span> kB          [emitted]\\n                                     vendor.js  <span class=\\"hljs-number\\">810</span> bytes       <span class=\\"hljs-number\\">1</span>  [emitted]         vendor\\n                                      style.js  <span class=\\"hljs-number\\">253</span> bytes       <span class=\\"hljs-number\\">2</span>  [emitted]         style\\n                                   manifest.js    <span class=\\"hljs-number\\">1.38</span> kB       <span class=\\"hljs-number\\">3</span>  [emitted]         manifest\\n                                   css/app.css    <span class=\\"hljs-number\\">22.1</span> kB       <span class=\\"hljs-number\\">0</span>  [emitted]         app\\n                                 css/style.css    <span class=\\"hljs-number\\">39.2</span> kB       <span class=\\"hljs-number\\">2</span>  [emitted]         style\\n                               css/app.css.map    <span class=\\"hljs-number\\">29.6</span> kB       <span class=\\"hljs-number\\">0</span>  [emitted]         app\\n                             css/style.css.map    <span class=\\"hljs-number\\">36.1</span> kB       <span class=\\"hljs-number\\">2</span>  [emitted]         style\\n                                    index.html    <span class=\\"hljs-number\\">1.23</span> kB          [emitted]\\n\\n&gt; <span class=\\"hljs-symbol\\">client@</span><span class=\\"hljs-number\\">1.0</span><span class=\\"hljs-number\\">.0</span> build:server /Users/zhangruiwu/Desktop/demo-learn/newBlog/client\\n&gt; cross-env NODE_ENV=production webpack --config build/webpack.server.config.js --progress --hide-modules\\n\\nHash: <span class=\\"hljs-number\\">5</span>b9d7f18053508c4e7a5\\nVersion: webpack <span class=\\"hljs-number\\">2.3</span><span class=\\"hljs-number\\">.0</span>\\nTime: <span class=\\"hljs-number\\">4008</span>ms\\n              Asset    Size  Chunks                    Chunk Names\\nvue-ssr-bundle.json  <span class=\\"hljs-number\\">556</span> kB          [emitted]  [big]</code></pre>\\n<p>\u6548\u679c\u663e\u8457\uff0c\u53ef\u4ee5\u770b\u5230\u603b\u5927\u5c0f\u75312.75 MB\u51cf\u5c0f\u76841.63 MB\uff0c app.js\u75311.27 MB\u51cf\u5c0f\u5230203 kB\uff0c vue-ssr-bundle.json\u4e5f\u4ece1.72 MB\u51cf\u5c0f\u5230556 kB\u3002\u6211\u4eec\u518d\u770b\u770b\u90e8\u7f72\u5230\u670d\u52a1\u5668\u540e\u7f51\u9875\u52a0\u8f7d\u60c5\u51b5\uff1a\\n<img src=\\"https://xiao555.netlify.com/afteryouhua.jpg\\" alt=\\"\\">\\n\u6548\u679c\u663e\u8457\u6709\u6ca1\u6709\uff0cLoad\u4ece4.15s\u51cf\u5c0f\u5230\u4e861.31s\uff0c\u5982\u679c\u518d\u8981\u4f18\u5316\u7684\u8bdd\uff0c\u5176\u5b9e\u4e5f\u5c31\u662f\u51cf\u5c11\u8bf7\u6c42\u6570\uff0c\u7136\u540e\u4f18\u5316\u4e00\u4e0b\u5934\u50cf\u7684\u5904\u7406\uff0c\u60f3\u5230\u4e24\u79cd\u65b9\u6848\uff0c\u4e00\u79cd\u6362\u6210base64\uff0c\u7ed3\u679c\u53d1\u73b0app.js\u53d8\u5927\u4e86\u8bb8\u591a\uff0c\u7f16\u7801\u6709\u70b9\u591a\u3002\u7b2c\u4e8c\u79cd\u6362\u6210webp\u683c\u5f0f\uff0c\u6548\u679c\u5982\u4e0b\uff1a\\n<img src=\\"https://xiao555.netlify.com/afterwebp.jpg\\" alt=\\"\\">\\n\u52a0\u8f7d\u901f\u5ea6\u51cf\u5c0f\u76841s\u4ee5\u5185\u4e86\u3002</p>\\n<p>\u540e\u9762\u518d\u8be5\u5408\u5e76\u7684\u5408\u5e76\uff0ccdn\u7684cdn\uff0c\u9996\u5c4f\u52a0\u8f7d\u6027\u80fd\u65b9\u9762\u7684\u95ee\u9898\u5c31\u57fa\u672c\u89e3\u51b3\u7684\u5dee\u4e0d\u591a\u4e86\u3002\u5148\u7761\u89c9\u4e86==\uff01</p>\\n<h4 id=\\"2017827\\">2017.8.27</h4>\\n<p>\u5bf9client\u90e8\u5206\u8fdb\u884c\u4e86\u4e00\u6b21\u91cd\u6784\uff0c\u53c2\u8003\u6700\u65b0\u7684<a href=\\"https://github.com/vuejs/vue-hackernews-2.0\\">vue-hackernews-2.0</a>\uff0c\u5f88\u591amodule\u90fd\u5347\u7ea7\u4e86\u51e0\u4e2a\u5c0f\u7248\u672c\uff0c\u529f\u80fd\u4e5f\u8d8a\u6765\u8d8a\u591a\uff0c\u4e00\u4e9b\u529f\u80fd\u4e5f\u51fa\u73b0\u4e86\u4e00\u4e9b\u65b0\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002</p>\\n<p>preFetch \u53d8\u6210\u4e86 asyncData\uff0c\u4e4b\u524d\u7684\u7248\u672c\u6211\u628apreFetch\u53bb\u6389\u4e86\uff0c\u540e\u6765\u611f\u89c9\u8fd9\u6837\u4f1a\u5f71\u54cd\u7ec4\u4ef6\u52a0\u8f7d\u901f\u5ea6\u5427\uff0c\u611f\u89c9\u4e0d\u59a5\u3002\u6240\u4ee5\u8fd9\u6b21\u628aasyncData\u548cvuex\u90fd\u91cd\u65b0\u542f\u7528\u3002\u4e3a\u4ec0\u4e48\u8981\u542f\u7528vuex\u5462\uff0c\u56e0\u4e3a\u4e2a\u4eba\u611f\u89c9asyncData\u662f\u9700\u8981\u9760\u4e00\u4e2a\u5168\u5c40\u5bf9\u8c61\u6765\u4fdd\u5b58\u72b6\u6001\u6216\u8005\u8bf4\u662f\u6570\u636e\u7684\uff0c\u8981\u81ea\u5df1\u5b9e\u73b0\u8fd8\u4e0d\u5982\u76f4\u63a5\u7528vuex...\u800c\u4e14\u65b0\u7248\u672cwebpack\u6253\u5305\u8d77\u6765\u5927\u5c0f\u6bd4\u4ee5\u524d\u5c0f\u4e86\u597d\u591a\u597d\u591a\uff0c\u591a\u4e00\u4e2avuex\u4e0d\u4f1a\u5f71\u54cdapp.js\uff0c\u4f1a\u6253\u5305\u5230vendor\u91cc\u3002\u6253\u5305\u540e\u7684\u7ec4\u4ef6\u90e8\u5206js\u662f\u5206\u6210\u82e5\u5e72\u4e2a\u6587\u4ef6\u6309\u9700\u52a0\u8f7d\uff0c\u4e5f\u5206\u62c5\u4e86app.js\u7684\u5927\u5c0f\u3002</p>\\n<ul>\\n<li>\u91cd\u65b0\u542f\u7528vuex\uff0c\u63a2\u7d22\u4e86\u4e00\u4e0b\u6570\u636e\u83b7\u53d6\u7684\u65b9\u5f0f\uff0c\u6700\u540e\u8fd8\u662f\u52a0\u5165\u4e86asyncData\u5f02\u6b65\u52a0\u8f7d\u3002</li>\\n<li>\u52a0\u5165\u4e86\u6587\u7ae0\u5217\u8868\u5206\u9875\u529f\u80fd\uff0c\u867d\u7136\u73b0\u5728\u53ea\u6709\u4e00\u9875</li>\\n<li>\u7cbe\u7b80\u4f18\u5316webpack\u914d\u7f6e\u6587\u4ef6</li>\\n<li>\u65b0\u7684title\u673a\u5236</li>\\n<li>\u9876\u90e8\u8fdb\u5ea6\u6761</li>\\n<li>font-awesome\u5b57\u4f53\u6587\u4ef6\u6539\u4e3aCDN\u5f15\u5165</li>\\n</ul>\\n<h4 id=\\"2017831\\">2017.8.31</h4>\\n<p>\u4e0aDocker\uff01\uff01\uff01Node.js, MongoDB, Redis\u4e09\u90e8\u5206\u5404\u4e00\u4e2a\u5bb9\u5668\uff0c\u672c\u6765\u8fd8\u7528Nginx,\u4f46\u662f\u6d89\u53ca\u5230https\u8bc1\u4e66\u4ec0\u4e48\u7684\u597d\u9ebb\u70e6\uff0c\u8981\u8fc1\u79fb\u7684\u8bdd\u53cd\u800c\u9ebb\u70e6\uff0c\u6240\u4ee5\u9664\u4e86\u4e0a\u9762\u90a3\u4e09\u90e8\u5206\u53ef\u4ee5\u968f\u65f6\u968f\u5730\u8dd1\uff0cnginx\u5c31\u5355\u72ec\u914d\u7f6e\u5427\u3002</p>\\n<h3 id=\\"todo\\">TODO</h3>\\n<ul>\\n<li>\u8bc4\u8bba\u533a</li>\\n<li>\u7ba1\u7406\u540e\u53f0\u754c\u9762\u4f18\u5316\uff0c\u76ee\u524d\u662f\u4effWordPress</li>\\n<li>\u91cd\u6784\uff0c\u6539\u6210\u540c\u6784Web\u5e94\u7528</li>\\n<li>\u670d\u52a1\u5668\u7aef\uff08\u817e\u8baf\u4e91\uff09\u7684\u4f18\u5316</li>\\n<li>\u6570\u636e\u5e93\u5b9a\u671f\u5907\u4efd</li>\\n</ul>\\n<h3 id=\\"license\\">LICENSE</h3>\\n<p><a href=\\"https://www.apache.org/licenses/LICENSE-2.0\\">Apache License 2.0</a></p>\\n","title":"\u65b0\u7684\u535a\u5ba2\u6b63\u5f0f\u4e0a\u7ebf","tags":["blog","vue","koa","nginx"],"slug":"new-blog-officially-launched","createDate":1497283200000,"id":"new-blog-officially-launched","thumb":"https://images.unsplash.com/photo-1580629905303-faaa03202631?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>\u672c\u4eba\u897f\u7535\u8f6f\u9662\u5927\u4e09\uff0c\u4e4b\u524d\u5728\u4e00\u4e2a\u5916\u5305\u56e2\u961f\u5b9e\u4e60\uff0c(\u5e7f\u544a\uff1a\u6211\u4eec\u7684\u56e2\u961f<a href=\\"https://www.wpninja.com.au/\\">WPNinja . Sydney, Australia</a>)\u3002\\n\u672c\u6765\u4e0d\u6253\u7b97\u5927\u4e09\u627e\u5b9e\u4e60\u7684, \u4f46\u662f\u89c9\u5f97\u53ef\u4ee5\u53c2\u52a0\u4e00\u4e0b\u6625\u62db\u4e3a\u4ee5\u540e\u79ef\u7d2f\u7ecf\u9a8c\u5427\u3002\u6240\u4ee5\u6295\u4e86AT\u7684\u5185\u63a8\uff0cB\u8bf4\u5b9e\u8bdd\u4e0d\u60f3\u53bb\uff0c\u867d\u7136\u4e0d\u4e00\u5b9a\u80fd\u8fdb\u53bb\u3002\u7136\u540e\u5c31\u5f00\u59cb\u7b49\u5f85\uff0c\u4e2d\u95f4\u770b\u4e86\u770b\u524d\u7aef\u7684\u4e00\u4e9b\u9762\u8bd5\u9898\u3002</p>\\n","content":"<p>\u672c\u4eba\u897f\u7535\u8f6f\u9662\u5927\u4e09\uff0c\u4e4b\u524d\u5728\u4e00\u4e2a\u5916\u5305\u56e2\u961f\u5b9e\u4e60\uff0c(\u5e7f\u544a\uff1a\u6211\u4eec\u7684\u56e2\u961f<a href=\\"https://www.wpninja.com.au/\\">WPNinja . Sydney, Australia</a>)\u3002\\n\u672c\u6765\u4e0d\u6253\u7b97\u5927\u4e09\u627e\u5b9e\u4e60\u7684, \u4f46\u662f\u89c9\u5f97\u53ef\u4ee5\u53c2\u52a0\u4e00\u4e0b\u6625\u62db\u4e3a\u4ee5\u540e\u79ef\u7d2f\u7ecf\u9a8c\u5427\u3002\u6240\u4ee5\u6295\u4e86AT\u7684\u5185\u63a8\uff0cB\u8bf4\u5b9e\u8bdd\u4e0d\u60f3\u53bb\uff0c\u867d\u7136\u4e0d\u4e00\u5b9a\u80fd\u8fdb\u53bb\u3002\u7136\u540e\u5c31\u5f00\u59cb\u7b49\u5f85\uff0c\u4e2d\u95f4\u770b\u4e86\u770b\u524d\u7aef\u7684\u4e00\u4e9b\u9762\u8bd5\u9898\u3002</p>\\n<h3 id=\\"\u4e8c\u9762\u6302\u4e86\u7684\u963f\u91cc\\">\u4e8c\u9762\u6302\u4e86\u7684\u963f\u91cc</h3>\\n<p>3\u67087\u65e5\uff0c\u5317\u4eac\u7684\u7535\u8bdd\uff0c\u963f\u91cc\u4e00\u9762\uff0c\u611f\u89c9\u50cf\u662f\u5de5\u4f5c\u6ca1\u51e0\u5e74\u7684\u5b66\u957f\uff0c\u95ee\u6211\u4ec0\u4e48\u4e13\u4e1a\uff0c\u6211\u8bf4\u8f6f\u4ef6\u5de5\u7a0b\uff0c\u7136\u540e\u4ed6\u5c31\u95ee\u5404\u79cd\u57fa\u7840\u77e5\u8bc6\uff1a</p>\\n<ol>\\n<li>OSI\u4e03\u5c42\u6a21\u578b\u77e5\u9053\u5417\uff1f   \u6211\u4e0a\u5b66\u671f\u5b66\u7684\u7f51\u7edc\u5df2\u7ecf\u5fd8\u4e86\uff0c\u4e5f\u6709\u70b9\u61f5\uff0c\u4e3a\u5565\u95ee\u8fd9\u4e9b\u3002\u3002\u5f53\u65f6\u53ea\u8bb0\u5f97\u5e94\u7528\u5c42\uff0c\u7269\u7406\u5c42\uff0c\u6570\u636e\u94fe\u8def\u5c42\u4e86...</li>\\n<li>\u5bf9TCP/IP\u6709\u4ec0\u4e48\u4e86\u89e3\uff1f   \u5df2\u7ecf\u5b8c\u5168\u4e0d\u77e5\u9053\u600e\u4e48\u56de\u7b54\u4e86\uff0c\u73b0\u5728\u60f3\u60f3\u77e5\u9053\u4ec0\u4e48\u8bf4\u4ec0\u4e48\u5c31\u662f\u4e86</li>\\n<li>\u77e5\u9053BFC\u5417\uff1f   \u8fd9\u4e2a\u6211\u786e\u5b9e\u4e0d\u77e5\u9053\uff0c\u867d\u7136\u6211\u662f\u641e\u524d\u7aef\u7684\uff0c\u540e\u6765\u67e5\u4e86\u4e00\u4e0b</li>\\n<li>\u6570\u636e\u7ed3\u6784\u7b97\u6cd5\u4e4b\u7c7b\u7684\u3002\u3002\u5fd8\u4e86</li>\\n</ol>\\n<p>\u57fa\u672c\u662f\u95ee\u5565\u5565\u4e0d\u4f1a\u7684\u72b6\u6001\uff0c\u7535\u8bdd\u7ed3\u675f\u770b\u4e00\u4e0b\u65f6\u95f4\uff1a 12min\u3002\u672c\u6765\u4ee5\u4e3agg\u4e86\uff0c\u7ed3\u679c\u53c8\u63a5\u5230\u7535\u8bdd\u4e86</p>\\n<p>3\u670814\u65e5\uff0c\u676d\u5dde\u7684\u7535\u8bdd\uff0c\u611f\u89c9\u5e94\u8be5\u662f\u90e8\u95e8\u7684leader\u628a\uff0c\u8bf4\u8bdd\u5f88\u968f\u548c\uff0c\u4e5f\u4f1a\u5f15\u5bfc\u4f60\uff0c\u6574\u4e2a\u9762\u8bd5\u8fc7\u7a0b\u4e0b\u6765\u611f\u89c9\u5f88\u8212\u670d\u3002\u95ee\u7684\u95ee\u9898\u6bd4\u8f83\u5e7f\uff0c\u5927\u90e8\u5206\u662f\u8bf8\u5982 \u8ba9\u4f60\u8d1f\u8d23\u4e00\u4e2a\u9879\u76ee\u4f60\u600e\u4e48\u5b89\u6392\uff0c\u600e\u4e48\u8bbe\u8ba1\u4e00\u4e2a\u4e09\u5c42\u7684\u4ec0\u4e48\u4ec0\u4e48\u4e4b\u7c7b\u7684\u3002\u3002\u3002\u95ee\u6211\u5feb\u6392\u4f1a\u5417\uff0c\u6211\u8bf4\u5fd8\u4e86\u3002\u3002\u3002\u6700\u540e\u6211\u8fd8\u95ee\u4e86\u4e00\u4e0b\u4ed6\u7684\u540d\u5b57\uff0c\u4e5f\u8ddf\u6211\u8bf4\u4e86\uff0c\u5f53\u65f6\u89c9\u5f97\u6211\u56de\u7b54\u7684\u8fd8\u53ef\u4ee5\uff0c\u7ed3\u679c\u5c31\u6ca1\u6709\u540e\u6587\u4e86\u3002</p>\\n<p>\u603b\u7ed3\uff1a</p>\\n<ol>\\n<li>\u51c6\u5907\u4e0d\u5145\u5206\u5427\uff0c\u4ee5\u79ef\u7d2f\u7ecf\u9a8c\u4e3a\u76ee\u7684\u9762\u7684\uff0c\u6ca1\u51c6\u5907\u591a\u5c11\u3002\u6570\u636e\u7ed3\u6784\u4ec0\u4e48\u7684\u90fd\u5fd8\u4e86\uff0c\u5feb\u6392\u90fd\u4e0d\u4f1a\u4eba\u5bb6\u6562\u8981\u4f60\uff1f\u611f\u89c9\u963f\u91cc\u633a\u6ce8\u91cd\u57fa\u7840\u7684\uff0c\u81ea\u5df1\u4e4b\u524d\u770b\u4e86\u770b\u7684\u524d\u7aef\u9762\u8bd5\u9898\u53cd\u800c\u4e00\u4e2a\u90fd\u6ca1\u7528\u4e0a</li>\\n<li>\u662f\u611f\u89c9\u81ea\u5df1\u6700\u540e\u5e94\u8be5\u95ee\u4e00\u4e0b\u5bf9\u6211\u6709\u4ec0\u4e48\u770b\u6cd5\u5efa\u8bae\u4e4b\u7c7b\u7684\uff0c\u6bd5\u7adf\u4eba\u5bb6\u6709\u591a\u5e74\u7ecf\u9a8c\u4e86\uff0c\u80fd\u7ed9\u4f60\u4e00\u4e9b\u6709\u7528\u7684\u6307\u5bfc\u3002\u540e\u9762\u57fa\u672c\u6bcf\u6b21\u9762\u8bd5\u90fd\u95ee\u4e86</li>\\n</ol>\\n<p>\u8bf4\u5b9e\u8bdd\u963f\u91cc\u8fd9\u4e2a\u633a\u6253\u51fb\u6211\u7684\uff0c\u611f\u89c9\u5230\u4e86\u627e\u5b9e\u4e60\u7684\u96be\u5ea6\uff0c\u89c9\u5f97\u4e0d\u80fd\u79ef\u7d2f\u7ecf\u9a8c\u4e86\uff0c\u8981\u6b63\u516b\u7ecf\u627e\u4e2a\u5b9e\u4e60\u3002</p>\\n<p>\u540e\u9762\u7ecf\u5e38\u5173\u6ce8v2ex\u7684\u9177\u5de5\u4f5c\uff0c\u6295\u4e86\u5bb6\u4e0a\u6d77\u7684<a href=\\"https://www.v2ex.com/t/340614#reply123\\">Strikingly</a>, 3\u670828\u6295\u7684\uff0c4\u670810\u624d\u6709\u53cd\u9988\uff0c4\u670813\u65e5\u7535\u8bdd\u9762\u8bd5\uff0chr\uff0c\u95ee\u6211\u804c\u4e1a\u89c4\u5212\u4ec0\u4e48\u7684\uff0c\u6700\u540e\u8bf4\u6211\u53ef\u80fd\u6709\u4e9b\u8ff7\u832b\uff0c\u6302\u4e86....\u6211\u60f3\u8bf4\u6211\u4e0d\u8ff7\u832b\u554a\uff0c\u53ef\u80fd\u8bed\u8a00\u8868\u8fbe\u6709\u95ee\u9898\u5427\u3002</p>\\n<p>\u7136\u540e\u5c31\u662f\u5728\u5b9e\u4e60\u50e7\u4e0a\u6295\u4e86\u4e00\u4e9b\uff0c\u6ca1\u6709\u540e\u6587\u6216\u4e0d\u5408\u9002\uff0c\u6295\u4e86\u5934\u6761\uff0c\u505a\u4e86\u7b14\u8bd5\u9898\uff0c\u5230\u73b0\u5728\u90fd\u662f\u8bc4\u4f30\u4e2d\uff0c\u6ca1\u6709\u540e\u6587\uff0c\u5176\u4ed6\u50cf\u53bb\u54ea\u513f\uff0c\u7f51\u6613\u7b49\u9519\u8fc7\u4e86\u65f6\u95f4\uff0c\u534e\u4e3a\u6839\u672c\u4e0d\u77e5\u9053\u3002</p>\\n<h3 id=\\"\u817e\u8baf\u897f\u5b89\u73b0\u573a\u9762\uff08\u62ff\u5230offer\uff09\\">\u817e\u8baf\u897f\u5b89\u73b0\u573a\u9762\uff08\u62ff\u5230offer\uff09</h3>\\n<p>\u817e\u8baf\u6211\u662f\u5185\u63a8\u7684\uff0c\u7136\u800c\u6df1\u5733\u90a3\u8fb9\u6253\u4e86\u4e24\u6b21\u7535\u8bdd\u6211\u90fd\u6ca1\u63a5\u5230\uff0c\u5e73\u65f6\u624b\u673a\u9759\u97f3\u7684\uff0c\u7136\u540e\u7ea7\u5c31\u6ca1\u6709\u7136\u540e\u4e86\u3002\\n4\u67082\u65e5\u505a\u4e86\u817e\u8baf\u7684\u7b14\u8bd5\u9898\uff0c\u7f16\u7a0b\u9898\u600e\u4e48\u4e5f\u8f93\u51fa\u4e0d\u6765\u4e1c\u897f\uff0c\u653e\u5f03\u4e86\uff0c\u6ca1\u6536\u52304\u670816\u65e5\u7684\u9762\u8bd5\u901a\u77e5\u3002\\n\u7136\u800c\u540c\u5b66\u6536\u5230\u4e86\uff0c\u8bf4\u6211\u53ef\u4ee5\u9738\u9762\uff0c\u6211\u6b63\u7ea0\u7ed3\u8981\u4e0d\u8981\u53bb\u7684\u65f6\u5019\uff0c\u9762\u8bd5\u7ec4\u53d1\u4e86\u4e2a\u817e\u8baf\u6821\u62db&quot;&lt;\u897f\u5b89&gt;\u8865\u589e\u9700\u6c42\u53ca\u9738\u9762&quot;\u767b\u8bb0\u8868 \uff0c\u6211\u4e34\u65f6\u628a\u7b80\u5386\u6539\u4e86\u6539\uff0c\u7f29\u6210\u4e86\u4e00\u9875\uff0c\u586b\u4e0a\u53bb\u4e86\uff0c\u665a\u4e0a\u6536\u5230\u4e86\u9762\u8bd5\u77ed\u4fe1\uff0c\u901a\u77e54\u670816\u65e5 18:00 \u53bb\u60a6\u8c6a\u9152\u5e97\u9762\u8bd5\u3002\u4e00\u4e2a\u820d\u53cb\u4e5f\u586b\u4e86\uff0c\u4e5f\u6536\u5230\u4e86\u9762\u8bd5\u901a\u77e5 \u4e0b\u5348\u4e94\u70b9\uff0c\u4e8e\u662f\u90a3\u5929\u6211\u4eec\u4e00\u8d77\u53bb\u7684\uff0c\u7ed3\u679c\u4ece4\u70b9\u7b49\u5230\u4e86\u665a\u4e0a7\u70b920\u624d\u8f6e\u5230\u6211\uff0c\u90a3\u5929\u4eba\u771f\u7684\u591a\u3002\u6211\u4e00\u4e2a\u540c\u5b66\u4e0a\u5348\u5148\u9762\u7684\uff0c\u8ddf\u6211\u8bf4\u4e86\u8bf4\u5979\u95ee\u7684\u95ee\u9898\uff1a</p>\\n<ol>\\n<li>\u89e3\u91cajs\u7ee7\u627f</li>\\n<li>jsonp\u539f\u7406</li>\\n<li>h5\u91cc\u8de8\u57df\u8d44\u6e90\u5171\u4eab</li>\\n<li>ajax\u539f\u7406</li>\\n<li>\u539f\u578b\u94fe</li>\\n<li>\u4f5c\u7528\u57df\u94fe</li>\\n<li>\u670d\u52a1\u7aef\u5ba2\u6237\u7aef\u83b7\u53d6cookie\u7684\u65b9\u6cd5</li>\\n<li>\u7528\u8fc7\u54ea\u4e9b\u6784\u5efa\u5de5\u5177</li>\\n<li>\u7528\u8fc7\u54ea\u4e9b\u538b\u7f29\u5de5\u5177</li>\\n<li>\u9879\u76ee\u76f8\u5173...</li>\\n</ol>\\n<p>\u7136\u540e\u6211\u5c31\u770b\u4e86\u597d\u591a\u9762\u8bd5\u9898\u8d44\u6599\u4ec0\u4e48\u7684\uff0c\u611f\u89c9\u51c6\u5907\u4e00\u9762\u7684\u8fc7\u7a0b\u4e2d\u6536\u83b7\u4e86\u4e0d\u5c11\u77e5\u8bc6\u3002\u5206\u4eab\u51e0\u4e2a\uff1a</p>\\n<ol>\\n<li><a href=\\"http://m.blog.csdn.net/article/details?id=47023771\\">http://m.blog.csdn.net/article/details?id=47023771</a></li>\\n<li><a href=\\"http://gcdn.gcpowertools.com.cn/showtopic-36594-1-3.html?utm_source=segmentfault&amp;utm_medium=referral&amp;utm_campaign=20170327\\">http://gcdn.gcpowertools.com.cn/showtopic-36594-1-3.html?utm_source=segmentfault&amp;utm_medium=referral&amp;utm_campaign=20170327</a></li>\\n<li><a href=\\"http://zhangwenli.com/blog/2015/04/01/2015-front-end-engineer-interview/\\">http://zhangwenli.com/blog/2015/04/01/2015-front-end-engineer-interview/</a> \u8fd9\u4e2a\u6211\u89c9\u5f97\u8fd8\u662f\u8981\u597d\u597d\u770b\u770b\u7684\uff0c\u8bf4\u7684\u5f88\u8be6\u7ec6\uff0c\u5c24\u5176\u662fthis\u90a3\u4e00\u6bb5\uff0c\u8ba9\u6211\u611f\u89c9\u770b\u4e66\u771f\u6709\u7528\u3002\u3002\u800c\u4e14\u6211\u7684\u7b80\u5386\u6a21\u677f\u4e5f\u662f\u7167\u7740zwl\u5927\u795e\u6765\u7684</li>\\n</ol>\\n<p>\u5230\u4e86\u623f\u95f4\uff0c\u9762\u8bd5\u5b98\u5f88\u5e74\u8f7b\uff0c\u5148\u8bf4\u62b1\u6b49\u8ba9\u4f60\u4e45\u7b49\u4e86\uff0c\u6211\u7b11\u7740\u8bf4\u6ca1\u4e8b\u6ca1\u4e8b\u3002\u95ee\u7684\u95ee\u9898\u4e5f\u662f\u4ece\u9879\u76ee\u7740\u624b\uff1a</p>\\n<ol>\\n<li>\u6211\u770b\u4f60\u9879\u76ee\u91cc\u6709\u5f39\u51fa\u5c42\uff0c\u600e\u4e48\u7528js\u5b9e\u73b0\u4e00\u4e2a\u5f39\u51fa\u5c42\u5462\uff1f</li>\\n<li>\u600e\u4e48\u70b9\u51fb\u53d6\u6d88\u5f39\u51fa\u5c42\uff1f\u6211\u8bf4\u901a\u8fc7\u589e\u5220class\u6765\u63a7\u5236\u5427\uff0c\u4ed6\u8bf4\u4e0d\u7528class\uff0c\u7136\u540e\u6211\u4eec\u5728\u7eb8\u4e0a\u6bd4\u6bd4\u5212\u5212\u534a\u5929\uff0c\u6700\u540e\u4ed6\u8bf4\u5f39\u51fa\u5c42\u548cdocument\u7ed1\u5b9aclick\u4e8b\u4ef6\uff0c\u6211\u624d\u7a81\u7136\u660e\u767d\u4ed6\u60f3\u8003\u6211\u7684\u662f\u4e8b\u4ef6\u5192\u6ce1\uff0c\u6211\u8bf4\u90a3\u5c31\u53d6\u6d88\u5192\u6ce1\uff0c\u4f60\u60f3\u95ee\u7684\u662f\u8fd9\u4e2a\u5427\uff0c\u9762\u8bd5\u5b98\u611f\u89c9\u662f\u9ed8\u8ba4\u4e86\uff0c\u5f00\u59cb\u5728\u7b80\u5386\u4e0a\u5199\u4e1c\u897f\uff0c\u8fd8\u7a81\u7136\u95ee\u6211\u5728\u54ea\u53d6\u6d88\u5192\u6ce1\uff0c\u6211\u8bf4\u5f39\u51fa\u5c42...</li>\\n<li>\u8de8\u57df\u76f8\u5173\u7684\uff0cjsonp\u539f\u7406\uff0c\u6211\u8bf4\u4e86\u4e00\u4e0b\uff0c\u7136\u540e\u8bf4\u6211\u6ca1\u7528\u8fc7\uff0c\u6211\u53ea\u7528\u8fc7postMessage</li>\\n<li>cookie\uff0c \u4e0e\u57df\u540d\u6709\u5173\uff0c\u4e4b\u524d\u7684\u95ee\u9898\u5fd8\u4e86\uff0c\u540e\u6765\u95ee\u5982\u679c\u540c\u4e00\u4e2a\u57df\u540d\u4e0d\u540c\u7aef\u53e3\u80fd\u4e0d\u80fd\u5171\u4eabcookie\uff0c\u6211\u5f53\u65f6\u56de\u7b54\u7684\u662f\u4e0d\u80fd\uff0c\u540e\u6765\u56de\u53bb\u67e5\u4e86\u67e5\uff0c\u662f\u53ef\u4ee5\u7684\uff0c\u53ea\u4e0e\u57df\u540d\u6709\u5173</li>\\n<li>js\u5f02\u5e38\u77e5\u9053\u5427\uff0c\u600e\u4e48\u8bbe\u7f6e\u4e00\u4e2a\u5168\u5c40\u7684\u5f02\u5e38\u5904\u7406\uff0c\u6211\u5f53\u65f6\u8bf4\u7528try catch\uff1f \u56de\u53bb\u67e5\u4e86\u67e5\uff0c\u662f\u6709\u4e2aerror\u4e8b\u4ef6\u7684\uff0c\u6211\u611f\u89c9\u53ef\u4ee5\u53c2\u8003<a href=\\"http://jixianqianduan.com/article-translation/2016/05/12/proper-error-handler-in-javascript.html\\">javascript\u4e2d\u7684\u9519\u8bef\u5904\u7406</a></li>\\n<li>mongoDB \u8ddf Mysql\u6709\u4ec0\u4e48\u533a\u522b\uff1f\u6211\u8bf4\u4e86\u8bf4\u81ea\u5df1\u7684\u7406\u89e3\uff0c\u4f46\u662f\u6ca1\u8bf4\u5230NoSQL\uff0c\u611f\u89c9\u5e94\u8be5\u5148\u8bf4\u8fd9\u4e2a\u7684</li>\\n<li>\u96ea\u78a7\u56fe\u7528\u8fc7\u5417\uff1f \u6211\u8bf4\u7528\u8fc7\u554a\uff0c\u6211\u8bf4\u6211\u4e4b\u524d\u5199\u4e86\u4e2a\u5c0f\u52a8\u753b\u7528\u96ea\u78a7\u56fe\u5b9e\u73b0\u7684\uff0c\u7136\u540e\u95ee\u600e\u4e48\u8ba9\u4ed6\u52a8\u8d77\u6765\uff0c\u6211\u8bf4transition</li>\\n<li>\u7f51\u7ad9\u4f18\u5316\u95ee\u9898\uff0c\u8bf8\u5982\u51cf\u5c11http\u8bf7\u6c42\u4e4b\u7c7b\u7684\uff0c\u63d0\u5230\u4e86cdn\uff0c\u4ed6\u95eecdn\u539f\u7406\u662f\u4ec0\u4e48\uff0c\u6211\u8bf4\u6211\u4e5f\u4e0d\u4e86\u89e3\uff0c\u4f46\u662f\u4eba\u5bb6\u662f\u4e13\u4e1a\u5e72\u8fd9\u4e2a\u7684\uff0c\u80af\u5b9a\u6709\u4e00\u5957\u52a0\u5feb\u8bbf\u95ee\u901f\u5ea6\u7684\u65b9\u6cd5</li>\\n<li>\u5176\u4ed6\u7684\u60f3\u4e0d\u8d77\u6765\u4e86\uff0c\u8fd9\u4e9b\u90fd\u662f\u6211\u96f6\u96f6\u788e\u788e\u62fc\u8d77\u6765\u7684\uff0c\u771f\u4e0d\u77e5\u9053\u4e3a\u5565\u522b\u4eba\u8bb0\u6027\u8fd9\u4e48\u597d\u3002</li>\\n</ol>\\n<p>4\u670817\u65e5\u665a\u4e0a11\u70b9\u6536\u5230\u4e86\u4e8c\u9762\u901a\u77e5\uff0c\u7b2c\u4e8c\u5929\u4e0b\u53482\u70b9\uff0c\u820d\u53cb\u662f\u4e0a\u53489\u70b9\u534a\uff0c\u6240\u4ee5\u6211\u4eec\u4e0d\u80fd\u4e00\u5757\u8d70\u4e86\u3002\\n\u7b2c\u4e8c\u5929\u8d77\u5e8a\u5341\u70b9\u4e86\uff0c\u5148\u6253\u5f00\u7535\u8111\u628a\u5404\u79cd\u6392\u5e8f\u5199\u4e86\u4e00\u904d\uff0c\u597d\u6015\u4f1a\u95ee\u4e9b\u5176\u4ed6\u65b9\u9762\u7684\u57fa\u7840\u95ee\u9898\uff0c\u6216\u8005\u8ba9\u4f60\u624b\u5199\u4ee3\u7801\u4ec0\u4e48\u7684\u3002\\n\u7ed3\u679c\u53bb\u4e86\u4e4b\u540e\uff0c\u9762\u8bd5\u5b98\u5e94\u8be5\u662f\u4e2a\u603b\u76d1\u7ea7\u522b\u7684\uff0c\u4ec0\u4e48\u6280\u672f\u95ee\u9898\u90fd\u6ca1\u95ee\uff1a</p>\\n<ol>\\n<li>\u4f60\u9047\u5230\u7684\u6700\u5927\u7684\u56f0\u96be\u662f\u4ec0\u4e48\uff0c\u600e\u4e48\u89e3\u51b3\u7684</li>\\n<li>\u5e73\u65f6\u9664\u4e86\u5b66\u4e60\u8fd8\u6709\u4ec0\u4e48\u5174\u8da3\u7231\u597d</li>\\n<li>\u5e73\u65f6\u505a\u7684\u4e1c\u897f\u6709\u4ec0\u4e48\u603b\u7ed3\u601d\u8003\u5417</li>\\n<li>\u4f60\u89c9\u5f97\u4f60\u6709\u54ea\u4e9b\u4f18\u52bf\uff1f\u6211\u6240\u9879\u76ee\u7ecf\u9a8c\u591a\uff0c\u5b66\u4e60\u80fd\u529b\u5f3a\uff0c\u6709\u4e0a\u8fdb\u5fc3\uff0c\u4ed6\u8bf4\u4f60\u8bf4\u7684\u8fd9\u4e9b\u592a\u6cdb\u4e86\uff0c\u7136\u540e\u6211\u5c31\u6311\u4e8b\u4f8b\u5177\u4f53\u8bf4\u660e\u3002</li>\\n<li>\u4e3a\u4ec0\u4e48\u4e0d\u8003\u7814\uff1f</li>\\n<li>\u5148\u95ee\u4e86\u4ed6\uff0c\u4e0d\u50cf\u611f\u89c9\u4e2d\u7684\u95ee\u5f88\u591a\u6280\u672f\u95ee\u9898\uff0c\u4ed6\u8bf4\u57fa\u672c\u662f\u662f\u95ee\u8fd9\u4e9b\u7684\uff0c\u770b\u4e00\u9762\u9762\u8bd5\u5b98\u7684\u53cd\u9988\u5427\uff0c\u5982\u679c\u6709\u54ea\u91cc\u4e0d\u6e05\u695a\u4f1a\u7ee7\u7eed\u95ee\u95ee</li>\\n<li>\u6700\u540e\u4e60\u60ef\u6027\u7684\u95ee\u4e86\u5bf9\u6211\u6709\u4ec0\u4e48\u5efa\u8bae\uff0c\u9762\u8bd5\u5b98\u8bf4\u4f60\u505a\u7684\u4e1c\u897f\u633a\u591a\uff0c\u5728\u672c\u79d1\u751f\u770b\u6765\u9879\u76ee\u7ecf\u9a8c\u662f\u5f88\u4e30\u5bcc\u4e86\uff0c\u4e0d\u8fc7\u5e73\u65f6\u8981\u6ce8\u610f\u591a\u603b\u7ed3\u601d\u8003\uff0c\u53cd\u601d\u81ea\u5df1\uff0c\u8fd9\u6837\u624d\u80fd\u4e0d\u65ad\u7684\u8fdb\u6b65(\u5177\u4f53\u7684\u6211\u4e5f\u5fd8\u4e86\uff0c\u8bf4\u4e86\u5f88\u591a\uff0c\u57fa\u672c\u662f\u8fd9\u4e2a\u610f\u601d\uff0c\u4e0d\u8fc7\u6211\u89c9\u5f97\u8bf4\u7684\u5f88\u597d\u5f88\u6709\u5e2e\u52a9)</li>\\n</ol>\\n<p>\u6211\u611f\u89c9\u8fd9\u79cd\u8003\u7684\u5b8c\u5168\u662f\u5e73\u65f6\u7684\u5b66\u4e60\u4e60\u60ef\uff0c\u5e73\u65f6\u7684\u79ef\u7d2f\uff0c\u5982\u679c\u5e73\u65f6\u591a\u60f3\u60f3\u8fd9\u4e9b\u95ee\u9898\uff0c\u591a\u601d\u8003\u603b\u7ed3\u7684\u8bdd\uff0c\u8fd9\u4e9b\u95ee\u9898\u56de\u7b54\u8d77\u6765\u80af\u5b9a\u6ca1\u95ee\u9898</p>\\n<p>4\u670819\u53f7\u6536\u5230hr\u9762\u901a\u77e5\uff0c\u820d\u53cb\u6302\u4e86\uff0c\u6211\u611f\u89c9\u6709\u70b9\u7d27\u5f20\uff0c\u90a3\u5929\u665a\u4e0a\u770b\u4e86\u597d\u591ahr\u9762\u7684\u4f8b\u5b50\uff0c\u6211\u524d\u51e0\u6b21\u9762\u8bd5\u90fd\u662f\u80cc\u4e66\u5305\u5e26\u7535\u8111\u53bb\u7684\uff0c\u7ed3\u679c\u7535\u8111\u4e00\u6b21\u4e5f\u6ca1\u7528\u4e0a\uff0c\u7b2c\u4e8c\u5929\u5c31\u6ca1\u5e26\u7535\u8111\uff0c\u53bb\u4e86\u53d1\u73b0\u7b80\u5386\u4e5f\u6ca1\u62ff\uff0c\u53c8\u7d27\u5f20\u4e86\uff0c\u4e0d\u8fc7\u524d\u4e24\u9762\u9762\u8bd5\u5b98\u90fd\u662f\u81ea\u5907\u7684\u7b80\u5386\uff0c\u611f\u89c9hr\u9762\u5e94\u8be5\u4e5f\u6709\u5427\u3002\u7b49\u5f85\u7684\u5730\u65b9\u4e5f\u6362\u5230\u4e86\u4e00\u4e2a\u5c0f\u4f1a\u8bae\u5ba4\uff0c\u4ece\u4e00\u9762\u6ee1\u6ee1\u7684\u90fd\u662f\u4eba\uff0c\u5230\u4e8c\u9762\u4eba\u5927\u5927\u51cf\u5c11\uff0chr\u9762\u7684\u65f6\u5019\u5f53\u65f6\u7b97\u4e0a\u6211\u5c31\u4e24\u4e09\u4e2a\u4eba\u3002</p>\\n<p>\u4e0b\u5348\u4e00\u70b9\u6536\u5230\u901a\u77e5\u53bb\u9762\u8bd5\u5b98\u623f\u95f4\uff0chr\u4e0d\u662f\u60f3\u8c61\u4e2d\u7684\u59b9\u5b50==\uff01 \u95ee\u7684\u95ee\u9898\u662f</p>\\n<ol>\\n<li>\u4f60\u5de5\u4f5c\u65b9\u5411\u554a\uff0c\u9879\u76ee\u91cc\u626e\u6f14\u4ec0\u4e48\u89d2\u8272\u554a\uff0c\u770b\u770b\u4f60\u5bf9\u4f60\u5de5\u4f5c\u7684\u7406\u89e3\uff0c\u672a\u6765\u53d1\u5c55\u7684\u65b9\u5411\u3002</li>\\n<li>\u7136\u540e\u603b\u4f1a\u63d0\u4e00\u4e9b\u9ad8\u5e76\u53d1\uff0c\u6570\u636e\u5e93\u4ec0\u4e48\u7684\uff0c\u6211\u611f\u89c9\u4e0e\u90e8\u95e8\u6709\u5173\u5427\uff0c</li>\\n<li>\u90e8\u95e8\u505a\u7684\u4e1c\u897f\u662f\u9762\u5411\u817e\u8baf\u5185\u90e8\u7684\uff0c\u4e0e\u9762\u5411\u5ba2\u6237\u90a3\u79cd\u504fc\u65b9\u5411\u7684\u6709\u4ec0\u4e48\u533a\u522b\uff1f</li>\\n<li>\u4f60\u5174\u8da3\u65b9\u5411\u5728\u54ea\u65b9\u9762\uff1f</li>\\n<li>\u770b\u4f60\u7528MongoDB\uff0c\u4e0eMysql\u7684\u533a\u522b\u5728\u54ea\uff1f\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u7528MongoDb\uff0c\u4ec0\u4e48\u60c5\u51b5\u4e0b\u7528Mysql\uff1f\u6211\u8bf4Mysql\u5e94\u8be5\u5728\u6570\u636e\u91cf\u6bd4\u8f83\u5927\u7684\u60c5\u51b5\u4e0b\u7528\u5427\uff0c\u6211\u81ea\u5df1\u641e\u7684\u4e1c\u897f\u6570\u636e\u91cf\u90fd\u6bd4\u8f83\u5c0f\uff0c\u5c31\u600e\u4e48\u65b9\u4fbf\u600e\u4e48\u6765</li>\\n<li>\u5176\u4ed6\u6570\u636e\u5e93\u6709\u7528\u8fc7\u5417\uff1foracle\uff0cbaseocean\u3002\u3002\u597d\u50cf\u662f\u8fd9\u4e9b\uff0c\u6ca1\u6709\u7528\u8fc7\uff0c\u6211\u8bf4\u6700\u8fd1\u5199Blog\u7528\u4e86Redis\u4e5f\u7b97\u5427</li>\\n<li>Linux\u4e86\u89e3\u5417\uff1f\u6211\u8bf4\u6211\u79df\u4e86vps\uff0c\u642d\u4e86ss\uff0c\u7136\u540e\u90e8\u7f72\u4e9b\u7f51\u7ad9\u3002 \u90a3\u9664\u4e86\u8fd9\u4e9b\u64cd\u4f5c\u4ee5\u5916\u6709\u6ca1\u6709\u6df1\u5165\u4e00\u4e9b\u7684\uff0c\u5185\u6838\u4e4b\u7c7b\u7684\uff1f\u6211\u8bf4\u4e4b\u524d\u4e0a\u8bfe\u6709\u5199\u8fc7\u4e00\u4e9b\uff08\u6b63\u5728\u60f3\u5199\u8fc7\u5565\uff0c\u7136\u540e\u5c31\u95ee\u4e0b\u4e00\u4e2a\u95ee\u9898\u4e86...orz\uff09</li>\\n<li>\u4f60\u89c9\u5f97\u6709\u4ec0\u4e48\u9700\u8981\u52a0\u5f3a\u7684\u5730\u65b9\uff1f \u6211\u8bf4\u6211\u611f\u89c9\u8ba1\u7b97\u673a\u57fa\u7840\uff0c\u7f51\u7edc\uff0c\u64cd\u4f5c\u7cfb\u7edf\u7b49\u7b49\u8fd8\u662f\u8981\u591a\u4e86\u89e3\u4e86\u89e3\uff0c\u8fd9\u5b66\u671f\u6709\u7b97\u6cd5\u548cJava\u60f3\u597d\u597d\u5b66\u4e00\u4e0b\u3002 \u7b97\u6cd5\u7814\u7a76\u4ec0\u4e48\uff0c\u6570\u636e\u7ed3\u6784\u5417\uff1f \u6211\u8bf4\u5404\u79cd\u6392\u5e8f\u80af\u5b9a\u8981\u719f\u7ec3\u7684\uff0c\u7136\u540e\u4e3b\u8981\u662f\u4e00\u4e9b\u601d\u60f3\u4e0a\u7684\uff0c\u6bd4\u5982\u6700\u8fd1\u8bb2\u7684...\uff08\u6b63\u5728\u60f3\uff0c\u5f00\u59cb\u4e0b\u4e00\u4e2a\u95ee\u9898\uff09</li>\\n<li>Java\u4f1a\u5417\uff1f\u6211\u8bf4\u6b63\u5728\u5b66</li>\\n<li>\u9664\u4e86\u524d\u7aef\u5e73\u65f6\u5176\u4ed6\u65b9\u9762\u6709\u4e86\u89e3\u5417\uff1f \u6211\u8bf4\u6211\u540e\u7aef\u4e5f\u4e86\u89e3\u4e00\u4e0b\uff0cexpress\uff0c koa \u90fd\u7528\u8fc7\uff0c\u600e\u4e48\u8ddf\u6570\u636e\u5e93\u4ea4\u4e92\uff0c\u8bbe\u8ba1RESTful API\u554a\u7b49\u7b49\uff0c\u53c8\u63d0\u5230\u9ad8\u5e76\u53d1\uff0c\u6211\u8bf4\u9ad8\u5e76\u53d1\u7528Node\u561b</li>\\n<li>\u770b\u4f60\u4e4b\u524d\u6295\u7684\u7684omg\uff0c\u4e86\u89e3\u5417\uff1f\u6211\u8bf4\u5e94\u8be5\u662f\u817e\u8baf\u89c6\u9891\u7684\uff0c\u5728\u5317\u4eac\uff0c\u7136\u540e....\uff08\u6c89\u9ed8\uff09hr\u8bf4\u770b\u6765\u4f60\u4e0d\u4e86\u89e3\u3002\u6211\u8bf4\u6211\u662f\u5185\u63a8\u7684\uff0c\u5fc5\u987b\u9009\u90a3\u4e2a\u3002\u4e4b\u524d\u7684\u9762\u8bd5\u5b98\u8ddf\u4f60\u8bf4\u90e8\u95e8\u4e86\u5417?\u6ca1\u6709\u3002 \u7136\u540ehr\u8ddf\u6211\u8bf4\u4e86\u4e00\u4e0b\u90e8\u95e8\uff0c\u6211\u95ee\u4e86\u4e00\u4e0b\u90e8\u95e8\u505a\u4ec0\u4e48\u4ea7\u54c1\u7684\u7b49\u7b49\uff0c\u4ed6\u8bf4\u90e8\u95e8\u4e5f\u6bd4\u8f83\u63a5\u7eb3\u65b0\u6280\u672f\uff0c\u6211\u89c9\u5f97\u633a\u597d\u7684</li>\\n</ol>\\n<p>hr\u9762\u611f\u89c9\u662f\u6211\u9762\u7684\u6700\u957f\u7684\u4e86\uff0c\u95ee\u7684\u95ee\u9898\u4e5f\u5f88\u591a\\n\u7136\u800c\u63a5\u4e0b\u6765\u5c31\u662f\u6f2b\u957f\u7684\u7b49\u5f85\u4e86\u3002\u3002\u3002\u52a0\u4e86\u897f\u5b89\u7684\u7fa4\u548c\u5168\u56fd\u7684\u7fa4\uff0c\u5929\u5929\u770b\u4e00\u7fa4\u5927\u4f6c\u4eec\u7b49offer\uff0c\u62ff\u5230offer\u7684\u5c31\u5728\u7fa4\u91cc\u53d1\u7ea2\u5305\uff0c\u54c8\u54c8\u3002\u60f3\u7740\u4e07\u4e00\u6211\u817e\u8baf\u8fc7\u4e0d\u4e86\u7684\u8bdd\u540e\u9762\u4e5f\u5c31\u6ca1\u4ec0\u4e48\u62db\u8058\u4e86\u5427\uff0c\u5b9e\u4e60\u600e\u4e48\u529e\u5462 \uff0c\u5f88\u7d27\u5f20\u7684\u72b6\u6001\u3002</p>\\n<p>4\u670820hr\u9762\uff0c4\u670825\u53f7\u5fae\u4fe1\u72b6\u6001\u7ec8\u4e8e\u53d8\u6210\u4e86\u5df2\u5b8c\u6210\u6240\u6709\u9762\u8bd5\u30024\u670826\u53f7\u770b\u5230\u597d\u591a\u4eba\u62ff\u4e86offer\uff0c\u867d\u7136\u4e0d\u662f\u6211\u4eecteg\u7684\uff0c\u4f46\u662f\u5fc3\u91cc\u597d\u7740\u6025\u554a\uff0c\u4ec0\u4e48\u4e5f\u505a\u4e0d\u8fdb\u53bb\u3002\u542c\u8bf4\u53ef\u4ee5\u627e\u5185\u63a8\u4eba\u67e5\u540e\u53f0\u72b6\u6001\uff0c\u7136\u800c\u6211\u5185\u63a8\u4eba\u4e0d\u7406\u6211\uff0c\u6700\u540e\u8054\u7cfb\u4e0a\u4e86\u4e00\u4e2a\u5b66\u957f\uff0c\u5e2e\u6211\u67e5\u4e86\uff0c\u5f55\u53d6\u5df2\u901a\u8fc7\uff01</p>\\n<p>\u679c\u7136\uff0c4\u670827\u53f7\u4e0b\u5348\u63a5\u5230\u4e86\u6df1\u5733\u7684\u7535\u8bdd(\u7b2c\u4e00\u6b21\u8ddfhr\u5c0f\u59d0\u59d0\u4ea4\u6d41)\uff0c\u4e00\u8def\u6069\uff0c\u5bf9\uff0c\u540c\u610f\u3002\u6211\u7684\u6625\u62db\u4e4b\u65c5\u4e5f\u5c31\u544a\u4e00\u6bb5\u843d\u3002</p>\\n<p>\u603b\u7ed3\uff1a</p>\\n<ol>\\n<li>\u611f\u89c9\u817e\u8baf\u7684\u62db\u8058\u6709\u4e00\u4e9b\u5e78\u8fd0\u5427\uff0c\u6ca1\u95ee\u6211\u4e00\u4e9b\u8ba1\u7b97\u673a\uff0c\u7f51\u7edc\u7b49\u57fa\u7840\u77e5\u8bc6\uff0c\u7b97\u6cd5\u4e5f\u6ca1\u95ee\uff0c\u4e5f\u6ca1\u8ba9\u624b\u5199\u4ee3\u7801\uff0c\u5c31\u8fd9\u4e48\u8fc7\u4e86\u3002</li>\\n<li>\u611f\u89c9\u7814\u7a76\u751f\u597d\u591a\u554a\uff0c\u6211\u52a0\u7684\u7fa4\u91cc\u9762\u5927\u90e8\u5206\u90fd\u662f\u7814\u7a76\u751f\uff0c\u672c\u79d1\u627e\u4e2a\u5b9e\u4e60\u4e5f\u4e0d\u5bb9\u6613\u554a\uff0c\u4e0d\u8fc7\u7814\u7a76\u751f\u85aa\u8d44\u5e94\u8be5\u6bd4\u672c\u79d1\u751f\u9ad8\uff0c\u6240\u4ee5\u516c\u53f8\u4e5f\u4f1a\u8003\u8651\u6027\u4ef7\u6bd4\u7684</li>\\n</ol>\\n<p>\u6700\u540e\uff0c\u9644\u4e0a\u6211\u7684<a href=\\"https://xiao555.github.io/Resume/\\">\u7b80\u5386</a>, \u6211\u8bed\u8a00\u8868\u8fbe\u80fd\u529b\u53ef\u80fd\u5dee\u4e00\u4e9b\uff0c\u8bf4\u7684\u53ef\u80fd\u6bd4\u8f83\u968f\u610f\uff0c\u6b22\u8fce\u63d0\u51fa\u610f\u89c1\u3002</p>\\n","title":"\u5927\u4e09\u72d7\u5b9e\u4e60\u9762\u7ecf\uff08\u62ff\u4e86\u817e\u8bafoffer\uff09","tags":["offer","interview"],"slug":"junior-interview","createDate":1493308800000,"id":"junior-interview","thumb":"https://images.unsplash.com/photo-1582359037590-7c7bbba83b67?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>\u672c\u6587\u4ece\u4e00\u4e2a\u5c0fDemo\u5f00\u59cb\uff0c\u901a\u8fc7\u4e0d\u65ad\u589e\u52a0\u529f\u80fd\u6765\u8bf4\u660ewebpack\u7684\u57fa\u672c\u914d\u7f6e\uff0c\u53ea\u9488\u5bf9\u65b0\u624b\uff0c\u4e5f\u6b22\u8fce\u6307\u6b63\u9519\u8bef\u3002</p>\\n","content":"<p>\u672c\u6587\u4ece\u4e00\u4e2a\u5c0fDemo\u5f00\u59cb\uff0c\u901a\u8fc7\u4e0d\u65ad\u589e\u52a0\u529f\u80fd\u6765\u8bf4\u660ewebpack\u7684\u57fa\u672c\u914d\u7f6e\uff0c\u53ea\u9488\u5bf9\u65b0\u624b\uff0c\u4e5f\u6b22\u8fce\u6307\u6b63\u9519\u8bef\u3002</p>\\n<p>Node.js version\uff1a -v7.7.0\\nwebpack \u6700\u597d\u5168\u5c40\u88c5\u4e00\u4e0b</p>\\n<h3 id=\\"base\\">Base</h3>\\n<p>\u6211\u4eec\u5148\u4ece\u7b80\u5355\u7684Demo\u5f00\u59cb\uff0c\u9996\u5148\u6211\u521b\u5efa\u4e86\u4e00\u4e2a\u9879\u76ee\u76ee\u5f55<code>webpack</code>\uff0c\u5728\u8be5\u76ee\u5f55\u4e0b\u8fd0\u884c\u547d\u4ee4\uff1a</p>\\n<pre><code class=\\"language-bash\\">npm init\\nnpm <span class=\\"hljs-keyword\\">install</span> webpack html-loader <span class=\\"hljs-keyword\\">style</span>-loader css-loader <span class=\\"hljs-comment\\">--save-dev</span></code></pre>\\n<p>\u5b89\u88c5\u5b8c\u6210\u540e\u6211\u7684<code>package.json</code>\u662f\u8fd9\u6837\u5b50\u7684\uff1a</p>\\n<pre><code class=\\"language-json\\">{\\n  <span class=\\"hljs-attr\\">\\"name\\"</span>: <span class=\\"hljs-string\\">\\"webpack-example\\"</span>,\\n  <span class=\\"hljs-attr\\">\\"version\\"</span>: <span class=\\"hljs-string\\">\\"1.0.0\\"</span>,\\n  <span class=\\"hljs-attr\\">\\"description\\"</span>: <span class=\\"hljs-string\\">\\"A webpack example\\"</span>,\\n  <span class=\\"hljs-attr\\">\\"main\\"</span>: <span class=\\"hljs-string\\">\\"index.js\\"</span>,\\n  <span class=\\"hljs-attr\\">\\"scripts\\"</span>: {\\n    <span class=\\"hljs-attr\\">\\"test\\"</span>: <span class=\\"hljs-string\\">\\"echo \\\\\\"Error: no test specified\\\\\\" &amp;&amp; exit 1\\"</span>\\n  },\\n  <span class=\\"hljs-attr\\">\\"keywords\\"</span>: [\\n    <span class=\\"hljs-string\\">\\"webpack\\"</span>\\n  ],\\n  <span class=\\"hljs-attr\\">\\"author\\"</span>: <span class=\\"hljs-string\\">\\"xiao555\\"</span>,\\n  <span class=\\"hljs-attr\\">\\"license\\"</span>: <span class=\\"hljs-string\\">\\"MIT\\"</span>,\\n  <span class=\\"hljs-attr\\">\\"devDependencies\\"</span>: {\\n    <span class=\\"hljs-attr\\">\\"css-loader\\"</span>: <span class=\\"hljs-string\\">\\"^0.28.0\\"</span>,\\n    <span class=\\"hljs-attr\\">\\"html-loader\\"</span>: <span class=\\"hljs-string\\">\\"^0.4.5\\"</span>,\\n    <span class=\\"hljs-attr\\">\\"webpack\\"</span>: <span class=\\"hljs-string\\">\\"^2.3.3\\"</span>\\n  }\\n}</code></pre>\\n<p>\u7136\u540e\u6211\u5728\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u4e86<code>index.html</code>\uff0c<code>style.css</code>\uff0c<code>entry.js</code>\uff0c<code>webpack.config.js</code>:</p>\\n<pre><code class=\\"language-html\\">// index.html\\n<span class=\\"hljs-meta\\">&lt;!DOCTYPE html&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">html</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">head</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">title</span>&gt;</span>Hello Webpack<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">title</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">link</span> <span class=\\"hljs-attr\\">rel</span>=<span class=\\"hljs-string\\">\\"stylesheet\\"</span> <span class=\\"hljs-attr\\">type</span>=<span class=\\"hljs-string\\">\\"text/css\\"</span> <span class=\\"hljs-attr\\">href</span>=<span class=\\"hljs-string\\">\\"./style.css\\"</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">head</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">body</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">h1</span>&gt;</span>Hello Webpack!<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">h1</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">script</span> <span class=\\"hljs-attr\\">src</span>=<span class=\\"hljs-string\\">\\"/bundle.js\\"</span>&gt;</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">script</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">body</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">html</span>&gt;</span></code></pre>\\n<pre><code class=\\"language-css\\"><span class=\\"hljs-comment\\">// style.css</span>\\n<span class=\\"hljs-class\\">h1 </span>{\\n<span class=\\"hljs-symbol\\">  color:</span> lightblue;\\n}</code></pre>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// entry.js</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-title\\">require</span><span class=\\"hljs-params\\">(<span class=\\"hljs-string\\">\'./style.css\'</span>)</span></span></code></pre>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// webpack.config.js</span>\\n<span class=\\"hljs-keyword\\">let</span> webpack = <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'webpack\'</span>)\\n\\n<span class=\\"hljs-built_in\\">module</span>.exports = {\\n  entry: <span class=\\"hljs-string\\">\'./entry.js\'</span>,\\n  output: {\\n    path: __dirname,\\n    filename: <span class=\\"hljs-string\\">\'bundle.js\'</span>\\n  },\\n  <span class=\\"hljs-keyword\\">module</span>: {\\n    rules: [\\n      {\\n        test: <span class=\\"hljs-regexp\\">/\\\\.css$/</span>,\\n        loader: <span class=\\"hljs-string\\">\'style-loader!css-loader\'</span>\\n      }\\n    ]\\n  }\\n}</code></pre>\\n<p>\u7136\u540e\u4fee\u6539\u4e00\u4e0b<code>package.json</code>\u7684scripts:</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-string\\">\\"scripts\\"</span>: {\\n    <span class=\\"hljs-string\\">\\"start\\"</span>: <span class=\\"hljs-string\\">\\"webpack --config webpack.config.js\\"</span>,\\n    <span class=\\"hljs-string\\">\\"test\\"</span>: <span class=\\"hljs-string\\">\\"echo \\\\\\"</span><span class=\\"hljs-keyword\\">Error</span>: <span class=\\"hljs-keyword\\">no</span> <span class=\\"hljs-keyword\\">test</span> specified\\\\<span class=\\"hljs-string\\">\\" &amp;&amp; exit 1\\"</span>\\n  },</code></pre>\\n<p>\u597d\u4e86\uff0c\u8fd9\u6837\u4e00\u4e2a\u7b80\u5355\u7684Demo\u5c31\u5b8c\u6210\u4e86\uff0c\u8ba9\u6211\u4eec\u770b\u4e00\u4e0b\u6548\u679c\uff1a</p>\\n<pre><code class=\\"language-bash\\">\u279c  webpack npm start\\n\\n&gt; webpack-<span class=\\"hljs-symbol\\">example@</span><span class=\\"hljs-number\\">1.0</span><span class=\\"hljs-number\\">.0</span> start /Users/zhangruiwu/Desktop/webpack\\n&gt; webpack --config webpack.config.js\\n\\nHash: f9e8a168c2845147afb4\\nVersion: webpack <span class=\\"hljs-number\\">2.3</span><span class=\\"hljs-number\\">.3</span>\\nTime: <span class=\\"hljs-number\\">384</span>ms\\n    Asset     Size  Chunks             Chunk Names\\nbundle.js  <span class=\\"hljs-number\\">73.1</span> kB       <span class=\\"hljs-number\\">0</span>  [emitted]  main\\n   [<span class=\\"hljs-number\\">0</span>] ./style.css <span class=\\"hljs-number\\">895</span> bytes {<span class=\\"hljs-number\\">0</span>} [built]\\n   [<span class=\\"hljs-number\\">1</span>] ./entry.js <span class=\\"hljs-number\\">22</span> bytes {<span class=\\"hljs-number\\">0</span>} [built]\\n   [<span class=\\"hljs-number\\">2</span>] ./~/base64-js/index.js <span class=\\"hljs-number\\">3.48</span> kB {<span class=\\"hljs-number\\">0</span>} [built]\\n   [<span class=\\"hljs-number\\">3</span>] ./~/buffer/index.js <span class=\\"hljs-number\\">48.6</span> kB {<span class=\\"hljs-number\\">0</span>} [built]\\n   [<span class=\\"hljs-number\\">4</span>] ./~/css-loader!./style.css <span class=\\"hljs-number\\">190</span> bytes {<span class=\\"hljs-number\\">0</span>} [built]\\n   [<span class=\\"hljs-number\\">5</span>] ./~/css-loader/lib/css-base.js <span class=\\"hljs-number\\">2.19</span> kB {<span class=\\"hljs-number\\">0</span>} [built]\\n   [<span class=\\"hljs-number\\">6</span>] ./~/ieee754/index.js <span class=\\"hljs-number\\">2.05</span> kB {<span class=\\"hljs-number\\">0</span>} [built]\\n   [<span class=\\"hljs-number\\">7</span>] ./~/isarray/index.js <span class=\\"hljs-number\\">132</span> bytes {<span class=\\"hljs-number\\">0</span>} [built]\\n   [<span class=\\"hljs-number\\">8</span>] ./~/style-loader/addStyles.js <span class=\\"hljs-number\\">8.51</span> kB {<span class=\\"hljs-number\\">0</span>} [built]\\n   [<span class=\\"hljs-number\\">9</span>] ./~/style-loader/fixUrls.js <span class=\\"hljs-number\\">3.01</span> kB {<span class=\\"hljs-number\\">0</span>} [built]\\n  [<span class=\\"hljs-number\\">10</span>] (webpack)/buildin/global.js <span class=\\"hljs-number\\">509</span> bytes {<span class=\\"hljs-number\\">0</span>} [built]</code></pre>\\n<p>\u53ef\u4ee5\u770b\u5230\u76ee\u5f55\u91cc\u751f\u6210\u4e86\u4e00\u4e2a<code>bundle.js</code>\uff0c\u8fd9\u5c31\u662fwebpack\u6253\u5305\u540e\u7684\u6587\u4ef6\uff0c\u6211\u4eec\u5728\u6d4f\u89c8\u5668\u91cc\u6253\u5f00<code>index.html</code>:\\n<img src=\\"https://xiao555.netlify.com/hello_webpack.jpg\\" alt=\\"\\">\\nOK, \u53ef\u4ee5\u770b\u5230\u6211\u4eec\u7684css\u5df2\u7ecf\u6e32\u67d3\u4e0a\u53bb\u4e86\u3002\\n\u6211\u4eec\u7684webpack\u914d\u7f6e\u6587\u4ef6\u505a\u4e86\u4ec0\u4e48\u5462\uff1f</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// webpack.config.js</span>\\n<span class=\\"hljs-keyword\\">let</span> webpack = <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'webpack\'</span>)\\n\\n<span class=\\"hljs-built_in\\">module</span>.exports = {\\n  entry: <span class=\\"hljs-string\\">\'./entry.js\'</span>, <span class=\\"hljs-comment\\">// \u5165\u53e3\u6587\u4ef6\uff0c\u6839\u636e\u8fd9\u4e2a\u6587\u4ef6\u6765\u51b3\u5b9a\u6253\u5305\u54ea\u4e9b\u6587\u4ef6</span>\\n  output: {\\n    path: __dirname,   <span class=\\"hljs-comment\\">// \u6253\u5305\u540e\u6587\u4ef6\u5b58\u653e\u7684\u8def\u5f84</span>\\n    filename: <span class=\\"hljs-string\\">\'bundle.js\'</span> <span class=\\"hljs-comment\\">// \u6253\u5305\u540e\u6587\u4ef6\u7684\u540d\u79f0</span>\\n  },\\n  <span class=\\"hljs-keyword\\">module</span>: { <span class=\\"hljs-comment\\">// \u51b3\u5b9a\u4e0d\u540c\u7c7b\u578b\u7684\u6a21\u5757\u5982\u4f55\u5904\u7406</span>\\n    rules: [ <span class=\\"hljs-comment\\">// \u51b3\u5b9a\u4e86\u6a21\u5757\u521b\u5efa\u89c4\u5219\uff0c</span>\\n      {\\n        test: <span class=\\"hljs-regexp\\">/\\\\.css$/</span>, <span class=\\"hljs-comment\\">// \u5339\u914d\u6587\u4ef6\u7c7b\u578b</span>\\n        loader: <span class=\\"hljs-string\\">\'style-loader!css-loader\'</span> <span class=\\"hljs-comment\\">// \u5e94\u7528\u52a0\u8f7d\u5668\uff0c\'-loader\'\u53ef\u4ee5\u7701\u7565(v2\u597d\u50cf\u4e0d\u53ef\u4ee5\u4e86)</span>\\n      }\\n    ]\\n  }\\n}</code></pre>\\n<h3 id=\\"loader\\">Loader</h3>\\n<p>\u597d\u4e86\uff0c\u8ba9\u6211\u4eec\u6539\u4e00\u4e0b\uff0c\u6211\u518d\u76ee\u5f55\u91cc\u52a0\u4e86\u4e00\u5f20\u56fe\u7247<code>bg.jpg</code>,\u4fee\u6539\u4e86<code>style.css</code> \uff1a</p>\\n<pre><code class=\\"language-css\\"><span class=\\"hljs-selector-tag\\">h1</span> {\\n  <span class=\\"hljs-attribute\\">color</span>: lightblue;\\n}\\n\\n<span class=\\"hljs-selector-tag\\">body</span> {\\n  <span class=\\"hljs-attribute\\">background-image</span>: <span class=\\"hljs-built_in\\">url</span>(<span class=\\"hljs-string\\">\'./bg.jpg\'</span>);\\n}</code></pre>\\n<p><code>npm start</code> \u4e00\u4e0b\uff1a</p>\\n<pre><code class=\\"language-bash\\"><span class=\\"hljs-keyword\\">ERROR </span>in ./bg.jpg\\nModule parse failed: /Users/zhangruiwu/Desktop/webpack/bg.jpg Unexpected character \'\ufffd\' (1:0)\\nYou may need an appropriate loader to handle this file type.\\n(Source code omitted for this binary file)\\n @ ./~/css-loader!./style.css 6:94<span class=\\"hljs-string\\">-113</span>\\n @ ./style.css\\n @ ./entry.js</code></pre>\\n<p>\u62a5\u9519\u4e86\uff0c\u8fd9\u4e2a\u9519\u8bef\u662f\u4ec0\u4e48\u5462\uff1f\u56e0\u4e3a\u6211\u4eec\u5f15\u5165\u4e86\u4e00\u4e2ajpg\u56fe\u7247\u6587\u4ef6\uff0c\u8981\u6253\u5305\u7684\u8bdd\u9700\u8981\u4e00\u4e2a\u5904\u7406\u8fd9\u79cd\u6587\u4ef6\u7c7b\u578b\u7684loader\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// bash</span>\\nnpm i url-loader --save-dev\\n<span class=\\"hljs-comment\\">// webpack.config.js</span>\\n<span class=\\"hljs-keyword\\">module</span>: {\\n    rules: [\\n      {\\n        test: <span class=\\"hljs-regexp\\">/\\\\.css$/</span>,\\n        loader: <span class=\\"hljs-string\\">\'style-loader!css-loader\'</span>\\n      },\\n      {\\n        test: <span class=\\"hljs-regexp\\">/\\\\.(jpe?g|png|gif|svg)$/</span>,\\n        loader: <span class=\\"hljs-string\\">\'url-loader\'</span> <span class=\\"hljs-comment\\">// copy\u6587\u4ef6\u7684loader</span>\\n      }\\n    ]\\n  }</code></pre>\\n<p>\u91cd\u65b0<code>npm start</code>\uff0c\u53d1\u73b0\u6839\u76ee\u5f55\u4e0b\u591a\u4e86\u4e00\u4e2a<code>f58125a1fa5c143130104dc5fa9af77b.jpg</code>, \u6d4f\u89c8\u5668\u6253\u5f00<code>index.html</code>:\\n<img src=\\"https://xiao555.netlify.com/webpack_bg.jpg\\" alt=\\"\\"></p>\\n<p>OK!</p>\\n<h3 id=\\"\u6211\u4eec\u6539\u9020\u4e00\u4e0b\uff1a\\">\u6211\u4eec\u6539\u9020\u4e00\u4e0b\uff1a</h3>\\n<ol>\\n<li>css\u7528stylus</li>\\n<li>css,img\u7b49\u8d44\u6e90\u653e\u5728<code>/src</code>\u76ee\u5f55\u4e0b</li>\\n<li>\u6253\u5305\u540e\u56fe\u7247\u6587\u4ef6\u653e\u5728<code>/dist/static</code>\u76ee\u5f55\u4e0b</li>\\n<li>\u6253\u5305\u6587\u4ef6\u7edf\u4e00\u653e\u5728\u4e00\u4e2a\u76ee\u5f55\u4e0b<code>/dist</code></li>\\n</ol>\\n<pre><code class=\\"language-bash\\">npm i stylus stylus-loader html-webpack-plugin --<span class=\\"hljs-built_in\\">save</span>-<span class=\\"hljs-built_in\\">dev</span></code></pre>\\n<p>\u8c03\u6574\u76ee\u5f55\u7ed3\u6784\uff1a</p>\\n<pre><code class=\\"language-bash\\"><span class=\\"hljs-bullet\\">- </span>webpack\\n<span class=\\"hljs-bullet\\">    - </span>src\\n<span class=\\"hljs-bullet\\">        - </span>assets\\n<span class=\\"hljs-bullet\\">            - </span>img\\n<span class=\\"hljs-bullet\\">                - </span>bg.jpg\\n<span class=\\"hljs-bullet\\">        - </span>style\\n<span class=\\"hljs-bullet\\">            - </span>main.styl\\n<span class=\\"hljs-bullet\\">            - </span>entry.js\\n<span class=\\"hljs-bullet\\">    - </span>index.html\\n<span class=\\"hljs-bullet\\">    - </span>webpack.config.js\\n<span class=\\"hljs-bullet\\">    - </span>package.json</code></pre>\\n<pre><code class=\\"language-html\\">// index.html\\n<span class=\\"hljs-meta\\">&lt;!DOCTYPE html&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">html</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">head</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">title</span>&gt;</span>Hello Webpack<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">title</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">head</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">body</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">h1</span>&gt;</span>Hello Webpack!<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">h1</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">body</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">html</span>&gt;</span></code></pre>\\n<pre><code class=\\"language-stylus\\"><span class=\\"hljs-comment\\">// main.styl</span>\\n<span class=\\"hljs-selector-tag\\">h1</span>\\n  <span class=\\"hljs-attribute\\">color</span> lightblue\\n<span class=\\"hljs-selector-tag\\">body</span>\\n  <span class=\\"hljs-attribute\\">background-image</span> url(<span class=\\"hljs-string\\">\'~assets/image/bg.jpg\'</span>)</code></pre>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// entry.js</span>\\n<span class=\\"hljs-keyword\\">import</span> <span class=\\"hljs-string\\">\'./main.styl\'</span></code></pre>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// webpack.config.js</span>\\n<span class=\\"hljs-keyword\\">let</span> webpack = <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'webpack\'</span>)\\n<span class=\\"hljs-keyword\\">let</span> path = <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'path\'</span>)\\n<span class=\\"hljs-keyword\\">let</span> HtmlWebpackPlugin = <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'html-webpack-plugin\'</span>);\\n\\n<span class=\\"hljs-built_in\\">module</span>.exports = {\\n  entry: {\\n    style: <span class=\\"hljs-string\\">\'./src/style/entry.js\'</span> <span class=\\"hljs-comment\\">// \u65b0\u7684\u5165\u53e3\u6587\u4ef6</span>\\n  },\\n  output: {\\n    path: path.join(__dirname, <span class=\\"hljs-string\\">\'./dist\'</span>), <span class=\\"hljs-comment\\">// \u65b0\u7684\u6253\u5305\u76ee\u5f55</span>\\n    filename: <span class=\\"hljs-string\\">\'[name].js\'</span> <span class=\\"hljs-comment\\">// \u8fd9\u91cc\u7684name\u5bf9\u5e94entry\u7684key\u503c\uff0c\u8fd9\u91cc\u662fstyle\uff0c\u5982\u679c\u589e\u52a0\u4e00\u4e2a\u5165\u53e3\u6587\u4ef6scrit\u7684\u8bdd\uff0c\u540c\u6837\u751f\u6210\u4e00\u4e2ascript.js</span>\\n  },\\n  <span class=\\"hljs-keyword\\">module</span>: {\\n    rules: [\\n      {\\n        test: <span class=\\"hljs-regexp\\">/\\\\.css$/</span>,\\n        loader: <span class=\\"hljs-string\\">\'style-loader!css-loader?sourceMap\'</span>\\n      },\\n      {\\n        test: <span class=\\"hljs-regexp\\">/\\\\.(jpe?g|png|gif|svg)$/</span>,\\n        loader: <span class=\\"hljs-string\\">\'url-loader?name=static/[hash].[ext]\'</span> <span class=\\"hljs-comment\\">// \'?\'\u540e\u8ddfloader\u7684\u914d\u7f6e\u53c2\u6570\uff0c\u8fd9\u91ccname\u6307\u6587\u4ef6\u540d\uff0cstatic\u76ee\u5f55\u4e0b</span>\\n      },\\n      {\\n        test: <span class=\\"hljs-regexp\\">/\\\\.styl$/</span>,  <span class=\\"hljs-comment\\">// \u589e\u52a0stylus\u6587\u4ef6\u7684loader</span>\\n        loader: <span class=\\"hljs-string\\">\\"style-loader!css-loader!stylus-loader?sourceMap\\"</span> <span class=\\"hljs-comment\\">// \u53ef\u4ee5\u901a\u8fc7\'!\'\u6765\u7ea7\u8054loader</span>\\n      }\\n    ]\\n  },\\n  resolve: {\\n    alias: {\\n      <span class=\\"hljs-string\\">\'assets\'</span>: path.join(__dirname, <span class=\\"hljs-string\\">\'./src/assets\'</span>) <span class=\\"hljs-comment\\">// \u5b9a\u4e49\u522b\u540d\uff0c\u7528\u6cd5\u89c1main.styl \u91cc background-image url(\'~assets/image/bg.jpg\')</span>\\n    }\\n  },\\n  plugins: [\\n      <span class=\\"hljs-comment\\">// \u8fd9\u4e2a\u63d2\u4ef6\u7528\u6765\u5904\u7406html\u6587\u4ef6\uff0chttps://github.com/jantimon/html-webpack-plugin , \u8fd9\u91cc\u7684\u4f5c\u4e1a\u662f\u5427index.html\u6253\u5305\u5230dist\u76ee\u5f55\u4e0b</span>\\n    <span class=\\"hljs-keyword\\">new</span> HtmlWebpackPlugin({\\n      filename: <span class=\\"hljs-string\\">\'index.html\'</span>,\\n      template: <span class=\\"hljs-string\\">\'index.html\'</span>\\n    })\\n  ]\\n}</code></pre>\\n<p><code>npm start</code> \u4e4b\u540e\u751f\u6210\u7684\u76ee\u5f55\u7ed3\u6784\uff1a</p>\\n<pre><code><span class=\\"hljs-bullet\\">- </span>dist\\n<span class=\\"hljs-bullet\\">    - </span>static\\n<span class=\\"hljs-bullet\\">        - </span>f58125a1fa5c143130104dc5fa9af77b.jpg\\n<span class=\\"hljs-bullet\\">    - </span>index.html\\n<span class=\\"hljs-bullet\\">    - </span>style.js</code></pre><p>\u6d4f\u89c8\u5668\u8bbf\u95ee\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u7684<code>index.html</code>\uff0c\u6ca1\u6709\u95ee\u9898\uff0c\u4e3a\u4ec0\u4e48\u8981\u628ahtml\u641e\u5230<code>dist</code>\u76ee\u5f55\u4e0b\u5462\uff1f  \u53ef\u4ee5F12\u770b\u770bbody\u80cc\u666f\u56fe\u7247\u7684url\uff0c\u662f\u76f8\u5bf9\u4e0e\u6253\u5305\u76ee\u5f55<code>dist</code>\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u8fd9\u91cc\u8bbf\u95ee\u7684\u6839\u76ee\u5f55\u662f\u6253\u5305\u76ee\u5f55\uff0c\u6211\u4eec\u7684html\u4e5f\u8981\u653e\u8fdb\u53bb\u3002</p>\\n<h3 id=\\"\u8ba9\u6211\u4eec\u7ee7\u7eed\u6539\u9020\uff1a\\">\u8ba9\u6211\u4eec\u7ee7\u7eed\u6539\u9020\uff1a</h3>\\n<h4 id=\\"1-\u5f15\u5165\u7b2c\u4e09\u65b9css\\">1. \u5f15\u5165\u7b2c\u4e09\u65b9css</h4>\\n<p>\u4ee5FontAwesome\u4e3a\u4f8b\uff1a</p>\\n<pre><code class=\\"language-path\\">npm install <span class=\\"hljs-built_in\\">font</span>-awesome --<span class=\\"hljs-built_in\\">save</span></code></pre>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-attr\\">module:</span> <span class=\\"hljs-string\\">{</span>\\n    <span class=\\"hljs-attr\\">rules:</span> <span class=\\"hljs-string\\">[</span>\\n      <span class=\\"hljs-string\\">{</span>\\n        <span class=\\"hljs-attr\\">test:</span> <span class=\\"hljs-string\\">/\\\\.css$/,</span>\\n        <span class=\\"hljs-attr\\">loader:</span> <span class=\\"hljs-string\\">\'style-loader!css-loader?sourceMap\'</span>\\n      <span class=\\"hljs-string\\">},</span>\\n      <span class=\\"hljs-string\\">{</span>\\n        <span class=\\"hljs-attr\\">test:</span> <span class=\\"hljs-string\\">/\\\\.(jpe?g|png|gif|svg)$/,</span>\\n        <span class=\\"hljs-attr\\">loader:</span> <span class=\\"hljs-string\\">\'url-loader?name=static/[hash].[ext]\'</span>\\n      <span class=\\"hljs-string\\">},</span>\\n      <span class=\\"hljs-string\\">{</span>\\n        <span class=\\"hljs-attr\\">test:</span> <span class=\\"hljs-string\\">/\\\\.styl$/,</span>\\n        <span class=\\"hljs-attr\\">loader:</span> <span class=\\"hljs-string\\">\\"style-loader!css-loader!stylus-loader?sourceMap\\"</span>\\n      <span class=\\"hljs-string\\">},</span>\\n      <span class=\\"hljs-string\\">{</span>\\n          <span class=\\"hljs-string\\">//</span> <span class=\\"hljs-string\\">FontAwesome</span> <span class=\\"hljs-string\\">\u9700\u8981\u52a0\u8f7d\u5b57\u4f53\u6587\u4ef6\uff0c(\\\\?.*)</span> <span class=\\"hljs-string\\">\u5904\u7406\u5e26\u7248\u672c\u53f7\u7684\u6587\u4ef6</span>\\n        <span class=\\"hljs-attr\\">test:</span> <span class=\\"hljs-string\\">/\\\\.(woff2?|eot|ttf|otf)(\\\\?.*)?$/,</span>\\n        <span class=\\"hljs-attr\\">loader:</span> <span class=\\"hljs-string\\">\'url-loader\'</span><span class=\\"hljs-string\\">,</span>\\n        <span class=\\"hljs-attr\\">options:</span> <span class=\\"hljs-string\\">{</span>\\n          <span class=\\"hljs-attr\\">limit:</span> <span class=\\"hljs-number\\">10000</span><span class=\\"hljs-string\\">,</span>\\n          <span class=\\"hljs-attr\\">name:</span> <span class=\\"hljs-string\\">\'fonts/[name].[hash:7].[ext]\'</span>\\n        <span class=\\"hljs-string\\">}</span>\\n      <span class=\\"hljs-string\\">}</span>\\n    <span class=\\"hljs-string\\">]</span>\\n  <span class=\\"hljs-string\\">},</span></code></pre>\\n<h4 id=\\"2-\u591ahtml\u6587\u4ef6\\">2. \u591ahtml\u6587\u4ef6</h4>\\n<p><code>html-webpack-plugin</code> \u8fd9\u4e2a\u63d2\u4ef6\u5904\u7406\u591ahtml\u6587\u4ef6\uff0c\u5c31\u662f\u591anew\u51e0\u6b21\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u6570\u7ec4ForEach\u7684\u65b9\u6cd5\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">let</span> config = {\\n  entry: {\\n    style: <span class=\\"hljs-string\\">\'./src/style/entry.js\'</span>\\n  },\\n  outpu<span class=\\"hljs-variable\\">t:</span> {\\n    path: path.<span class=\\"hljs-keyword\\">join</span>(__dirname, <span class=\\"hljs-string\\">\'./dist\'</span>),\\n    filename: <span class=\\"hljs-string\\">\'[name].js\'</span>\\n  },\\n  module: {\\n    rule<span class=\\"hljs-variable\\">s:</span> [\\n      {\\n        tes<span class=\\"hljs-variable\\">t:</span> /\\\\.css$/,\\n        loader: <span class=\\"hljs-string\\">\'style-loader!css-loader?sourceMap\'</span>\\n      },\\n      {\\n        tes<span class=\\"hljs-variable\\">t:</span> /\\\\.(jpe?g|png|gif|svg)$/,\\n        loader: <span class=\\"hljs-string\\">\'url-loader?name=static/[hash].[ext]\'</span>\\n      },\\n      {\\n        tes<span class=\\"hljs-variable\\">t:</span> /\\\\.styl$/,\\n        loader: <span class=\\"hljs-string\\">\\"style-loader!css-loader!stylus-loader?sourceMap\\"</span>\\n      },\\n      {\\n        tes<span class=\\"hljs-variable\\">t:</span> /\\\\.(woff2?|eot|ttf|otf)(\\\\?.*)?$/,\\n        loader: <span class=\\"hljs-string\\">\'url-loader\'</span>,\\n        option<span class=\\"hljs-variable\\">s:</span> {\\n          limi<span class=\\"hljs-variable\\">t:</span> <span class=\\"hljs-number\\">10000</span>,\\n          name: <span class=\\"hljs-string\\">\'fonts/[name].[hash:7].[ext]\'</span>\\n        }\\n      }\\n    ]\\n  },\\n  <span class=\\"hljs-built_in\\">resolve</span>: {\\n    extension<span class=\\"hljs-variable\\">s:</span> [<span class=\\"hljs-string\\">\'.js\'</span>, <span class=\\"hljs-string\\">\'.vue\'</span>, <span class=\\"hljs-string\\">\'.json\'</span>],\\n    alia<span class=\\"hljs-variable\\">s:</span> {\\n      <span class=\\"hljs-string\\">\'assets\'</span>: path.<span class=\\"hljs-keyword\\">join</span>(__dirname, <span class=\\"hljs-string\\">\'./src/assets\'</span>)\\n    }\\n  },\\n  plugin<span class=\\"hljs-variable\\">s:</span> []\\n}\\nconst array = [<span class=\\"hljs-string\\">\'index\'</span>, <span class=\\"hljs-string\\">\'test\'</span>]\\narray.forEach((<span class=\\"hljs-keyword\\">file</span>) =&gt; {\\n  const <span class=\\"hljs-keyword\\">conf</span> = {\\n    filename: `${<span class=\\"hljs-keyword\\">file</span>}.html`,\\n    template: `${<span class=\\"hljs-keyword\\">file</span>}.html`\\n  }\\n  config.plugins.push(<span class=\\"hljs-keyword\\">new</span> HtmlWebpackPlugin(<span class=\\"hljs-keyword\\">conf</span>))\\n})\\n\\nmodule.exports = config</code></pre>\\n<h4 id=\\"3-\u67d0\u4e9b\u6587\u4ef6\u5355\u72ec\u6253\u5305\\">3. \u67d0\u4e9b\u6587\u4ef6\u5355\u72ec\u6253\u5305</h4>\\n<p>\u4ee5jquery\u4e3a\u4f8b\uff1a</p>\\n<pre><code class=\\"language-bash\\">npm i <span class=\\"hljs-built_in\\">file</span>-loader <span class=\\"hljs-comment\\">--save-dev</span>\\nnpm i jquery <span class=\\"hljs-comment\\">--save</span></code></pre>\\n<pre><code>- src\\n    - script\\n        - <span class=\\"hljs-keyword\\">entry</span>.js\\n\\n// <span class=\\"hljs-keyword\\">entry</span>.js\\nimport <span class=\\"hljs-symbol\\">\'copy</span>!jquery/dist/jquery.min.js\'</code></pre><pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">// webpack.config.js</span>\\n<span class=\\"hljs-attribute\\">entry</span>: {\\n  <span class=\\"hljs-attribute\\">style</span>: <span class=\\"hljs-string\\">\'./src/style/entry.js\'</span>,\\n  <span class=\\"hljs-attribute\\">script</span>: <span class=\\"hljs-string\\">\'./src/script/entry.js\'</span> <span class=\\"hljs-comment\\">// \u65b0\u589e\u5165\u53e3\u6587\u4ef6</span>\\n},\\n...\\n<span class=\\"hljs-selector-tag\\">resolveLoader</span>: { <span class=\\"hljs-comment\\">// \u5904\u7406loader</span>\\n  <span class=\\"hljs-attribute\\">alias</span>: {\\n    <span class=\\"hljs-string\\">\'copy\'</span>: <span class=\\"hljs-string\\">\'file-loader?name=[name].[ext]\'</span>, <span class=\\"hljs-comment\\">//&amp;context=./src</span>\\n  }\\n},</code></pre>\\n<p><code>npm start</code> \u540e\u4f1a\u53d1\u73b0<code>/dist</code> \u76ee\u5f55\u4e0b<code>jquery.min.js</code>\u5df2\u7ecf\u5355\u72ec\u6253\u5305\u51fa\u6765\u4e86</p>\\n<h4 id=\\"4-\u70ed\u52a0\u8f7d\\">4. \u70ed\u52a0\u8f7d</h4>\\n<p>\u4ee5BrowserSync\u4e3a\u4f8b\uff1a</p>\\n<pre><code class=\\"language-bash\\"><span class=\\"hljs-symbol\\">npm</span> i <span class=\\"hljs-keyword\\">browser-sync </span><span class=\\"hljs-keyword\\">browser-sync-webpack-plugin </span>--save-dev</code></pre>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">let</span> BrowserSyncPlugin   = <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'browser-sync-webpack-plugin\'</span>)\\n\\n<span class=\\"hljs-keyword\\">let</span> config = {\\n <span class=\\"hljs-attr\\">watch</span>: <span class=\\"hljs-literal\\">true</span>,\\n <span class=\\"hljs-attr\\">plugins</span>: [\\n    <span class=\\"hljs-keyword\\">new</span> BrowserSyncPlugin(\\n      <span class=\\"hljs-comment\\">// BrowserSync options</span>\\n      {\\n        <span class=\\"hljs-comment\\">// browse to http://localhost:3000/ during development</span>\\n        <span class=\\"hljs-attr\\">host</span>: <span class=\\"hljs-string\\">\'localhost\'</span>,\\n        <span class=\\"hljs-attr\\">port</span>: <span class=\\"hljs-number\\">4000</span>,\\n        <span class=\\"hljs-comment\\">// proxy the Webpack Dev Server endpoint</span>\\n        <span class=\\"hljs-comment\\">// (which should be serving on http://localhost:3100/)</span>\\n        <span class=\\"hljs-comment\\">// through BrowserSync</span>\\n        <span class=\\"hljs-comment\\">// proxy: \'http://localhost:3100/\'</span>\\n        <span class=\\"hljs-attr\\">server</span>: {\\n          <span class=\\"hljs-attr\\">baseDir</span>: [<span class=\\"hljs-string\\">\'dist\'</span>],\\n          <span class=\\"hljs-attr\\">directory</span>: <span class=\\"hljs-literal\\">true</span>  <span class=\\"hljs-comment\\">// with directory listing</span>\\n        }\\n      },\\n      <span class=\\"hljs-comment\\">// plugin options</span>\\n      {\\n        <span class=\\"hljs-comment\\">// prevent BrowserSync from reloading the page</span>\\n        <span class=\\"hljs-comment\\">// and let Webpack Dev Server take care of this</span>\\n        <span class=\\"hljs-attr\\">reload</span>: <span class=\\"hljs-literal\\">true</span>\\n      }\\n    )\\n  ]\\n}</code></pre>\\n<p>\u4f1a\u81ea\u52a8\u6253\u5f00\u6d4f\u89c8\u5668\u8bbf\u95ee<code>http://localhost:4000/</code>, \u4fee\u6539\u88ab\u6253\u5305\u7684\u6587\u4ef6\u4f1a\u81ea\u52a8\u5237\u65b0</p>\\n<h4 id=\\"5-\u914d\u7f6estylus\u548cbabel\\">5. \u914d\u7f6estylus\u548cbabel</h4>\\n<pre><code class=\\"language-bash\\"><span class=\\"hljs-symbol\\">npm</span> i autoprefixer nib poststylus <span class=\\"hljs-keyword\\">babel-core </span><span class=\\"hljs-keyword\\">babel-loader </span><span class=\\"hljs-keyword\\">babel-plugin-transform-runtime </span><span class=\\"hljs-keyword\\">babel-preset-es2015 </span>--save-dev</code></pre>\\n<pre><code class=\\"language-stylus\\">/<span class=\\"hljs-regexp\\">/ ./src</span><span class=\\"hljs-regexp\\">/style/variables</span>.styl\\nblue = <span class=\\"hljs-comment\\">#0073aa</span></code></pre>\\n<pre><code class=\\"language-stylus\\"><span class=\\"hljs-comment\\">// ./src/style/main.styl</span>\\nh1\\n  <span class=\\"hljs-built_in\\">color</span> <span class=\\"hljs-built_in\\">blue</span></code></pre>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">let</span> poststylus = require(<span class=\\"hljs-string\\">\'poststylus\'</span>)\\n...\\nplugin<span class=\\"hljs-variable\\">s:</span> [\\n    <span class=\\"hljs-keyword\\">new</span> webpack.LoaderOptionsPlugin({\\n      // tes<span class=\\"hljs-variable\\">t:</span> /\\\\.xxx$/, // may apply this <span class=\\"hljs-keyword\\">only</span> <span class=\\"hljs-keyword\\">for</span> some modules\\n      option<span class=\\"hljs-variable\\">s:</span> {\\n        stylu<span class=\\"hljs-variable\\">s:</span> {\\n          use: [\\n            poststylus([ <span class=\\"hljs-string\\">\'autoprefixer\'</span> ]),\\n          ],\\n          impor<span class=\\"hljs-variable\\">t:</span> [\\n            <span class=\\"hljs-string\\">\'~nib/index.styl\'</span>,\\n            path.<span class=\\"hljs-keyword\\">join</span>(__dirname, <span class=\\"hljs-string\\">\'src/style/variables.styl\'</span>)\\n          ]\\n        },\\n        babe<span class=\\"hljs-variable\\">l:</span> {\\n          preset<span class=\\"hljs-variable\\">s:</span> [<span class=\\"hljs-string\\">\'es2015\'</span>],\\n          plugin<span class=\\"hljs-variable\\">s:</span> [<span class=\\"hljs-string\\">\'transform-runtime\'</span>]\\n        }\\n      }\\n    }),\\n    ...\\n  ]</code></pre>\\n<p><code>autoprefixer</code>\u662f\u4e2a\u81ea\u52a8\u6dfb\u52a0\u524d\u7f00\u7684\u63d2\u4ef6\uff0c<code>nib</code>\u662f\u4e00\u4e2a\u4e0d\u9519\u7684css\u5e93\uff0c<code>variables.styl</code>\u53ef\u4ee5\u4f5c\u4e3astylus\u7684\u5168\u5c40\u53d8\u91cf\u52a0\u8f7d\uff0cbabel\u4e0d\u7528\u8bf4\uff0c\u53ef\u4ee5\u5199es6\u7684\u4ee3\u7801\u3002</p>\\n<h3 id=\\"\u603b\u7ed3\\">\u603b\u7ed3</h3>\\n<p>\u611f\u89c9\u628a\u4ee5\u4e0a\u8bf4\u7684\u8d70\u4e00\u904d\uff0cwebpack\u57fa\u672c\u7684\u914d\u7f6e\u5c31\u53ef\u4ee5\u719f\u6089\u4e86\uff0c\u4f1a\u5f15\u5165loader\uff0c\u914d\u7f6eloader\u9009\u9879\uff0c\u4f1a\u8bbe\u7f6ealias\uff0c\u4f1a\u7528plugins\u5dee\u4e0d\u591a\u3002</p>\\n<p>\u81f3\u4e8e\u73b0\u5728\u4e00\u4e9b\u6bd4\u8f83\u5927\u7684\u9879\u76ee\u4e2d\u5206\u591a\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u662f\u6839\u636e\u4e0d\u540c\u7684\u573a\u666f\u62c6\u5206\u5f00\u7684\uff0c\u57fa\u672c\u7684\u4e00\u4e2a<code>webpack.base.config.js</code>,\u4e3b\u8981\u5305\u542b<code>loader</code>\uff0c<code>resolve</code>\u7b49\u5168\u5c40\u901a\u7528\u7684\u90e8\u5206\uff0c\u5269\u4e0b\u7684\u6839\u636e\u5f00\u53d1\u6216\u8005\u751f\u4ea7\u73af\u5883\u5206\u6210<code>webpack.dev.config.js</code>\uff0c<code>webpack.prod.config.js</code>\uff0c\u9664\u4e86\u90fd\u4f1a\u5408\u5e76base\u7684\u5185\u5bb9\uff0c\u5176\u4ed6\u53ef\u80fd\u8ddf\u53bb\u73af\u5883\u4e0d\u4e00\u6837\u50cf<code>output</code>\uff0c <code>plugins</code>\u4e5f\u90fd\u6709\u6240\u4e0d\u540c\u3002</p>\\n<p>\u53e6\u5916\uff0c\u6211\u8bf4\u7684\u4e0d\u662f\u5f88\u8be6\u7ec6\uff0c\u6709\u4e9b\u4e1c\u897f\u8fd8\u8981\u81ea\u5df1\u53bb\u8e29\u5751\uff0c\u6bd4\u5982loader\u548cplugins\u7684\u914d\u7f6e\u53ef\u4ee5\u770b\u5b98\u65b9\u6587\u6863\uff0c\u6211\u6ca1\u6709\u8be6\u7ec6\u8bf4\u3002</p>\\n","title":"\u5982\u4f55\u5199 Webpack \u914d\u7f6e\u6587\u4ef6","tags":["webpack"],"slug":"how-to-config-webpack","createDate":1492012800000,"id":"how-to-config-webpack","thumb":"https://images.unsplash.com/photo-1581200755095-81990f2e27fd?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>\u6700\u8fd1\u8981\u642d\u5efa\u65b0\u7684\u535a\u5ba2\uff0c\u4e4b\u524d\u5199\u535a\u5ba2\u56fe\u7247\u4e00\u822c\u662f\u4fdd\u5b58\u5230\u672c\u5730\uff0c\u6216\u8005\u4e0a\u4f20\u5230\u5fae\u535a\uff0c\u5fae\u535a\u4f1a\u6709\u6c34\u5370\u554a\uff0c\u6240\u4ee5\u6253\u7b97\u6298\u817e\u4e00\u4e0b\u4e03\u725b\u4e86\uff0c\u91c7\u7528qrsync\u547d\u4ee4\u884c\u540c\u6b65\u5de5\u5177\u6253\u9020\u4e00\u4e2a\u56fe\u5e8a\u3002</p>\\n","content":"<p>\u6700\u8fd1\u8981\u642d\u5efa\u65b0\u7684\u535a\u5ba2\uff0c\u4e4b\u524d\u5199\u535a\u5ba2\u56fe\u7247\u4e00\u822c\u662f\u4fdd\u5b58\u5230\u672c\u5730\uff0c\u6216\u8005\u4e0a\u4f20\u5230\u5fae\u535a\uff0c\u5fae\u535a\u4f1a\u6709\u6c34\u5370\u554a\uff0c\u6240\u4ee5\u6253\u7b97\u6298\u817e\u4e00\u4e0b\u4e03\u725b\u4e86\uff0c\u91c7\u7528qrsync\u547d\u4ee4\u884c\u540c\u6b65\u5de5\u5177\u6253\u9020\u4e00\u4e2a\u56fe\u5e8a\u3002</p>\\n<h3 id=\\"\u51c6\u5907\u5de5\u4f5c\\">\u51c6\u5907\u5de5\u4f5c</h3>\\n<ol>\\n<li>\u9996\u5148\u4f60\u8981\u6709\u4e00\u4e2a\u4e03\u725b\u8d26\u6237\u554a</li>\\n<li>\u4e0b\u8f7d<a href=\\"http://docs.qiniu.com/tools/v6/qrsync.html\\">qrync\u547d\u4ee4\u884c\u540c\u6b65\u5de5\u5177</a></li>\\n</ol>\\n<h3 id=\\"\u914d\u7f6e-qrync\\">\u914d\u7f6e qrync</h3>\\n<p>\u8981\u505a\u7684\u662f\u628a\u4e0b\u8f7d\u7684zip\u6587\u4ef6\u5939\u91cc\u7684qrync\u79fb\u5230<code>/usr/local/bin</code> \u76ee\u5f55\u4e0b\uff0c\u65b9\u6cd5\u5f88\u591a\u3002</p>\\n<p>\u4f8b\u5982\u547d\u4ee4\u884c\uff1a</p>\\n<pre><code class=\\"language-bash\\">cp <span class=\\"hljs-regexp\\">/Users/</span>zhangruiwu<span class=\\"hljs-regexp\\">/Downloads/</span>qiniu-devtools-darwin_amd64-v2.<span class=\\"hljs-number\\">6.20131211</span><span class=\\"hljs-regexp\\">/qrsync /u</span>sr<span class=\\"hljs-regexp\\">/local/</span>bin</code></pre>\\n<p>\u8fd9\u6837\u5728\u4f60\u7684shell\u91cc\u5c31\u53ef\u4ee5\u7528qrsync\u8fd9\u4e2a\u547d\u4ee4\u4e86</p>\\n<h3 id=\\"\u914d\u7f6e-confjson\\">\u914d\u7f6e conf.json</h3>\\n<p>\u5148\u5efa\u7acb\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u6bd4\u5982\u53eb conf.json\uff0c\u5185\u5bb9\u5927\u4f53\u5982\u4e0b\uff1a</p>\\n<pre><code class=\\"language-json\\">{\\n    <span class=\\"hljs-attr\\">\\"access_key\\"</span>: <span class=\\"hljs-string\\">\\"Please apply your access key here\\"</span>,\\n    <span class=\\"hljs-attr\\">\\"secret_key\\"</span>: <span class=\\"hljs-string\\">\\"Dont send your secret key to anyone\\"</span>,\\n    <span class=\\"hljs-attr\\">\\"bucket\\"</span>: <span class=\\"hljs-string\\">\\"Bucket name on qiniu resource storage\\"</span>,\\n    <span class=\\"hljs-attr\\">\\"sync_dir\\"</span>: <span class=\\"hljs-string\\">\\"Local directory to upload\\"</span>,\\n    <span class=\\"hljs-attr\\">\\"async_ops\\"</span>: <span class=\\"hljs-string\\">\\"fop1;fop2;fopN\\"</span>,\\n    <span class=\\"hljs-attr\\">\\"debug_level\\"</span>: <span class=\\"hljs-number\\">1</span>\\n}</code></pre>\\n<p>\u5176\u4e2d\uff0c<code>access_key</code> \u548c <code>secret_key</code>\u5728\u4e03\u725b\u4e91\u5b58\u50a8\u5e73\u53f0\u4e0a\u7533\u8bf7\uff0c\u767b\u5f55\u4e03\u725b\u5f00\u53d1\u8005\u81ea\u52a9\u5e73\u53f0\uff0c\u67e5\u770b <code>Access Key</code> \u548c <code>Secret Key</code></p>\\n<p><code>bucket</code> \u662f\u4f60\u5728\u4e03\u725b\u4e91\u5b58\u50a8\u4e0a\u5e0c\u671b\u4fdd\u5b58\u6570\u636e\u7684 <code>Bucket</code>\u540d\uff08\u7c7b\u4f3c\u4e8e\u6570\u636e\u5e93\u7684\u8868\uff09\uff0c\u8fd9\u4e2a\u81ea\u5df1\u9009\u62e9\u4e00\u4e2a\u5408\u9002\u7684\u5c31\u53ef\u4ee5\uff0c\u8981\u6c42\u662f\u53ea\u80fd\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u7b49\u7ec4\u6210\u3002</p>\\n<p><code>sync_dir</code> \u662f\u672c\u5730\u9700\u8981\u4e0a\u4f20\u7684\u76ee\u5f55\uff0c\u7edd\u5bf9\u8def\u5f84\u5b8c\u6574\u8868\u793a\u3002\u8fd9\u4e2a\u76ee\u5f55\u4e2d\u7684\u6240\u6709\u5185\u5bb9\u4f1a\u88ab\u540c\u6b65\u5230\u6307\u5b9a\u7684 <code>bucket</code>\u4e0a\u3002\u6ce8\u610f\uff1aWindows \u5e73\u53f0\u4e0a\u8def\u5f84\u7684\u8868\u793a\u683c\u5f0f\u4e3a\uff1a<code>\u76d8\u7b26:/\u76ee\u5f55</code>\uff0c\u6bd4\u5982 E \u76d8\u4e0b\u7684\u76ee\u5f55 data \u8868\u793a\u4e3a\uff1a<code>e:/data</code> \u3002</p>\\n<p><code>async_ops</code> \u662f\u8bbe\u7f6e\u4e0a\u4f20\u9884\u8f6c\u53c2\u6570\uff0c\u4e00\u822c\u4e0a\u4f20\u7684\u97f3\u89c6\u9891\u5982\u679c\u9700\u8981\u8f6c\u7801\uff0c\u53ef\u4ee5\u4f7f\u7528\u8be5\u53c2\u6570\u3002</p>\\n<p><code>ignore_patterns</code>\u53c2\u6570\u662f\u4e00\u4e2a\u5173\u4e8e\u5ffd\u7565\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u5339\u914d\u5b57\u7b26\u4e32\u6570\u7ec4\uff0c\u5339\u914d\u89c4\u5219\u7c7b\u4f3c.gitignore.\\n\u5177\u4f53\u53c2\u8003<a href=\\"http://docs.qiniu.com/tools/v6/qrsync.html\\">\u5b98\u65b9\u6587\u6863</a></p>\\n<h3 id=\\"\u4f7f\u7528\u547d\u4ee4\u884c\u8fdb\u884c\u540c\u6b65\\">\u4f7f\u7528\u547d\u4ee4\u884c\u8fdb\u884c\u540c\u6b65</h3>\\n<p>\u547d\u4ee4\u884c\u8f93\u5165\uff1a</p>\\n<pre><code class=\\"language-bash\\">qrsync <span class=\\"hljs-string\\">/qnblog.json</span></code></pre>\\n<p>\u51fa\u73b0\u5982\u4e0b\u7ed3\u679c\u5219\u662f\u4e0a\u4f20\u6210\u529f\uff1a\\n<img src=\\"https://xiao555.netlify.com/qntc-1.png\\" alt=\\"\\"></p>\\n<p>\u800c\u56fe\u5e8a\u7684\u5916\u94fe\u524d\u7f00\u662f\u56fa\u5b9a\u7684\uff0c\u6240\u4ee5\u547d\u540d\u597d\u56fe\u7247\u540e\uff0c\u76f4\u63a5\u5728\u56fa\u5b9a\u524d\u7f00\u540e\u9762\u52a0\u4e0a\u6587\u4ef6\u540d\u5c31\u884c\u4e86\uff0c\u6bd4\u8f83\u65b9\u4fbf\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/qntc-2.png\\" alt=\\"\\"></p>\\n<p>\u53c2\u8003\u8d44\u6599\uff1a<a href=\\"http://docs.qiniu.com/tools/v6/qrsync.html\\">qrsync \u547d\u4ee4\u884c\u540c\u6b65\u5de5\u5177 </a></p>\\n","title":"\u642d\u5efa\u4e03\u725b\u56fe\u5e8a","tags":["\u4e03\u725b","\u56fe\u5e8a"],"slug":"build-a-chart-bed-with-qiniu","createDate":1484582400000,"id":"build-a-chart-bed-with-qiniu","thumb":"https://images.unsplash.com/photo-1582617730166-e55e5f82780b?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>\u6700\u8fd1\u505a\u5927\u4f5c\u4e1a\u9700\u8981\u7814\u7a76\u4e00\u4e0bNode.js\uff0c\u9700\u8981\u4e86\u89e3node\u4e0emongoDB\u7684\u94fe\u63a5\uff0c\u524d\u540e\u7aef\u7684\u901a\u4fe1\uff0c\u540e\u7aef\u7684\u903b\u8f91\u7ed3\u6784\u7b49\uff0c\u600e\u4e48\u5feb\u901f\u4e0a\u624b\u5462\uff1f\u90a3\u5c31\u505a\u4e2a\u804a\u5929\u5ba4\u5427\u3002</p>\\n","content":"<p>\u6700\u8fd1\u505a\u5927\u4f5c\u4e1a\u9700\u8981\u7814\u7a76\u4e00\u4e0bNode.js\uff0c\u9700\u8981\u4e86\u89e3node\u4e0emongoDB\u7684\u94fe\u63a5\uff0c\u524d\u540e\u7aef\u7684\u901a\u4fe1\uff0c\u540e\u7aef\u7684\u903b\u8f91\u7ed3\u6784\u7b49\uff0c\u600e\u4e48\u5feb\u901f\u4e0a\u624b\u5462\uff1f\u90a3\u5c31\u505a\u4e2a\u804a\u5929\u5ba4\u5427\u3002</p>\\n<h2 id=\\"\u5b89\u88c5nodejs\u548cmongodb\\">\u5b89\u88c5Node.JS\u548cMongoDB</h2>\\n<p>Node.js\u5c31\u4e0d\u591a\u8bf4\u4e86\uff0cMongoDB\u53ef\u4ee5\u770b\u6211\u4e0a\u4e00\u7bc7<a href=\\"http://www.xiao555.club/2016/04/30/win7%20%E5%AE%89%E8%A3%85MongoDB/\\">\u535a\u5ba2</a></p>\\n<h2 id=\\"\u6784\u5efaexpress\u9879\u76ee\\">\u6784\u5efaExpress\u9879\u76ee</h2>\\n<p>\u627e\u4e00\u4e2a\u5408\u9002\u7684\u5730\u65b9\uff1a</p>\\n<pre><code class=\\"language-bash\\"><span class=\\"hljs-attr\\">mkdir</span> <span class=\\"hljs-string\\">chatroom</span>\\n\\n<span class=\\"hljs-attr\\">cd</span> <span class=\\"hljs-string\\">chatroom</span>\\n\\n<span class=\\"hljs-attr\\">npm</span> <span class=\\"hljs-string\\">install express</span>\\n\\n<span class=\\"hljs-attr\\">express</span> <span class=\\"hljs-string\\">-e  //-e \u662f\u7528ejs\u4f5c\u4e3a\u6a21\u677f\u5f15\u64ce</span>\\n\\n<span class=\\"hljs-attr\\">npm</span> <span class=\\"hljs-string\\">install //\u5b89\u88c5\u4f9d\u8d56\uff0c\u76ee\u5f55\u5728package.json\u4e2d</span>\\n</code></pre>\\n<p>\u8fd9\u6837\u5c31\u521b\u5efa\u597d\u4e86\uff0c\u7ed3\u6784\u5982\u4e0b\uff1a</p>\\n<pre><code class=\\"language-bash\\">-<span class=\\"ruby\\"> chatroom\\n</span>\\n    -<span class=\\"ruby\\"> bin\\n</span>        -<span class=\\"ruby\\"> www           /<span class=\\"hljs-regexp\\">/\u914d\u7f6e\u7aef\u53e3\u542f\u52a8\u6587\u4ef6\\n</span></span>    -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> node_modules        /</span><span class=\\"hljs-regexp\\">/\u4e0b\u8f7d\u7684\u6a21\u5757\\n</span></span>        -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> express\\n</span></span>    -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> public            /</span><span class=\\"hljs-regexp\\">/\u9759\u6001\u8d44\u6e90\\n</span></span>        -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> images\\n</span></span>        -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> javascripts\\n</span></span>        -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> stylesheets\\n</span></span>    -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> routes            /</span><span class=\\"hljs-regexp\\">/\u540e\u7aef\u903b\u8f91\u3001\u8def\u7531\\n</span></span>        -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> index.js\\n</span></span>        -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> users.js\\n</span></span>    -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> views                /</span><span class=\\"hljs-regexp\\">/\u89c6\u56fe\\n</span></span>        -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> error.ejs\\n</span></span>        -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> index.ejs\\n</span></span>    -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> app.js             /</span><span class=\\"hljs-regexp\\">/\u5165\u53e3\u6587\u4ef6\uff0c\u76f8\u5f53\u4e8emain();\\n</span></span>    -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> package.json         /</span><span class=\\"hljs-regexp\\">/\u914d\u7f6e\u4fe1\u606f</span></span></code></pre>\\n<p>\u6211\u6309\u7167\u4e2a\u4eba\u4e60\u60ef\u505a\u4e00\u4e9b\u8c03\u6574</p>\\n<pre><code>-<span class=\\"ruby\\"> chatroom\\n</span>\\n    -<span class=\\"ruby\\"> node_modules        /<span class=\\"hljs-regexp\\">/\u4e0b\u8f7d\u7684\u6a21\u5757\\n</span></span>        -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> express\\n</span></span>    -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> public            /</span><span class=\\"hljs-regexp\\">/\u9759\u6001\u8d44\u6e90\\n</span></span>        -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> img\\n</span></span>        -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> js\\n</span></span>        -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> css\\n</span></span>    -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> routes            /</span><span class=\\"hljs-regexp\\">/\u540e\u7aef\u903b\u8f91\u3001\u8def\u7531\\n</span></span>        -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> index.js\\n</span></span>        -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> users.js\\n</span></span>    -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> views                /</span><span class=\\"hljs-regexp\\">/\u89c6\u56fe\\n</span></span>        -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> error.ejs\\n</span></span>        -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> index.ejs\\n</span></span>    -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> app.js             /</span><span class=\\"hljs-regexp\\">/\u5165\u53e3\u6587\u4ef6\uff0c\u76f8\u5f53\u4e8emain();\\n</span></span>    -<span class=\\"ruby\\"><span class=\\"hljs-regexp\\"> package.json         /</span><span class=\\"hljs-regexp\\">/\u914d\u7f6e\u4fe1\u606f</span></span></code></pre><p>\u6211\u628apublic\u76ee\u5f55\u4e0b\u76ee\u5f55\u6539\u4e00\u4e0b\u540d\u79f0\uff0cwww\u6587\u4ef6\u5220\u4e86\uff0c\u7528app.js\u4f5c\u4e3a\u542f\u52a8\u6587\u4ef6\uff0c\u5c31\u9700\u8981\u4fee\u6539\u4e00\u4e0bapp.js\uff1a</p>\\n<pre><code class=\\"language-javascript\\">var <span class=\\"hljs-keyword\\">debug</span> = require(<span class=\\"hljs-string\\">\'debug\'</span>)(<span class=\\"hljs-string\\">\'chat\'</span>);\\n//var users = require(<span class=\\"hljs-string\\">\'./routes/users\'</span>);    //\u5355\u9875\u9762\u4e0d\u9700\u8981\u8fd9\u4e2a\\n\\napp.<span class=\\"hljs-keyword\\">set</span>(<span class=\\"hljs-string\\">\'port\'</span>, process.env.PORT || <span class=\\"hljs-number\\">3000</span>);\\n\\nvar <span class=\\"hljs-keyword\\">server</span> = app.<span class=\\"hljs-keyword\\">listen</span>(app.<span class=\\"hljs-keyword\\">get</span>(<span class=\\"hljs-string\\">\'port\'</span>), <span class=\\"hljs-keyword\\">function</span>(){\\n  <span class=\\"hljs-keyword\\">debug</span>(<span class=\\"hljs-string\\">\'Express server listening on port \'</span> + <span class=\\"hljs-keyword\\">server</span>.address().port);\\n})\\n\\n//app.use(<span class=\\"hljs-string\\">\'/users\'</span>, users);</code></pre>\\n<p>\u589e\u52a0\uff0c\u6ce8\u91ca\u8fd9\u4e9b\u540e\uff0c\u8fd0\u884c <code>DEBUG=chatroom &amp; node app.js</code> \u6216 <code>node app.js</code> ,\u7136\u540e\u6d4f\u89c8\u5668\u6253\u5f00<a href=\\"127.0.0.1:3000\\">127.0.0.1:3000</a>,\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5c31\u8bf4\u660e\u914d\u7f6e\u597d\u4e86</p>\\n<p><img src=\\"https://xiao555.netlify.com/005NJVkbjw1f3fsnv448uj311y0kg0vk.jpg\\" alt=\\"\\"></p>\\n<h2 id=\\"\u5b9e\u73b0\u524d\u7aef\u9875\u9762\\">\u5b9e\u73b0\u524d\u7aef\u9875\u9762</h2>\\n<p>\u8fd9\u4e2a\u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\uff0c\u4fee\u6539views\u76ee\u5f55\u4e0b\u7684index.ejs\u6587\u4ef6\uff0c\u6548\u679c\u5982\u4e0b\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/005NJVkbjw1f3ftv2386qj311y0kg0wl.jpg\\" alt=\\"\\"></p>\\n<h2 id=\\"\u6570\u636e\u5e93\u8bbe\u8ba1\\">\u6570\u636e\u5e93\u8bbe\u8ba1</h2>\\n<p>\u6ce8\u610f\u4f7f\u7528\u6570\u636e\u5e93\u524d\u4e00\u5b9a\u8981\u5148\u5f00\u542fmongodb\u670d\u52a1\uff01</p>\\n<p>\u5b89\u88c5 mongodb \u548c mongoose \u6a21\u5757\uff1a</p>\\n<pre><code class=\\"language-bash\\">npm <span class=\\"hljs-keyword\\">install</span> mongodb mongoose</code></pre>\\n<p>\u5728\u4e3b\u76ee\u5f55\u4e0b\u65b0\u5efachat_server.js :</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">var</span> mongoose = <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'mongoose\'</span>);\\n\\n<span class=\\"hljs-comment\\">//\u8fde\u63a5\u6570\u636e\u5e93</span>\\n<span class=\\"hljs-keyword\\">var</span> db = mongoose.createConnection(<span class=\\"hljs-string\\">\'localhost\'</span>,<span class=\\"hljs-string\\">\'chatroom\'</span>);\\ndb.on(<span class=\\"hljs-string\\">\'error\'</span>,<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">err</span>) </span>{\\n    <span class=\\"hljs-built_in\\">console</span>.error(err);\\n});\\n<span class=\\"hljs-keyword\\">var</span> Schema = mongoose.Schema;\\n\\n<span class=\\"hljs-comment\\">//\u804a\u5929\u8bb0\u5f55\u8868</span>\\n<span class=\\"hljs-keyword\\">var</span> ChatSchema = <span class=\\"hljs-keyword\\">new</span> Schema({\\n    <span class=\\"hljs-attr\\">nickname</span>: <span class=\\"hljs-built_in\\">String</span>,\\n    <span class=\\"hljs-attr\\">time</span>: <span class=\\"hljs-built_in\\">String</span>,\\n    <span class=\\"hljs-attr\\">content</span>: <span class=\\"hljs-built_in\\">String</span>\\n});\\n<span class=\\"hljs-keyword\\">var</span> ChatModel = db.model(<span class=\\"hljs-string\\">\'chats\'</span>,ChatSchema);\\n\\n\\n<span class=\\"hljs-comment\\">// \u8fd9\u91cc\u7684listen\u51fd\u6570\u5728 app.js \u6587\u4ef6\u4e2d\u88ab\u8c03\u7528</span>\\nexports.listen = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">_server</span>)</span>{\\n    <span class=\\"hljs-keyword\\">return</span> io.listen(_server);\\n}</code></pre>\\n<p>\u5728app.js\u4e2d\u589e\u52a0\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-selector-tag\\">require</span>(<span class=\\"hljs-string\\">\'./chat\\\\_server\'</span>)<span class=\\"hljs-selector-class\\">.listen</span>(server);</code></pre>\\n<h2 id=\\"\u524d\u540e\u7aef\u901a\u4fe1socketio\\">\u524d\u540e\u7aef\u901a\u4fe1Socket.io</h2>\\n<p>\u501f\u7528\u8fd9\u7bc7<a href=\\"http://my.oschina.net/voler/blog/626226?fromerr=UumMewCx\\">\u535a\u5ba2</a>\u91cc\u8bb2\u7684\u4ecb\u7ecd\u4e00\u4e0bsocket.io\uff1a</p>\\n<p>\u9996\u5148\u5148\u7b80\u5355\u8bb2\u89e3\u4e0bSocket.io\u7684\u539f\u7406. \u64cd\u4f5c\u7cfb\u7edf\u6709\u4e00\u4e2a\u975e\u5e38\u4f1f\u5927\u7684\u8bbe\u8ba1\u5c31\u662f\u8f6e\u8be2\u673a\u5236,\u800cNode.js\u4e2d\u7684callback\u673a\u5236\u6b63\u662f\u57fa\u4e8e\u6b64\u673a\u5236:</p>\\n<p><img src=\\"https://xiao555.netlify.com/084929_dx2L_1017135.png\\" alt=\\"\\"></p>\\n<p>JS\u7684\u5f02\u6b65\u7f16\u7a0b\u5c31\u662f\u8fd9\u4e48\u6765\u7684.\u4f46\u662f\u5bf9\u4e8e\u7c7b\u4f3c\u804a\u5929\u8fd9\u79cd\u5e94\u7528,\u4f7f\u7528\u8f6e\u8be2\u673a\u5236\u660e\u663e\u4e0d\u5408\u7406.\u8f6e\u8be2\u673a\u5236\u5728\u4e8e\u4f60\u89e6\u53d1\u4e86\u4e00\u4e2a\u4e8b\u4ef6\u540e\u5f02\u6b65\u5904\u7406,\u4f46\u8fd9\u91cc\u5f02\u6b65\u672c\u8eab\u5c31\u662f\u786c\u4f24,\u6bd5\u7adf\u804a\u5929\u8981\u5b9e\u65f6\u7684.</p>\\n<p>\u800cNode.js\u4e2d\u6709\u53e6\u5916\u4e00\u79cd\u4f1f\u5927\u7684\u6a21\u578b: \u89c2\u5bdf\u8005\u6a21\u5f0f. \u5373\u6211\u5c31\u4e00\u76f4\u76d1\u542c,\u76d1\u542c\u5230\u7684\u67d0\u4e2a\u4e8b\u4ef6\u540e,\u6267\u884c\u76f8\u5e94\u7684\u5904\u7406\u51fd\u6570.</p>\\n<p><img src=\\"https://xiao555.netlify.com/084956_5TlW_1017135.png\\" alt=\\"\\"></p>\\n<h3 id=\\"\u4e3e\u4e2a\u6817\u5b50\\">\u4e3e\u4e2a\u6817\u5b50</h3>\\n<p>\u5728chat_server.js\u4e2d\u6dfb\u52a0\uff1a</p>\\n<pre><code class=\\"language-javascript\\">var io = require(\'socket.io\')<span class=\\"hljs-literal\\">()</span>;\\nvar xssEscape = require(\'xss-escape\');\\n\\nvar nickname_list = <span class=\\"hljs-literal\\">[]</span>;\\n\\n<span class=\\"hljs-comment\\">// \u68c0\u67e5\u662f\u6635\u79f0\u662f\u5426\u5df2\u7ecf\u5b58\u5728</span>\\n<span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-constructor\\">HasNickname(<span class=\\"hljs-params\\">_nickname</span>)</span>{\\n    for(var i=<span class=\\"hljs-number\\">0</span>; i&lt;nickname_list.length; i++){\\n        <span class=\\"hljs-keyword\\">if</span>(nickname_list<span class=\\"hljs-literal\\">[<span class=\\"hljs-identifier\\">i</span>]</span><span class=\\"hljs-operator\\"> == </span>_nickname){\\n            return <span class=\\"hljs-literal\\">true</span>;\\n        }\\n    }\\n};\\n\\n<span class=\\"hljs-comment\\">// \u5220\u9664\u6635\u79f0</span>\\n<span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-constructor\\">RemoveNickname(<span class=\\"hljs-params\\">_nickname</span>)</span>{\\n    for(var i=<span class=\\"hljs-number\\">0</span>; i&lt; nickname_list.length; i++){\\n        <span class=\\"hljs-keyword\\">if</span>(nickname_list<span class=\\"hljs-literal\\">[<span class=\\"hljs-identifier\\">i</span>]</span><span class=\\"hljs-operator\\"> == </span>_nickname){\\n            nickname_list.splice(i, <span class=\\"hljs-number\\">1</span>);\\n        }\\n    }\\n}\\n\\nio.on(\'connection\', <span class=\\"hljs-keyword\\">function</span>(_socket){\\n    console.log(<span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>id + \':connection\');\\n\\n    <span class=\\"hljs-comment\\">// \u5411\u5f53\u524d\u7528\u6237\u53d1\u9001\u547d\u4ee4\u548c\u6d88\u606f</span>\\n    <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>emit(\'user_list\', nickname_list);\\n    <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>emit(\'need_nickname\');\\n    <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>emit(\'server_message<span class=\\"hljs-character\\">\',\'</span>\u6b22\u8fce\u6765\u5230\u804a\u5929\u5ba4 :)\');\\n\\n    <span class=\\"hljs-comment\\">// \u76d1\u542c\u5f53\u524d\u7528\u6237\u7684\u8bf7\u6c42\u548c\u6570\u636e</span>\\n\\n    <span class=\\"hljs-comment\\">// \u79bb\u5f00</span>\\n    <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>on(\'disconnect\', <span class=\\"hljs-keyword\\">function</span><span class=\\"hljs-literal\\">()</span>{\\n        console.log(<span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>id + \':disconnect\');\\n        <span class=\\"hljs-keyword\\">if</span>(<span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>nickname != null<span class=\\"hljs-operator\\"> &amp;&amp; </span><span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>nickname != <span class=\\"hljs-string\\">\\"\\"</span>){\\n            <span class=\\"hljs-comment\\">// \u5e7f\u64ad \u7528\u6237\u9000\u51fa</span>\\n            <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>broadcast.emit(\'user_quit\', <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>nickname);\\n            <span class=\\"hljs-constructor\\">RemoveNickname(<span class=\\"hljs-params\\">_socket</span>.<span class=\\"hljs-params\\">nickname</span>)</span>;\\n        }\\n    });\\n\\n    <span class=\\"hljs-comment\\">// \u6dfb\u52a0 \u548c \u4fee\u6539 \u6635\u79f0</span>\\n    <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>on(\'change_nickname\', <span class=\\"hljs-keyword\\">function</span>(_nickname, clr){\\n        console.log(<span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>id + \': change<span class=\\"hljs-constructor\\">_nickname(\'+<span class=\\"hljs-params\\">_nickname</span>+\')</span>\');\\n\\n        _nickname = xss<span class=\\"hljs-constructor\\">Escape(<span class=\\"hljs-params\\">_nickname</span>.<span class=\\"hljs-params\\">trim</span>()</span>);\\n\\n        <span class=\\"hljs-comment\\">// \u534a\u89d2\u66ff\u6362\u4e3att\uff0c\u6a21\u62df\u4e3a\u5168\u89d2\u5b57\u7b26\u5224\u65ad\u957f\u5ea6</span>\\n        var name_len = <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_nickname</span>.</span></span>replace(/<span class=\\"hljs-literal\\">[^\\\\<span class=\\"hljs-identifier\\">u0000</span>-\\\\<span class=\\"hljs-identifier\\">u00ff</span>]</span>/g, <span class=\\"hljs-string\\">\\"tt\\"</span>).length;\\n\\n        <span class=\\"hljs-comment\\">// \u5b57\u7b26\u957f\u5ea6\u5fc5\u987b\u57284\u523016\u4e2a\u5b57\u7b26\u4e4b\u95f4</span>\\n        <span class=\\"hljs-keyword\\">if</span>(name_len &lt; <span class=\\"hljs-number\\">4</span><span class=\\"hljs-operator\\"> || </span>name_len &gt; <span class=\\"hljs-number\\">16</span>){\\n            return <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>emit(\'change_nickname_error\', \'\u8bf7\u586b\u5199\u6b63\u786e\u7684\u7528\u6237\u6635\u79f0\uff0c\u5e94\u5728<span class=\\"hljs-number\\">4</span>\u5230<span class=\\"hljs-number\\">16</span>\u4e2a\u5b57\u7b26\u4e4b\u95f4\u3002\')\\n        }\\n\\n        <span class=\\"hljs-comment\\">// \u6635\u79f0\u91cd\u590d</span>\\n        <span class=\\"hljs-keyword\\">if</span>(<span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>nickname<span class=\\"hljs-operator\\"> == </span>_nickname){\\n            return <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>emit(\'change_nickname_error\', \'\u4f60\u672c\u6765\u5c31\u53eb\u8fd9\u4e2a\u540d\u5b57\u3002\')\\n        }\\n\\n        <span class=\\"hljs-comment\\">// \u6635\u79f0\u5df2\u7ecf\u88ab\u5360\u7528</span>\\n        <span class=\\"hljs-keyword\\">if</span>(<span class=\\"hljs-constructor\\">HasNickname(<span class=\\"hljs-params\\">_nickname</span>)</span>){\\n            return <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>emit(\'change_nickname_error\', \'\u6b64\u6635\u79f0\u5df2\u7ecf\u88ab\u5360\u7528\u3002\')\\n        }\\n\\n        var old_name = \'\';\\n        <span class=\\"hljs-keyword\\">if</span>(<span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>nickname != \'\'<span class=\\"hljs-operator\\"> &amp;&amp; </span><span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>nickname != null){\\n            old_name = <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>nickname;\\n            <span class=\\"hljs-constructor\\">RemoveNickname(<span class=\\"hljs-params\\">old_name</span>)</span>;\\n        }\\n\\n        nickname_list.push(_nickname);\\n        <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>nickname = _nickname;\\n        <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>color = clr;\\n\\n        console.log(nickname_list);\\n\\n        <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>emit(\'change_nickname_done\', old_name, _nickname, clr);\\n\\n        <span class=\\"hljs-keyword\\">if</span>(old_name<span class=\\"hljs-operator\\"> == </span>\'\'){\\n            <span class=\\"hljs-comment\\">// \u5e7f\u64ad \u7528\u6237\u52a0\u5165</span>\\n            return <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>broadcast.emit(\'user_join\', _nickname);\\n        }<span class=\\"hljs-keyword\\">else</span>{\\n            <span class=\\"hljs-comment\\">// \u5e7f\u64ad \u7528\u6237\u6539\u540d</span>\\n            return <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>broadcast.emit(\'user_change_nickname\', old_name, _nickname);\\n        }\\n    });\\n\\n    <span class=\\"hljs-comment\\">// \u8bf4\u8bdd</span>\\n    <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>on(\'say\', <span class=\\"hljs-keyword\\">function</span>(_time, _content){\\n        <span class=\\"hljs-keyword\\">if</span>(\'\'<span class=\\"hljs-operator\\"> == </span><span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>nickname<span class=\\"hljs-operator\\"> || </span>null<span class=\\"hljs-operator\\"> == </span><span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>nickname){\\n            return <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>emit(\'need_nickname\');\\n        }\\n\\n        _content = <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_content</span>.</span></span>trim<span class=\\"hljs-literal\\">()</span>;\\n        var chatinfo = <span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-constructor\\">ChatModel()</span>;\\n        chatinfo.nickname = <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>nickname;\\n        chatinfo.time = _time;\\n        chatinfo.content = _content;\\n        chatinfo.save(<span class=\\"hljs-keyword\\">function</span>(err) {\\n            <span class=\\"hljs-keyword\\">if</span> (err) throw err;\\n        });\\n        <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">ChatModel</span>.</span></span>find({nickname: <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>nickname},<span class=\\"hljs-keyword\\">function</span>(err,data) {\\n            <span class=\\"hljs-keyword\\">if</span> (err) {\\n             console.log(\'\u5b58\u50a8\u5931\u8d25\' + err);\\n             return;\\n             } <span class=\\"hljs-keyword\\">else</span> {\\n             console.log(\'\u5b58\u50a8\u6210\u529f\uff1a\' + data);\\n             }\\n        });\\n        console.log(<span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>nickname + \': say(\'+_content+<span class=\\"hljs-character\\">\')\'</span>);\\n        <span class=\\"hljs-comment\\">// \u5e7f\u64ad \u7528\u6237\u65b0\u6d88\u606f</span>\\n        <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>broadcast.emit(\'user_say\', <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>nickname, xss<span class=\\"hljs-constructor\\">Escape(<span class=\\"hljs-params\\">_content</span>)</span>, <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>color);\\n        return <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>emit(\'say_done\', <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>nickname, xss<span class=\\"hljs-constructor\\">Escape(<span class=\\"hljs-params\\">_content</span>)</span>, <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>color);\\n    });\\n\\n    <span class=\\"hljs-comment\\">//\u663e\u793a\u5386\u53f2\u8bb0\u5f55</span>\\n    <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>on(\'show_history\',<span class=\\"hljs-keyword\\">function</span>(clr){\\n        console.log(\'ok\');\\n        <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">ChatModel</span>.</span></span>find({},<span class=\\"hljs-keyword\\">function</span>(err,data) {\\n            <span class=\\"hljs-keyword\\">if</span> (err) {\\n             console.error(err);\\n             return;\\n             } <span class=\\"hljs-keyword\\">else</span> {\\n                 console.log(\'data = \' + data);\\n                 console.log(data<span class=\\"hljs-literal\\">[<span class=\\"hljs-number\\">0</span>]</span>.nickname);\\n                 for(var i = <span class=\\"hljs-number\\">0</span>;i &lt; data.length;i++){\\n                    console.log(data<span class=\\"hljs-literal\\">[<span class=\\"hljs-identifier\\">i</span>]</span>.nickname, data<span class=\\"hljs-literal\\">[<span class=\\"hljs-identifier\\">i</span>]</span>.time, xss<span class=\\"hljs-constructor\\">Escape(<span class=\\"hljs-params\\">data</span>[<span class=\\"hljs-params\\">i</span>].<span class=\\"hljs-params\\">content</span>)</span>, clr);\\n                    <span class=\\"hljs-module-access\\"><span class=\\"hljs-module\\"><span class=\\"hljs-identifier\\">_socket</span>.</span></span>emit(\'return_history\', data<span class=\\"hljs-literal\\">[<span class=\\"hljs-identifier\\">i</span>]</span>.nickname, data<span class=\\"hljs-literal\\">[<span class=\\"hljs-identifier\\">i</span>]</span>.time, xss<span class=\\"hljs-constructor\\">Escape(<span class=\\"hljs-params\\">data</span>[<span class=\\"hljs-params\\">i</span>].<span class=\\"hljs-params\\">content</span>)</span>, clr);\\n                }\\n             }\\n        });\\n    });\\n})</code></pre>\\n<p>\u8fd9\u662f\u540e\u7aef\u7684\u54cd\u5e94\u673a\u5236\uff0c\u524d\u7aef\u903b\u8f91\u5728public\u76ee\u5f55\u4e0bjs\u4e2d\u7684index.js\u4e2d,\u8fd9\u91cc\u5c31\u7b80\u5355\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u663e\u793a\u5386\u53f2\u6d88\u606f\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">var</span> chat_Utils,     <span class=\\"hljs-comment\\">//\u804a\u5929\u5ba4 \u5de5\u5177\u7c7b</span>\\n    chat_UI,         <span class=\\"hljs-comment\\">//\u804a\u5929\u5ba4 \u754c\u9762\u903b\u8f91</span>\\n    chat_Socket;     <span class=\\"hljs-comment\\">//\u804a\u5929\u5ba4 \u6570\u636e\u903b\u8f91</span>\\n\\n<span class=\\"hljs-comment\\">// \u4e0e\u540e\u53f0\u670d\u52a1\u5668\u5efa\u7acbwebsocket\u8fde\u63a5</span>\\n<span class=\\"hljs-keyword\\">var</span> chat_server = <span class=\\"hljs-string\\">\\"http://\\"</span> + location.hostname + <span class=\\"hljs-string\\">\':3000\'</span>;\\n<span class=\\"hljs-keyword\\">var</span> socket = io.connect(chat_server);\\n\\n\\nchat_UI = {\\n    <span class=\\"hljs-attr\\">init</span>: <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n        <span class=\\"hljs-keyword\\">this</span>.historyShow();        <span class=\\"hljs-comment\\">//\u70b9\u51fb\u663e\u793a\u5386\u53f2\u6d88\u606f\u4e8b\u4ef6</span>\\n    },\\n    <span class=\\"hljs-attr\\">historyShow</span>:<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n            <span class=\\"hljs-keyword\\">var</span> self = <span class=\\"hljs-keyword\\">this</span>;\\n            $(<span class=\\"hljs-string\\">\\"#showHistory\\"</span>).on(<span class=\\"hljs-string\\">\'click\'</span>,<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n                <span class=\\"hljs-keyword\\">if</span>($(<span class=\\"hljs-string\\">\'#history-modal\'</span>).css(<span class=\\"hljs-string\\">\'display\'</span>) == <span class=\\"hljs-string\\">\'none\'</span>) {\\n                    $(<span class=\\"hljs-string\\">\'.history-list-body\'</span>).empty();\\n                }\\n                $(<span class=\\"hljs-string\\">\\"#history-modal\\"</span>).modal(<span class=\\"hljs-string\\">\'show\'</span>);\\n                chat_Socket.showHistory(chat_Utils.getUserColor());\\n            })\\n    },\\n    <span class=\\"hljs-attr\\">chatBodyToBottom</span>: <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n        <span class=\\"hljs-keyword\\">var</span> chat_body = $(<span class=\\"hljs-string\\">\'.chat-body\'</span>);\\n        <span class=\\"hljs-keyword\\">var</span> height = chat_body.prop(<span class=\\"hljs-string\\">\'scrollHeight\'</span>);\\n        chat_body.prop(<span class=\\"hljs-string\\">\'scrollTop\'</span>, height);\\n    },\\n    <span class=\\"hljs-attr\\">addHistoryMessage</span>: <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">_time, _content, _name, clr</span>)</span>{\\n        <span class=\\"hljs-keyword\\">var</span> history_list = $(<span class=\\"hljs-string\\">\'.history-list-body\'</span>);\\n        _content = QxEmotion.Parse(_content);\\n        <span class=\\"hljs-keyword\\">var</span> msgAlignCls = _name ==$(<span class=\\"hljs-string\\">\'#my-nickname\'</span>).text() ? <span class=\\"hljs-string\\">\'msg-right\'</span>:<span class=\\"hljs-string\\">\'msg-left\'</span>;\\n        history_list.append(\\n            <span class=\\"hljs-string\\">\'&lt;div class=\\"msg-item clearfix \'</span>+msgAlignCls+<span class=\\"hljs-string\\">\'\\"&gt;\\\\\\n                    &lt;div class=\\"msg-avatar\\" style=\\"background-color:\'</span>+clr+<span class=\\"hljs-string\\">\';\\"&gt;&lt;i class=\\"glyphicon glyphicon-user\\"&gt;&lt;/i&gt;&lt;/div&gt;\\\\\\n                    &lt;div class=\\"msg-con-box\\" style=\\"background-color:\'</span>+clr+<span class=\\"hljs-string\\">\';\\"&gt;\\\\\\n                        &lt;p class=\\"con\\"&gt;\'</span>+_content+<span class=\\"hljs-string\\">\'&lt;/p&gt;\\\\\\n                        &lt;time class=\\"time\\"&gt;\'</span>+_time+<span class=\\"hljs-string\\">\'&lt;/time&gt;\\\\\\n                    &lt;/div&gt;\\\\\\n                &lt;/div&gt;\'</span>\\n            );\\n        <span class=\\"hljs-keyword\\">this</span>.chatBodyToBottom();\\n\\n    },\\n};\\n\\nchat_Socket = {\\n    <span class=\\"hljs-attr\\">init</span>:<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n        <span class=\\"hljs-keyword\\">this</span>.chatHistoryEv();<span class=\\"hljs-comment\\">//\u76d1\u542c\u540e\u7aef \u83b7\u53d6\u5386\u53f2\u6d88\u606f</span>\\n    },\\n    <span class=\\"hljs-attr\\">showHistory</span>:<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">clr</span>)</span>{\\n        socket.emit(<span class=\\"hljs-string\\">\'show_history\'</span>,clr);\\n    },\\n    <span class=\\"hljs-attr\\">chatHistoryEv</span>:<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n        socket.on(<span class=\\"hljs-string\\">\'return_history\'</span>,<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">_nickname, _time, _content, clr</span>) </span>{\\n            <span class=\\"hljs-built_in\\">console</span>.log(_nickname, _time, _content, clr);\\n            chat_UI.addHistoryMessage(_time, _content, _nickname, clr);\\n        });\\n    },\\n}\\n\\nchat_UI.init();\\nchat_Socket.init();</code></pre>\\n<p>\u6211\u4eec\u8fc7\u4e00\u4e0b\u601d\u8def\uff0c\u9996\u5148\u5f53\u7528\u6237\u70b9\u51fb\u663e\u793a\u5386\u53f2\u6d88\u606f\u65f6\uff0c\u8c03\u7528chat_UI.historyShow\u51fd\u6570\uff0c\u5148\u6e05\u7a7a\u4e00\u4e0b\u5386\u53f2\u8bb0\u5f55\u5217\u8868\uff0c\u7136\u540e\u663e\u793a\u5386\u53f2\u8bb0\u5f55\u5f39\u7a97\uff0c\u8c03\u7528chat_Socket.showHistory\u51fd\u6570\uff1a</p>\\n<pre><code class=\\"language-javascript\\">historyShow:<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n            <span class=\\"hljs-keyword\\">var</span> self = <span class=\\"hljs-keyword\\">this</span>;\\n            $(<span class=\\"hljs-string\\">\\"#showHistory\\"</span>).on(<span class=\\"hljs-string\\">\'click\'</span>,<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n                <span class=\\"hljs-keyword\\">if</span>($(<span class=\\"hljs-string\\">\'#history-modal\'</span>).css(<span class=\\"hljs-string\\">\'display\'</span>) == <span class=\\"hljs-string\\">\'none\'</span>) {\\n                    $(<span class=\\"hljs-string\\">\'.history-list-body\'</span>).empty();\\n                }\\n                $(<span class=\\"hljs-string\\">\\"#history-modal\\"</span>).modal(<span class=\\"hljs-string\\">\'show\'</span>);\\n                chat_Socket.showHistory(chat_Utils.getUserColor());\\n            })\\n    },</code></pre>\\n<p>chat_Socket.showHistory\u8fd9\u4e2a\u51fd\u6570\u8c03\u7528socket.emit\u53d1\u5c04show_history\u4e8b\u4ef6\uff1a</p>\\n<pre><code class=\\"language-javascript\\">showHistory:<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span><span class=\\"hljs-params\\">(clr)</span></span>{\\n        socket.emit(<span class=\\"hljs-string\\">\'show_history\'</span>,clr);\\n    },</code></pre>\\n<p>\u540e\u7aefchat_server.js \u4e2d\u7528socket.on(\u2018show_history\u2019)\u6355\u83b7\u4e86\u8fd9\u4e00\u4e8b\u4ef6,\u4ece\u6570\u636e\u5e93\u4e2d\u83b7\u53d6\u6570\u636e\u53d1\u9001return_history\u4e8b\u4ef6\u5230\u524d\u7aef\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-comment\\">//\u663e\u793a\u5386\u53f2\u8bb0\u5f55</span>\\n    _socket.on(<span class=\\"hljs-string\\">\'show_history\'</span>,<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">clr</span>)</span>{\\n        <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'ok\'</span>);\\n        ChatModel.find({},<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">err,data</span>) </span>{\\n            <span class=\\"hljs-keyword\\">if</span> (err) {\\n             <span class=\\"hljs-built_in\\">console</span>.error(err);\\n             <span class=\\"hljs-keyword\\">return</span>;\\n             } <span class=\\"hljs-keyword\\">else</span> {\\n                 <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">var</span> i = <span class=\\"hljs-number\\">0</span>;i &lt; data.length;i++){\\n                    _socket.emit(<span class=\\"hljs-string\\">\'return_history\'</span>, data[i].nickname, data[i].time, xssEscape(data[i].content), clr);\\n                }\\n             }\\n        });\\n    });</code></pre>\\n<p>\u524d\u7aefindex.js \u4e2d chat_Socket.chatHistoryEv()\u51fd\u6570\u6355\u83b7return_history\u4e8b\u4ef6\uff0c\u8c03\u7528chat_UI.addHistoryMessage\u6dfb\u52a0\u5230\u5386\u53f2\u8bb0\u5f55\u5217\u8868\u4e2d\uff1a</p>\\n<pre><code class=\\"language-javascript\\">chatHistoryEv:function(){\\n        socket.on(<span class=\\"hljs-string\\">\'return_history\'</span>,function(<span class=\\"hljs-variable\\">_nickname</span>, <span class=\\"hljs-variable\\">_time</span>, <span class=\\"hljs-variable\\">_content</span>, clr) {\\n            console.<span class=\\"hljs-built_in\\">log</span>(<span class=\\"hljs-variable\\">_nickname</span>, <span class=\\"hljs-variable\\">_time</span>, <span class=\\"hljs-variable\\">_content</span>, clr);\\n            chat_UI.addHistoryMessage(<span class=\\"hljs-variable\\">_time</span>, <span class=\\"hljs-variable\\">_content</span>, <span class=\\"hljs-variable\\">_nickname</span>, clr);\\n        });\\n    },</code></pre>\\n<p>\u6574\u4e2a\u663e\u793a\u5386\u53f2\u8bb0\u5f55\u7684\u8fc7\u7a0b\u5c31\u7ed3\u675f\u4e86\u3002</p>\\n<h2 id=\\"\u6570\u636e\u5e93\u7684\u64cd\u4f5c\\">\u6570\u636e\u5e93\u7684\u64cd\u4f5c</h2>\\n<p>\u524d\u9762\u6211\u4eec\u5df2\u7ecf\u8bbe\u8ba1\u597d\u4e86\u6570\u636e\u5e93\uff1a</p>\\n<pre><code class=\\"language-javascript\\"><span class=\\"hljs-keyword\\">var</span> mongoose = <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'mongoose\'</span>);\\n\\n<span class=\\"hljs-comment\\">//\u8fde\u63a5\u6570\u636e\u5e93</span>\\n<span class=\\"hljs-keyword\\">var</span> db = mongoose.createConnection(<span class=\\"hljs-string\\">\'localhost\'</span>,<span class=\\"hljs-string\\">\'chatroom\'</span>);\\ndb.on(<span class=\\"hljs-string\\">\'error\'</span>,<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">err</span>) </span>{\\n    <span class=\\"hljs-built_in\\">console</span>.error(err);\\n});\\n<span class=\\"hljs-keyword\\">var</span> Schema = mongoose.Schema;\\n\\n<span class=\\"hljs-comment\\">//\u804a\u5929\u8bb0\u5f55\u8868</span>\\n<span class=\\"hljs-keyword\\">var</span> ChatSchema = <span class=\\"hljs-keyword\\">new</span> Schema({\\n    <span class=\\"hljs-attr\\">nickname</span>: <span class=\\"hljs-built_in\\">String</span>,\\n    <span class=\\"hljs-attr\\">time</span>: <span class=\\"hljs-built_in\\">String</span>,\\n    <span class=\\"hljs-attr\\">content</span>: <span class=\\"hljs-built_in\\">String</span>\\n});\\n<span class=\\"hljs-keyword\\">var</span> ChatModel = db.model(<span class=\\"hljs-string\\">\'chats\'</span>,ChatSchema);</code></pre>\\n<p>\u6570\u636e\u5e93\u7684\u8bbe\u8ba1\u5305\u62ecSchema \u6a21\u5f0f(\u6570\u636e\u8bb0\u5f55\u7684\u683c\u5f0f)\u3001Model \u7f16\u8bd1\u6a21\u578b\u3001Documents \u6587\u6863\u5b9e\u4f8b\u5316\u3002\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\u6211\u4eec\u8fde\u63a5\u4e86chatroom\u6570\u636e\u5e93\uff0c\u8bbe\u8ba1\u4e86ChatSchema\u6a21\u5f0f\uff0c\u7f16\u8bd1\u4e86ChatModel \u6a21\u578b\uff0c\u7f16\u8bd1\u597d\u6a21\u578b\u540e\u6211\u4eec\u521b\u5efa\u4e00\u6761\u65b0\u7684\u8bb0\u5f55\u53ea\u9700\u8981new\u4e00\u4e0b\u5c31\u884c\u3002</p>\\n<h3 id=\\"\u4fdd\u5b58\u65b0\u6570\u636e\\">\u4fdd\u5b58\u65b0\u6570\u636e</h3>\\n<pre><code class=\\"language-javascript\\">var chatinfo = new ChatModel()<span class=\\"hljs-comment\\">;</span>\\n        chatinfo.nickname = _socket.nickname<span class=\\"hljs-comment\\">;</span>\\n        chatinfo.time = _time<span class=\\"hljs-comment\\">;</span>\\n        chatinfo.content = _content<span class=\\"hljs-comment\\">;</span>\\n        chatinfo.save(function(err) {\\n            if (err) throw err<span class=\\"hljs-comment\\">;</span>\\n        })<span class=\\"hljs-comment\\">;</span></code></pre>\\n<h3 id=\\"\u67e5\u8be2\u6570\u636e\\">\u67e5\u8be2\u6570\u636e</h3>\\n<pre><code class=\\"language-javascript\\">ChatModel.<span class=\\"hljs-built_in\\">find</span>({nickname: _socket.nickname},<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span><span class=\\"hljs-params\\">(err,data)</span></span> {\\n            <span class=\\"hljs-keyword\\">if</span> (err) {\\n             console.<span class=\\"hljs-built_in\\">log</span>(<span class=\\"hljs-string\\">\'\u5b58\u50a8\u5931\u8d25\'</span> + err);\\n             <span class=\\"hljs-keyword\\">return</span>;\\n             } <span class=\\"hljs-keyword\\">else</span> {\\n             console.<span class=\\"hljs-built_in\\">log</span>(<span class=\\"hljs-string\\">\'\u5b58\u50a8\u6210\u529f\uff1a\'</span> + data);\\n             }\\n        });</code></pre>\\n<p>\u9664\u4e86.find() \u67e5\u627e\u6240\u6709\u7b26\u5408\u7684\u6570\u636e\uff0c\u8fd8\u6709.findOne() \u67e5\u627e\u4e00\u6761\u6570\u636e\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e2d\u7684data\u5c31\u662f\u8fd4\u56de\u7684\u6570\u636e\u3002</p>\\n<p>\u81f3\u6b64\u57fa\u672c\u7684\u903b\u8f91\u548c\u64cd\u4f5c\u6211\u4eec\u90fd\u4e86\u89e3\u4e86\uff0c\u63a5\u4e0b\u6765\u5c31\u662fCodeing\u7684\u65f6\u95f4\u4e86\uff01</p>\\n<h2 id=\\"\u90e8\u7f72\u5230vps\u4e0a\\">\u90e8\u7f72\u5230vps\u4e0a</h2>\\n<p>\u5c06\u9879\u76ee\u642c\u5230/var/www/chatroom/\u4e0b\uff0c\u8fd9\u91cc\u6211\u662f\u7528git\u4f20\u5230github\u4e0a\u7136\u540egit clone\u8fc7\u53bb\u7684\u3002</p>\\n<h3 id=\\"\u5b89\u88c5mongodb\u670d\u52a1\\">\u5b89\u88c5mongodb\u670d\u52a1</h3>\\n<p>\u7531\u4e8e\u6211\u7684vps\u662f32\u4f4d\u7684CentOS\uff0c\u4e00\u76f4\u5f88\u5934\u75db\u8fd9\u4e2a32\u4f4d\u8fd8\u6709CentOS,\u4f46\u662f\u91cc\u9762\u53c8\u914d\u7f6e\u4e86\u4e00\u4e9b\u68af\u5b50\uff0c\u4e0d\u60f3\u6298\u817e\u5c31\u6ca1\u6362\uff0c\u8fdeDocker\u4e5f\u7528\u4e0d\u4e86\u3002\u3002\u3002\u90a3\u600e\u4e48\u5b89\u88c5mongodb\u5462\uff1f</p>\\n<p>\u53c2\u8003\uff1a<a href=\\"http://www.thinksaas.cn/topics/0/424/424694.html\\">CentOS 6.5\u7cfb\u7edf\u4e2d\u4f7f\u7528yum\u5b89\u88c5MongoDB 2.6 \u6559\u7a0b</a></p>\\n<h4 id=\\"\u521b\u5efamongodbrepo\u6587\u4ef6\\">\u521b\u5efamongodb.repo\u6587\u4ef6</h4>\\n<p>\u5728/etc/yum.repos.d/\u76ee\u5f55\u4e0b\u521b\u5efa\u6587\u4ef6mongodb.repo\uff0c\u5b83\u5305\u542bMongoDB\u4ed3\u5e93\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p>\\n<pre><code><span class=\\"hljs-section\\">[mongodb]</span>\\n<span class=\\"hljs-attr\\">name</span>=MongoDB Repository\\n<span class=\\"hljs-attr\\">baseurl</span>=http://downloads-distro.mongodb.org/repo/redhat/os/i686/\\n<span class=\\"hljs-attr\\">gpgcheck</span>=<span class=\\"hljs-number\\">0</span>\\n<span class=\\"hljs-attr\\">enabled</span>=<span class=\\"hljs-number\\">1</span></code></pre><h4 id=\\"\u6267\u884c\u5b89\u88c5\u547d\u4ee4\\">\u6267\u884c\u5b89\u88c5\u547d\u4ee4</h4>\\n<pre><code>sudo yum <span class=\\"hljs-keyword\\">install</span> mongodb-org</code></pre><h4 id=\\"\u542f\u52a8mongodb\\">\u542f\u52a8MongoDB</h4>\\n<pre><code>sudo<span class=\\"hljs-built_in\\"> service </span>mongod start</code></pre><h3 id=\\"\u8fd0\u884cappjs\\">\u8fd0\u884capp.js</h3>\\n<p>\u5207\u6362\u5230\u9879\u76ee\u76ee\u5f55\uff0c\u4e3a\u4e86\u80fd\u4e00\u76f4\u81ea\u884c\u7a0b\u5e8f\uff0c\u6211\u4eec\u7528forever\u6a21\u5757\uff1a</p>\\n<pre><code>sudo npm -g install <span class=\\"hljs-keyword\\">forever</span> <span class=\\"hljs-comment\\"> //\u5b89\u88c5</span>\\n\\n<span class=\\"hljs-keyword\\">forever</span> <span class=\\"hljs-built_in\\">start</span> app.js         <span class=\\"hljs-comment\\"> //\u5f00\u542f\u8fdb\u7a0b</span>\\n\\n<span class=\\"hljs-keyword\\">forever</span> list                 <span class=\\"hljs-comment\\"> //\u67e5\u770b\u6240\u6709\u8fdb\u7a0b</span>\\n\\n<span class=\\"hljs-keyword\\">forever</span> stopall                <span class=\\"hljs-comment\\"> //\u5173\u95ed\u6240\u6709\u8fdb\u7a0b</span>\\n</code></pre><p>\u73b0\u5728\u5728\u4f60\u670d\u52a1\u5668\u76843000\u7aef\u53e3\u6211\u4eec\u7684\u804a\u5929\u5ba4\u5df2\u7ecf\u5b8c\u7f8e\u8fd0\u884c\u4e86\uff01</p>\\n","title":"\u7528Express + Socket.io + MongoDB\u5b9e\u73b0\u7b80\u6613\u804a\u5929\u5ba4","tags":["\u7528Express","Socket.io","MongoDB"],"slug":"simple-chat-room-with-express-%2B-socket.io-%2B-mongodb","createDate":1462086345088,"id":"simple-chat-room-with-express-%2B-socket.io-%2B-mongodb","thumb":"https://images.unsplash.com/photo-1582020738577-2e7a48043902?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>\u6700\u8fd1\u73a9node\u9700\u8981\u7528\u5230MongoDB\u6570\u636e\u5e93\uff0c\u8bd5\u8fc7\u5404\u79cd\u65b9\u6cd5\u7ec8\u4e8e\u914d\u7f6e\u597d\u4e86\uff0c\u8bb0\u5f55\u4e0b\u6765\u9632\u5751\u3002</p>\\n","content":"<p>\u6700\u8fd1\u73a9node\u9700\u8981\u7528\u5230MongoDB\u6570\u636e\u5e93\uff0c\u8bd5\u8fc7\u5404\u79cd\u65b9\u6cd5\u7ec8\u4e8e\u914d\u7f6e\u597d\u4e86\uff0c\u8bb0\u5f55\u4e0b\u6765\u9632\u5751\u3002</p>\\n<h2 id=\\"\u4e0b\u8f7d\\">\u4e0b\u8f7d</h2>\\n<p>\u5b98\u7f51\u5730\u5740\uff1a<a href=\\"http://www.mongodb.org/downloads\\">http://www.mongodb.org/downloads</a></p>\\n<h2 id=\\"\u5b89\u88c5\\">\u5b89\u88c5</h2>\\n<p>\u65e0\u8bba\u662f\u538b\u7f29\u5305\u8fd8\u662f\u5b89\u88c5\u7a0b\u5e8f\uff0c\u90fd\u53ef\u4ee5\u653e\u5728\u4f60\u60f3\u653e\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u5728\u76ee\u5f55\u4e0b\u5efa\u7acbDB\u76ee\u5f55\u5b58\u50a8\u6570\u636e\u5e93\u548cLog\u76ee\u5f55\u8bb0\u5f55\u65e5\u5fd7</p>\\n<pre><code><span class=\\"hljs-bullet\\">- </span>bin\\n<span class=\\"hljs-bullet\\">- </span>DB\\n<span class=\\"hljs-bullet\\">- </span>Log\\n...</code></pre><h2 id=\\"\u5b89\u88c5\u6210\u7cfb\u7edf\u670d\u52a1\\">\u5b89\u88c5\u6210\u7cfb\u7edf\u670d\u52a1</h2>\\n<p>\u5728\u76ee\u5f55\u4e0b\u5efa\u7acbmongo.conf\u548cmongo.cfg</p>\\n<p>mongo.conf:</p>\\n<pre><code><span class=\\"hljs-symbol\\">storage:</span>\\n<span class=\\"hljs-symbol\\">   dbPath:</span> <span class=\\"hljs-string\\">\\"C:\\\\MongoDB\\\\DB\\"</span></code></pre><p>mongo.cfg:</p>\\n<pre><code>logpath=C:<span class=\\"hljs-symbol\\">\\\\M</span>ongoDB<span class=\\"hljs-symbol\\">\\\\L</span>og<span class=\\"hljs-symbol\\">\\\\m</span>ongo.log</code></pre><p>\u7136\u540ecmd\u5207\u6362\u5230bin\u76ee\u5f55\u4e0b\uff0c\u8fd0\u884c\uff1a</p>\\n<pre><code>mongod.exe <span class=\\"hljs-params\\">--config</span> <span class=\\"hljs-string\\">\\"C:\\\\MongoDB\\\\mongo.cfg\\"</span> <span class=\\"hljs-params\\">--install</span></code></pre><p>\u8fd9\u6837\u5c31\u5b89\u88c5\u597d\u4e86\uff0c\u8981\u542f\u52a8mongodb\u670d\u52a1\u53ea\u9700\u8981\u8f93\u5165\uff1a</p>\\n<pre><code><span class=\\"hljs-built_in\\">net</span> <span class=\\"hljs-built_in\\">start</span> mongodb</code></pre><p>\u4f1a\u63d0\u793aMongoDB \u670d\u52a1\u5df2\u7ecf\u542f\u52a8\u6210\u529f\u3002</p>\\n<p>\u7136\u540e\u518d\u8f93\u5165<code>mongo</code>\u5373\u53ef\u8fdb\u5165shell\u73af\u5883\u3002</p>\\n","title":"win7 \u5b89\u88c5 mongodb","tags":["MongoDB","win7"],"slug":"install-mongodb-on-win7","createDate":1461998526384,"id":"install-mongodb-on-win7","thumb":"https://images.unsplash.com/flagged/photo-1580232629990-f94c97e83bf2?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>\u5bd2\u5047\u5c06\u8fc7\uff0c\u611f\u89c9\u4e0d\u80fd\u8352\u5e9f\u4e86\uff0c\u8981\u627e\u70b9\u4e8b\u505a\uff0c\u4e8e\u662f\u6574\u7406\u4e86\u4e00\u4e0b\u8fd9\u4e2a\u3002</p>\\n<p>\u989d\uff0c\u5148<a href=\\"http://weibo.com/p/1001593933059845084440?from=singleweibo&amp;mod=recommand_article&amp;sudaref=www.baidu.com\\">\u4ecb\u7ecd\u4e00\u4e0bfreecodecamp</a>\u5427\uff1a</p>\\n<p>FreeCodeCamp \u662f\u4e00\u4e2a\u57fa\u4e8e MEAN \u67b6\u6784\u7684\u5f00\u6e90\u793e\u533a\uff0c\u5b83\u53ef\u4ee5\u5e2e\u52a9\u4eba\u4eec\u5b66\u4e60\u7f16\u7a0b\u4ee5\u53ca\u6784\u5efa\u4ed6\u4eec\u7684\u975e\u76c8\u5229\u9879\u76ee\uff0c\u5185\u5bb9\u4ee5\u524d\u7aef\u4e3a\u4e3b\u3002</p>\\n","content":"<p>\u5bd2\u5047\u5c06\u8fc7\uff0c\u611f\u89c9\u4e0d\u80fd\u8352\u5e9f\u4e86\uff0c\u8981\u627e\u70b9\u4e8b\u505a\uff0c\u4e8e\u662f\u6574\u7406\u4e86\u4e00\u4e0b\u8fd9\u4e2a\u3002</p>\\n<p>\u989d\uff0c\u5148<a href=\\"http://weibo.com/p/1001593933059845084440?from=singleweibo&amp;mod=recommand_article&amp;sudaref=www.baidu.com\\">\u4ecb\u7ecd\u4e00\u4e0bfreecodecamp</a>\u5427\uff1a</p>\\n<p>FreeCodeCamp \u662f\u4e00\u4e2a\u57fa\u4e8e MEAN \u67b6\u6784\u7684\u5f00\u6e90\u793e\u533a\uff0c\u5b83\u53ef\u4ee5\u5e2e\u52a9\u4eba\u4eec\u5b66\u4e60\u7f16\u7a0b\u4ee5\u53ca\u6784\u5efa\u4ed6\u4eec\u7684\u975e\u76c8\u5229\u9879\u76ee\uff0c\u5185\u5bb9\u4ee5\u524d\u7aef\u4e3a\u4e3b\u3002</p>\\n<p>\u5728GitHub\u4e0a\uff0cFreeCodeCamp\u62e5\u6709\u8d85\u8fc75\u4e07Star\uff0c \u800c\u4e14\u8fd8\u5728\u6301\u7eed\u589e\u957f\u4e4b\u4e2d\uff0c\u5bf9\u4e8e\u5927\u591a\u6570\u9879\u76ee\u800c\u8a00\uff0c\u589e\u52a0\u4e00\u4e2aStar\u4e5f\u4e0d\u5bb9\u6613\u30022015\u5e74\uff0c\u5728\u300a\u8f6f\u4ef6\u5f00\u53d1\u65f6\u4ee3\u300b\u6742\u5fd7(SD Times)\u603b\u7ed3\u7684GitHub\u4f18\u79c0\u9879\u76ee\u4e2d\uff0cFreeCodeCamp\u540d\u5217\u524d\u5341\u3002\u76ee\u524d\uff0c\u8be5\u793e\u533a\u67097159\u6b21\u4ee3\u7801\u63d0\u4ea4\u548c250\u4e2a\u4ee3\u7801\u8d21\u732e\u8005\u3002</p>\\n<p>\u5982\u6b64\u795e\u5947\u7684\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\uff0c\u5230\u5e95\u6709\u54ea\u4e9b\u4f18\u52bf\u5462\uff1f</p>\\n<p>1.\u5b66\u4e60\u7f16\u7a0b\u6280\u80fd\uff0c\u6bd4\u5982HTML5\u3001CSS3\u3001JavaScript\u3001\u6570\u636e\u5e93\u3001Git\u3001Node.js\u3001Angular.js\u548c\u654f\u6377\u5f00\u53d1\u3002</p>\\n<p>3.\u4ece\u4e8b\u81ea\u7531\u548c\u5f00\u6e90\u9879\u76ee\u3002</p>\\n<p>5.\u83b7\u5f97\u5b9e\u65f6\u5e2e\u52a9\u3002</p>\\n<p>\u4e0b\u9762\u8fdb\u5165\u6b63\u9898\u3002</p>\\n<h2 id=\\"html5-and-css\\">HTML5 and CSS</h2>\\n<h3 id=\\"1-say-hello-to-html-elements\\">1. Say Hello to HTML Elements</h3>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">h1\\\\</span>&gt;</span>Hello<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">h1\\\\</span>&gt;</span></code></pre><h3 id=\\"2-headline-with-the-h2-element\\">2. Headline with the h2 Element</h3>\\n<p>\u6dfb\u52a0\u4e00\u4e2ah2\u5143\u7d20\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">h1\\\\</span>&gt;</span>Hello World<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">h1\\\\</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">h2\\\\</span>&gt;</span>CatPhotoApp<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">h2\\\\</span>&gt;</span></code></pre><h3 id=\\"3-inform-with-the-paragraph-element\\">3. Inform with the Paragraph Element</h3>\\n<p>\u6dfb\u52a0\u4e00\u4e2ap\u5143\u7d20\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">h1\\\\</span>&gt;</span>Hello World<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">h1\\\\</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">h2\\\\</span>&gt;</span>CatPhotoApp<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">h2\\\\</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">p\\\\</span>&gt;</span>Hello Paragraph<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">p\\\\</span>&gt;</span></code></pre><h3 id=\\"4-uncomment-html\\">4. Uncomment HTML</h3>\\n<p>\u53d6\u6d88\u6ce8\u91ca\uff1a</p>\\n<pre><code><span class=\\"hljs-comment\\">&lt;!--\\n&lt;h1&gt;Hello World&lt;/h1&gt;\\n\\n&lt;h2&gt;CatPhotoApp&lt;/h2&gt;\\n\\n&lt;p&gt;Hello Paragraph&lt;/p&gt;\\n\\\\--&gt;</span></code></pre><pre><code>\u53bb\u6389`<span class=\\"hljs-comment\\">&lt;!--`\u548c`--&gt;</span>`\u5373\u53ef\u3002</code></pre><h3 id=\\"5-comment-out-html\\">5. Comment out HTML</h3>\\n<p>\u6ce8\u91cah1\u548cp\uff1a</p>\\n<pre><code><span class=\\"hljs-comment\\">&lt;!--\\n&lt;h1&gt;Hello World&lt;/h1&gt;\\n\\\\--&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">h2\\\\</span>&gt;</span>CatPhotoApp<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">h2\\\\</span>&gt;</span>\\n<span class=\\"hljs-comment\\">&lt;!--\\n&lt;p&gt;Hello Paragraph&lt;/p&gt;\\n\\\\--&gt;</span></code></pre><h3 id=\\"6-fill-in-the-blank-with-placeholder-text\\">6. Fill in the Blank with Placeholder Text</h3>\\n<p>\u628a\u90a3\u6bb5\u7ea2\u8272\u6bb5\u843d\u590d\u5236\u7c98\u8d34\u5230p\u5143\u7d20\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">p\\\\</span>&gt;</span>Kitty ipsum dolor sit amet, shed everywhere shed everywhere stretching attack your ankles chase the red dot, hairball run catnip eat the grass sniff.<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">p\\\\</span>&gt;</span></code></pre><h3 id=\\"7-delete-html-elements\\">7. Delete HTML Elements</h3>\\n<p>\u5220\u9664h1\u5143\u7d20\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">h2</span>&gt;</span>CatPhotoApp<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">h2</span>&gt;</span>\\n\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">p</span>&gt;</span>Kitty ipsum dolor sit amet, shed everywhere shed everywhere stretching attack your ankles chase the red dot, hairball run catnip eat the grass sniff.<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">p</span>&gt;</span></code></pre><h3 id=\\"8-change-the-color-of-text\\">8. Change the Color of Text</h3>\\n<p>\u554a\u54c8\uff0c\u8fdb\u5165CSS\u7684\u90e8\u5206\u4e86==\\n\u7ed9h2\u4e0a\u7ea2\u8272\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">h2</span> <span class=\\"hljs-attr\\">style</span>=<span class=\\"hljs-string\\">\\"color: red\\"</span>&gt;</span>CatPhotoApp<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">h2</span>&gt;</span></code></pre><h3 id=\\"9-use-css-selectors-to-style-elements\\">9. Use CSS Selectors to Style Elements</h3>\\n<p>\u8fd9\u91cc\u5220\u6389h2\u5143\u7d20\u91cc\u7684style\uff0c\u521b\u5efastyle\u5143\u7d20\uff0c\u5e76\u4e3ah2\u8bbe\u7f6ecolor\u5c5e\u6027\u4e3ablue(\u7136\u800c\u4f8b\u5b50\u4e2d\u7ed9\u7684\u662fred\uff0c\u8fd8\u8981\u81ea\u5df1\u4fee\u6539\u4e00\u4e0b- -\uff01)</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">h2</span> {<span class=\\"hljs-attribute\\">color</span>:blue;}\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">h2</span>&gt;</span>CatPhotoApp<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">h2</span>&gt;</span></code></pre><h3 id=\\"10-use-a-css-class-to-style-an-element\\">10. Use a CSS Class to Style an Element</h3>\\n<p>\u7ed9h2\u52a0\u4e2aclass\u5c5e\u6027\uff0c\u5728style\u5143\u7d20\u91cc\u5427h2\u6362\u6210.red-text\uff0cblue\u6362\u6210red\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-class\\">.red-text</span> {\\n    <span class=\\"hljs-attribute\\">color</span>: red;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span>\\n\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">h2</span> <span class=\\"hljs-attr\\">class</span>=<span class=\\"hljs-string\\">\\"red-text\\"</span>&gt;</span>CatPhotoApp<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">h2</span>&gt;</span>`</code></pre><h3 id=\\"11-style-multiple-elements-with-a-css-class\\">11. Style Multiple Elements with a CSS Class</h3>\\n<p>\u7ed9<code>&lt;p&gt;</code>\u52a0\u4e00\u4e2ared-text\u7684class\u5c5e\u6027</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-class\\">.red-text</span> {\\n    <span class=\\"hljs-attribute\\">color</span>: red;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">p</span> <span class=\\"hljs-attr\\">class</span>=<span class=\\"hljs-string\\">\\"red-text\\"</span>&gt;</span>Kitty ipsum dolor sit amet, shed everywhere shed everywhere stretching attack your ankles chase the red dot, hairball run catnip eat the grass sniff.<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">p</span>&gt;</span></code></pre><h3 id=\\"12-change-the-font-size-of-an-element\\">12. Change the Font Size of an Element</h3>\\n<p>\u8bbe\u7f6e\u5b57\u4f53\u5927\u5c0ffont-size\uff0c\u6ca1\u5565\u597d\u8bf4\u7684</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">p</span> {\\n    <span class=\\"hljs-attribute\\">font-size</span>:<span class=\\"hljs-number\\">16px</span>;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">p</span>&gt;</span>Purr jump eat the grass rip the couch scratched sunbathe, shed everywhere rip the couch sleep in the sink fluffy fur catnip scratched.<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">p</span>&gt;</span>\\n\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">p</span> <span class=\\"hljs-attr\\">class</span>=<span class=\\"hljs-string\\">\\"red-text\\"</span>&gt;</span>Kitty ipsum dolor sit amet, shed everywhere shed everywhere stretching attack your ankles chase the red dot, hairball run catnip eat the grass sniff.<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">p</span>&gt;</span></code></pre><h3 id=\\"13-set-the-font-family-of-an-element\\">13. Set the Font Family of an Element</h3>\\n<p>\u8bbe\u7f6e\u5b57\u4f53font-family\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n\\n  <span class=\\"hljs-selector-tag\\">p</span> {\\n    <span class=\\"hljs-attribute\\">font-size</span>: <span class=\\"hljs-number\\">16px</span>;\\n    <span class=\\"hljs-attribute\\">font-family</span>:Monospace;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">p</span> <span class=\\"hljs-attr\\">class</span>=<span class=\\"hljs-string\\">\\"red-text\\"</span>&gt;</span>Kitty ipsum dolor sit amet, shed everywhere shed everywhere stretching attack your ankles chase the red dot, hairball run catnip eat the grass sniff.<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">p</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">p</span>&gt;</span>Purr jump eat the grass rip the couch scratched sunbathe, shed everywhere rip the couch sleep in the sink fluffy fur catnip scratched.<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">p</span>&gt;</span></code></pre><h3 id=\\"14-import-a-google-font\\">14. Import a Google Font</h3>\\n<p>\u8bbe\u7f6eLobster\u5b57\u4f53</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">link</span> <span class=\\"hljs-attr\\">href</span>=<span class=\\"hljs-string\\">\\"http://fonts.googleapis.com/css?family=Lobster\\"</span> <span class=\\"hljs-attr\\">rel</span>=<span class=\\"hljs-string\\">\\"stylesheet\\"</span> <span class=\\"hljs-attr\\">type</span>=<span class=\\"hljs-string\\">\\"text/css\\"</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">h2</span> {\\n    <span class=\\"hljs-attribute\\">font-family</span>:Lobster;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span>\\n\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">h2</span> <span class=\\"hljs-attr\\">class</span>=<span class=\\"hljs-string\\">\\"red-text\\"</span>&gt;</span>CatPhotoApp<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">h2</span>&gt;</span></code></pre><h3 id=\\"15-specify-how-fonts-should-degrade\\">15. Specify How Fonts Should Degrade</h3>\\n<p>\u8bbe\u7f6e\u5b57\u4f53\u964d\u7ea7,\u6ce8\u91ca\u6389Google\u5b57\u4f53\u7684\u8bf7\u6c42\uff0c\u89c2\u5bdf\u53d8\u5316</p>\\n<pre><code><span class=\\"hljs-comment\\">&lt;!--&lt;link href=\\"http://fonts.googleapis.com/css?family=Lobster\\" rel=\\"stylesheet\\" type=\\"text/css\\"&gt;--&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n\\n  <span class=\\"hljs-selector-tag\\">h2</span> {\\n    <span class=\\"hljs-attribute\\">font-family</span>: Lobster, Monospace;\\n  }\\n\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span>\\n\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">h2</span> <span class=\\"hljs-attr\\">class</span>=<span class=\\"hljs-string\\">\\"red-text\\"</span>&gt;</span>CatPhotoApp<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">h2</span>&gt;</span></code></pre><h3 id=\\"16-add-images-to-your-website\\">16. Add Images to your Website</h3>\\n<p>\u6dfb\u52a0\u56fe\u7247\uff1a</p>\\n<pre><code>&lt;img <span class=\\"hljs-attribute\\">src</span>=<span class=\\"hljs-string\\">\\"https://bit.ly/fcc-relaxing-cat\\"</span>&gt;</code></pre><h3 id=\\"17-size-your-images\\">17. Size your Images</h3>\\n<p>\u8bbe\u7f6e\u56fe\u7247\u5927\u5c0f\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-class\\">.smaller-image</span> {\\n    <span class=\\"hljs-attribute\\">width</span>:<span class=\\"hljs-number\\">100px</span>;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span>\\n\\n\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">img</span> <span class=\\"hljs-attr\\">class</span>=<span class=\\"hljs-string\\">\\"smaller-image\\"</span> <span class=\\"hljs-attr\\">src</span>=<span class=\\"hljs-string\\">\\"https://bit.ly/fcc-relaxing-cat\\"</span>&gt;</span></code></pre><h3 id=\\"18-add-borders-around-your-elements\\">18. Add Borders Around your Elements</h3>\\n<p>\u6dfb\u52a0\u8fb9\u7ebf\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-class\\">.smaller-image</span> {\\n    <span class=\\"hljs-attribute\\">width</span>: <span class=\\"hljs-number\\">100px</span>;\\n  }\\n  <span class=\\"hljs-selector-class\\">.thick-green-border</span> {\\n    <span class=\\"hljs-attribute\\">border-color</span>: green;\\n    <span class=\\"hljs-attribute\\">border-width</span>:<span class=\\"hljs-number\\">10px</span>;\\n    <span class=\\"hljs-attribute\\">border-style</span>:solid;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span>\\n\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">img</span> <span class=\\"hljs-attr\\">class</span>=<span class=\\"hljs-string\\">\\"smaller-image thick-green-border\\"</span> <span class=\\"hljs-attr\\">src</span>=<span class=\\"hljs-string\\">\\"https://bit.ly/fcc-relaxing-cat\\"</span>&gt;</span></code></pre><h3 id=\\"19-add-rounded-corners-with-a-border-radius\\">19. Add Rounded Corners with a Border Radius</h3>\\n<p>\u6dfb\u52a0\u5706\u89d2border-radius\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-class\\">.thick-green-border</span> {\\n    <span class=\\"hljs-attribute\\">border-color</span>: green;\\n    <span class=\\"hljs-attribute\\">border-width</span>: <span class=\\"hljs-number\\">10px</span>;\\n    <span class=\\"hljs-attribute\\">border-style</span>: solid;\\n    <span class=\\"hljs-attribute\\">border-radius</span>:<span class=\\"hljs-number\\">10px</span>;\\n  }\\n\\n  <span class=\\"hljs-selector-class\\">.smaller-image</span> {\\n    <span class=\\"hljs-attribute\\">width</span>: <span class=\\"hljs-number\\">100px</span>;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">img</span> <span class=\\"hljs-attr\\">class</span>=<span class=\\"hljs-string\\">\\"smaller-image thick-green-border\\"</span> <span class=\\"hljs-attr\\">src</span>=<span class=\\"hljs-string\\">\\"https://bit.ly/fcc-relaxing-cat\\"</span>&gt;</span></code></pre><h3 id=\\"20-make-circular-images-with-a-border-radius\\">20. Make Circular Images with a Border Radius</h3>\\n<p>\u5236\u4f5c\u5706\u5f62\u56fe\u7247\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-class\\">.thick-green-border</span> {\\n    <span class=\\"hljs-attribute\\">border-color</span>: green;\\n    <span class=\\"hljs-attribute\\">border-width</span>: <span class=\\"hljs-number\\">10px</span>;\\n    <span class=\\"hljs-attribute\\">border-style</span>: solid;\\n    <span class=\\"hljs-attribute\\">border-radius</span>: <span class=\\"hljs-number\\">50%</span>;\\n  }\\n  <span class=\\"hljs-selector-class\\">.smaller-image</span> {\\n    <span class=\\"hljs-attribute\\">width</span>: <span class=\\"hljs-number\\">100px</span>;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">img</span> <span class=\\"hljs-attr\\">class</span>=<span class=\\"hljs-string\\">\\"smaller-image thick-green-border\\"</span> <span class=\\"hljs-attr\\">src</span>=<span class=\\"hljs-string\\">\\"https://bit.ly/fcc-relaxing-cat\\"</span>&gt;</span></code></pre><h3 id=\\"21-link-to-external-pages-with-anchor-elements\\">21. Link to External Pages with Anchor Elements</h3>\\n<p>\u8bbe\u7f6e\u94fe\u63a5\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">a</span> <span class=\\"hljs-attr\\">href</span>=<span class=\\"hljs-string\\">\\"http://freecatphotoapp.com\\"</span>&gt;</span>cat photos<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">a</span>&gt;</span></code></pre><h3 id=\\"22-nest-an-anchor-element-within-a-paragraph\\">22. Nest an Anchor Element within a Paragraph</h3>\\n<p>\u4f7f\u7528\u5d4c\u5957\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">p</span>&gt;</span>View more <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">a</span> <span class=\\"hljs-attr\\">href</span>=<span class=\\"hljs-string\\">\\"http://www.freecatphotoapp.com\\"</span>&gt;</span>cat photos<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">a</span>&gt;</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">p</span>&gt;</span></code></pre><h3 id=\\"23-make-dead-links-using-the-hash-symbol\\">23. Make Dead Links using the Hash Symbol</h3>\\n<p>\u6b7b\u94fe\u63a5\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">p</span>&gt;</span>Click here for <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">a</span> <span class=\\"hljs-attr\\">href</span>=<span class=\\"hljs-string\\">\\"#\\"</span>&gt;</span>cat photos<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">a</span>&gt;</span>.<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">p</span>&gt;</span>\\n</code></pre><h3 id=\\"24-turn-an-image-into-a-link\\"><a href=\\"#24-_Turn_an_Image_into_a_Link\\" title=\\"24. Turn an Image into a Link\\"></a>24. Turn an Image into a Link</h3>\\n<p>\u628a\u56fe\u7247\u53d8\u6210\u94fe\u63a5\uff1a</p>\\n<pre><code>&lt;a <span class=\\"hljs-attribute\\">href</span>=<span class=\\"hljs-string\\">\\"#\\"</span>&gt;&lt;img <span class=\\"hljs-attribute\\">class</span>=<span class=\\"hljs-string\\">\\"smaller-image thick-green-border\\"</span> <span class=\\"hljs-attribute\\">src</span>=<span class=\\"hljs-string\\">\\"https://bit.ly/fcc-relaxing-cat\\"</span>&gt;&lt;/a&gt;</code></pre><h3 id=\\"25-add-alt-text-to-an-image-for-accessibility\\">25. Add Alt Text to an Image for Accessibility</h3>\\n<p>\u7ed9\u56fe\u7247\u6dfb\u52a0alt\u5c5e\u6027\uff1a</p>\\n<pre><code>&lt;a <span class=\\"hljs-attribute\\">href</span>=<span class=\\"hljs-string\\">\\"#\\"</span>&gt;&lt;img <span class=\\"hljs-attribute\\">class</span>=<span class=\\"hljs-string\\">\\"smaller-image thick-green-border\\"</span> <span class=\\"hljs-attribute\\">src</span>=<span class=\\"hljs-string\\">\\"https://bit.ly/fcc-relaxing-cat\\"</span> <span class=\\"hljs-attribute\\">alt</span>=<span class=\\"hljs-string\\">\\"A cute orange cat lying on its back\\"</span>&gt;&lt;/a&gt;</code></pre><h3 id=\\"26-create-a-bulleted-unordered-list\\">26. Create a Bulleted Unordered List</h3>\\n<p>\u521b\u5efa\u5b50\u5f39\u65e0\u5e8f\u5217\u8868(\u4e2d\u6587\u662f\u8fd9\u6837\u5417\uff1f\u597d\u5427\u662f\u9879\u76ee\u7b26\u53f7\u65e0\u5e8f\u5217\u8868),\u5220\u9664\u4e24\u4e2a<code>&lt;p&gt;</code>\uff0c\u5217\u8868\u662f\u4e09\u4e2acat\u559c\u6b22\u7684\u4e1c\u897f\u3002</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">ul</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">li</span>&gt;</span>milk<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">li</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">li</span>&gt;</span>cheese<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">li</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">li</span>&gt;</span>girl<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">li</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">ul</span>&gt;</span></code></pre><h3 id=\\"27-create-an-ordered-list\\">27. Create an Ordered List</h3>\\n<p>\u521b\u5efa\u4e00\u4e2a\u6709\u5e8f\u5217\u8868\uff0c\u5185\u5bb9\u662f\u4e09\u4e2acat\u8ba8\u538c\u7684\u4e1c\u897f:</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">ol</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">li</span>&gt;</span>boy<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">li</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">li</span>&gt;</span>gays<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">li</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">li</span>&gt;</span>html<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">li</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">ol</span>&gt;</span></code></pre><h3 id=\\"28-create-a-text-field\\">28. Create a Text Field</h3>\\n<p>\u521b\u5efa\u4e00\u4e2a\u6587\u672c\u5b57\u6bb5\uff1a</p>\\n<pre><code>&lt;input <span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">type</span></span>=<span class=\\"hljs-string\\">\\"text\\"</span>&gt;</code></pre><h3 id=\\"29-add-placeholder-text-to-a-text-field\\">29. Add Placeholder Text to a Text Field</h3>\\n<p>\u6dfb\u52a0\u5360\u4f4d\u6587\u672c\u5230\u4e00\u4e2a\u6587\u672c\u5b57\u6bb5:</p>\\n<pre><code>&lt;input <span class=\\"hljs-attribute\\">type</span>=<span class=\\"hljs-string\\">\\"text\\"</span> <span class=\\"hljs-attribute\\">placeholder</span>=<span class=\\"hljs-string\\">\\"cat photo URL\\"</span>&gt;</code></pre><h3 id=\\"30-create-a-form-element\\">30. Create a Form Element</h3>\\n<p>\u521b\u5efa\u4e00\u4e2a\u8868\u5355\u5143\u7d20,\u5d4c\u5957input\u5143\u7d20:</p>\\n<pre><code>&lt;form <span class=\\"hljs-attribute\\">action</span>=<span class=\\"hljs-string\\">\\"/submit-cat-photo\\"</span>&gt;&lt;input <span class=\\"hljs-attribute\\">type</span>=<span class=\\"hljs-string\\">\\"text\\"</span> <span class=\\"hljs-attribute\\">placeholder</span>=<span class=\\"hljs-string\\">\\"cat photo URL\\"</span>&gt;&lt;/form&gt;</code></pre><h3 id=\\"31-add-a-submit-button-to-a-form\\">31. Add a Submit Button to a Form</h3>\\n<p>\u4e3a\u8868\u5355\u6dfb\u52a0\u63d0\u4ea4\u6309\u94ae\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">form</span> <span class=\\"hljs-attr\\">action</span>=<span class=\\"hljs-string\\">\\"/submit-cat-photo\\"</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">input</span> <span class=\\"hljs-attr\\">type</span>=<span class=\\"hljs-string\\">\\"text\\"</span> <span class=\\"hljs-attr\\">placeholder</span>=<span class=\\"hljs-string\\">\\"cat photo URL\\"</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">button</span> <span class=\\"hljs-attr\\">type</span>=<span class=\\"hljs-string\\">\\"submit\\"</span>&gt;</span>Submit<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">button</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">form</span>&gt;</span></code></pre><h3 id=\\"32-use-html5-to-require-a-field\\">32. Use HTML5 to Require a Field</h3>\\n<p>\u4f7f\u7528HTML5\u9700\u8981\u4e00\u4e2a\u5b57\u6bb5(required):</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">form</span> <span class=\\"hljs-attr\\">action</span>=<span class=\\"hljs-string\\">\\"/submit-cat-photo\\"</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">input</span> <span class=\\"hljs-attr\\">type</span>=<span class=\\"hljs-string\\">\\"text\\"</span> <span class=\\"hljs-attr\\">placeholder</span>=<span class=\\"hljs-string\\">\\"cat photo URL\\"</span> <span class=\\"hljs-attr\\">required</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">button</span> <span class=\\"hljs-attr\\">type</span>=<span class=\\"hljs-string\\">\\"submit\\"</span>&gt;</span>Submit<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">button</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">form</span>&gt;</span></code></pre><h3 id=\\"33-create-a-set-of-radio-buttons\\">33. Create a Set of Radio Buttons</h3>\\n<p>\u8bbe\u7f6e\u5355\u9009\u6846\uff1a</p>\\n<pre><code>&lt;<span class=\\"hljs-keyword\\">label</span>&gt;&lt;<span class=\\"hljs-keyword\\">input</span> <span class=\\"hljs-keyword\\">type</span>=<span class=\\"hljs-string\\">\\"radio\\"</span> name=<span class=\\"hljs-string\\">\\"indoor-outdoor\\"</span>&gt; indoor&lt;/<span class=\\"hljs-keyword\\">label</span>&gt;&lt;/<span class=\\"hljs-keyword\\">br</span>&gt;\\n&lt;<span class=\\"hljs-keyword\\">label</span>&gt;&lt;<span class=\\"hljs-keyword\\">input</span> <span class=\\"hljs-keyword\\">type</span>=<span class=\\"hljs-string\\">\\"radio\\"</span> name=<span class=\\"hljs-string\\">\\"indoor-outdoor\\"</span>&gt; outdoor&lt;/<span class=\\"hljs-keyword\\">label</span>&gt;</code></pre><h3 id=\\"34-create-a-set-of-checkboxes\\">34. Create a Set of Checkboxes</h3>\\n<p>\u8bbe\u7f6e\u590d\u9009\u6846\uff1a</p>\\n<pre><code>&lt;<span class=\\"hljs-keyword\\">form</span> action=<span class=\\"hljs-string\\">\\"/submit-cat-photo\\"</span>&gt;\\n  &lt;<span class=\\"hljs-keyword\\">label</span>&gt;&lt;<span class=\\"hljs-keyword\\">input</span> <span class=\\"hljs-keyword\\">type</span>=<span class=\\"hljs-string\\">\\"radio\\"</span> name=<span class=\\"hljs-string\\">\\"indoor-outdoor\\"</span>&gt; Indoor&lt;/<span class=\\"hljs-keyword\\">label</span>&gt;\\n  &lt;<span class=\\"hljs-keyword\\">label</span>&gt;&lt;<span class=\\"hljs-keyword\\">input</span> <span class=\\"hljs-keyword\\">type</span>=<span class=\\"hljs-string\\">\\"radio\\"</span> name=<span class=\\"hljs-string\\">\\"indoor-outdoor\\"</span>&gt; Outdoor&lt;/<span class=\\"hljs-keyword\\">label</span>&gt;\\n  &lt;<span class=\\"hljs-keyword\\">input</span> <span class=\\"hljs-keyword\\">type</span>=<span class=\\"hljs-string\\">\\"text\\"</span> placeholder=<span class=\\"hljs-string\\">\\"cat photo URL\\"</span> required&gt;\\n  &lt;button <span class=\\"hljs-keyword\\">type</span>=<span class=\\"hljs-string\\">\\"submit\\"</span>&gt;Submit&lt;/button&gt;\\n  &lt;<span class=\\"hljs-keyword\\">label</span>&gt;&lt;<span class=\\"hljs-keyword\\">input</span> <span class=\\"hljs-keyword\\">type</span>=<span class=\\"hljs-string\\">\\"checkbox\\"</span> name=<span class=\\"hljs-string\\">\\"personality\\"</span>&gt; Loving&lt;/<span class=\\"hljs-keyword\\">label</span>&gt;\\n  &lt;<span class=\\"hljs-keyword\\">label</span>&gt;&lt;<span class=\\"hljs-keyword\\">input</span> <span class=\\"hljs-keyword\\">type</span>=<span class=\\"hljs-string\\">\\"checkbox\\"</span> name=<span class=\\"hljs-string\\">\\"personality\\"</span>&gt; Loving&lt;/<span class=\\"hljs-keyword\\">label</span>&gt;\\n  &lt;<span class=\\"hljs-keyword\\">label</span>&gt;&lt;<span class=\\"hljs-keyword\\">input</span> <span class=\\"hljs-keyword\\">type</span>=<span class=\\"hljs-string\\">\\"checkbox\\"</span> name=<span class=\\"hljs-string\\">\\"personality\\"</span>&gt; Loving&lt;/<span class=\\"hljs-keyword\\">label</span>&gt;\\n&lt;/<span class=\\"hljs-keyword\\">form</span>&gt;</code></pre><h3 id=\\"35-check-radio-buttons-and-checkboxes-by-default\\">35. Check Radio Buttons and Checkboxes by Default</h3>\\n<p>\u68c0\u67e5\u9ed8\u8ba4\u5355\u9009\u6309\u94ae\u548c\u590d\u9009\u6846(\u7b2c\u4e00\u4e2a\u5355\u9009\u548c\u590d\u9009\u6dfb\u52a0checked):</p>\\n<pre><code>&lt;<span class=\\"hljs-keyword\\">label</span>&gt;&lt;<span class=\\"hljs-keyword\\">input</span> <span class=\\"hljs-keyword\\">type</span>=<span class=\\"hljs-string\\">\\"radio\\"</span> name=<span class=\\"hljs-string\\">\\"indoor-outdoor\\"</span> checked&gt; Indoor&lt;/<span class=\\"hljs-keyword\\">label</span>&gt;\\n  &lt;<span class=\\"hljs-keyword\\">label</span>&gt;&lt;<span class=\\"hljs-keyword\\">input</span> <span class=\\"hljs-keyword\\">type</span>=<span class=\\"hljs-string\\">\\"radio\\"</span> name=<span class=\\"hljs-string\\">\\"indoor-outdoor\\"</span>&gt; Outdoor&lt;/<span class=\\"hljs-keyword\\">label</span>&gt;\\n  &lt;<span class=\\"hljs-keyword\\">label</span>&gt;&lt;<span class=\\"hljs-keyword\\">input</span> <span class=\\"hljs-keyword\\">type</span>=<span class=\\"hljs-string\\">\\"checkbox\\"</span> name=<span class=\\"hljs-string\\">\\"personality\\"</span> checked&gt; Loving&lt;/<span class=\\"hljs-keyword\\">label</span>&gt;</code></pre><h3 id=\\"36-nest-many-elements-within-a-single-div-element\\">36. Nest Many Elements within a Single Div Element</h3>\\n<p>\u7528\u7b80\u5355\u7684div\u5143\u7d20\u5d4c\u5957\u4e00\u4e9b\u5143\u7d20\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">div</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">p</span>&gt;</span>Things cats love:<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">p</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">ul</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">li</span>&gt;</span>cat nip<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">li</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">li</span>&gt;</span>laser pointers<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">li</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">li</span>&gt;</span>lasagna<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">li</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">ul</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">p</span>&gt;</span>Top 3 things cats hate:<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">p</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">ol</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">li</span>&gt;</span>flea treatment<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">li</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">li</span>&gt;</span>thunder<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">li</span>&gt;</span>\\n  <span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">li</span>&gt;</span>other cats<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">li</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">ol</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">div</span>&gt;</span></code></pre><h3 id=\\"37-give-a-background-color-to-a-div-element\\">37. Give a Background Color to a Div Element</h3>\\n<p>\u4e3adiv\u5143\u7d20\u8bbe\u7f6e\u80cc\u666f\u8272\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n<span class=\\"hljs-selector-class\\">.gray-background</span>{\\n    <span class=\\"hljs-attribute\\">background-color</span>:gray;\\n  }\\n  </span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span>\\n\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">div</span> <span class=\\"hljs-attr\\">class</span>=<span class=\\"hljs-string\\">\\"gray-background\\"</span>&gt;</span></code></pre><h3 id=\\"38-set-the-id-of-an-element\\">38. Set the ID of an Element</h3>\\n<p>\u4e3a\u5143\u7d20\u8bbe\u7f6eid\uff1a</p>\\n<pre><code>&lt;form <span class=\\"hljs-attribute\\">id</span>=<span class=\\"hljs-string\\">\\"cat-photo-form\\"</span> <span class=\\"hljs-attribute\\">action</span>=<span class=\\"hljs-string\\">\\"/submit-cat-photo\\"</span>&gt;</code></pre><h3 id=\\"39-use-an-id-attribute-to-style-an-element\\">39. Use an ID Attribute to Style an Element</h3>\\n<p>\u4f7f\u7528ID\u5c5e\u6027\u8bbe\u8ba1\u5143\u7d20\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n<span class=\\"hljs-selector-id\\">#cat-photo-form</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>:green;\\n  }\\n  </span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"40-adjusting-the-padding-of-an-element\\">40. Adjusting the Padding of an Element</h3>\\n<p>\u8bbe\u7f6e\u5185\u8fb9\u8ddd\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n<span class=\\"hljs-selector-class\\">.green-box</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: green;\\n    <span class=\\"hljs-attribute\\">padding</span>: <span class=\\"hljs-number\\">20px</span>;\\n  }\\n  </span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"41-adjust-the-margin-of-an-element\\">41. Adjust the Margin of an Element</h3>\\n<p>\u8bbe\u7f6e\u5185\u8fb9\u8ddd\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n<span class=\\"hljs-selector-class\\">.green-box</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: green;\\n    <span class=\\"hljs-attribute\\">padding</span>: <span class=\\"hljs-number\\">20px</span>;\\n    <span class=\\"hljs-attribute\\">margin</span>: <span class=\\"hljs-number\\">20px</span>;\\n  }\\n  </span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"43-add-a-negative-margin-to-an-element\\">43. Add a Negative Margin to an Element</h3>\\n<p>\u8bbe\u7f6e\u8d1f\u7684\u5916\u8fb9\u8ddd\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n<span class=\\"hljs-selector-class\\">.green-box</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: green;\\n    <span class=\\"hljs-attribute\\">padding</span>: <span class=\\"hljs-number\\">20px</span>;\\n    <span class=\\"hljs-attribute\\">margin</span>: -<span class=\\"hljs-number\\">15px</span>;\\n  }\\n  </span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"44-add-different-padding-to-each-side-of-an-element\\">44. Add Different Padding to Each Side of an Element</h3>\\n<p>\u4e3a\u5143\u7d20\u7684\u6bcf\u4e00\u8fb9\u6dfb\u52a0\u4e0d\u540c\u7684\u5185\u8fb9\u8ddd\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n<span class=\\"hljs-selector-class\\">.green-box</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: green;\\n    <span class=\\"hljs-attribute\\">padding-top</span>: <span class=\\"hljs-number\\">40px</span>;\\n    <span class=\\"hljs-attribute\\">padding-right</span>: <span class=\\"hljs-number\\">20px</span>;\\n    <span class=\\"hljs-attribute\\">padding-bottom</span>: <span class=\\"hljs-number\\">20px</span>;\\n    <span class=\\"hljs-attribute\\">padding-left</span>: <span class=\\"hljs-number\\">40px</span>;\\n  }\\n  </span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"45-add-different-margins-to-each-side-of-an-element\\">45. Add Different Margins to Each Side of an Element</h3>\\n<p>\u4e3a\u5143\u7d20\u7684\u6bcf\u4e00\u8fb9\u6dfb\u52a0\u4e0d\u540c\u7684\u5916\u8fb9\u8ddd\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n<span class=\\"hljs-selector-class\\">.green-box</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: green;\\n    <span class=\\"hljs-attribute\\">margin-top</span>: <span class=\\"hljs-number\\">40px</span>;\\n    <span class=\\"hljs-attribute\\">margin-right</span>: <span class=\\"hljs-number\\">20px</span>;\\n    <span class=\\"hljs-attribute\\">margin-bottom</span>: <span class=\\"hljs-number\\">20px</span>;\\n    <span class=\\"hljs-attribute\\">margin-left</span>: <span class=\\"hljs-number\\">40px</span>;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"46-use-clockwise-notation-to-specify-the-padding-of-an-element\\">46. Use Clockwise Notation to Specify the Padding of an Element</h3>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n<span class=\\"hljs-selector-class\\">.green-box</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: green;\\n    <span class=\\"hljs-attribute\\">padding</span>: <span class=\\"hljs-number\\">40px</span> <span class=\\"hljs-number\\">20px</span> <span class=\\"hljs-number\\">20px</span> <span class=\\"hljs-number\\">40px</span>;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"47-use-clockwise-notation-to-specify-the-margin-of-an-element\\">47. Use Clockwise Notation to Specify the Margin of an Element</h3>\\n<p>\u7528\u987a\u65f6\u9488\u7b26\u53f7\u6765\u6307\u5b9a\u4e00\u4e2a\u5143\u7d20\u7684\u5916\u8fb9\u8ddd\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n<span class=\\"hljs-selector-class\\">.green-box</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: green;\\n    <span class=\\"hljs-attribute\\">margin</span>: <span class=\\"hljs-number\\">40px</span> <span class=\\"hljs-number\\">20px</span> <span class=\\"hljs-number\\">20px</span> <span class=\\"hljs-number\\">40px</span>;\\n  }\\n&lt;<span class=\\"hljs-selector-tag\\">style</span>&gt;</span></code></pre><h3 id=\\"48-style-the-html-body-element\\">48. Style the HTML Body Element</h3>\\n<p>\u8bbe\u8ba1html body\u5143\u7d20\u7684\u6837\u5f0f\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n<span class=\\"hljs-selector-tag\\">body</span> {\\n  <span class=\\"hljs-attribute\\">background-color</span>: black;\\n}\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"49-inherit-styles-from-the-body-element\\">49. Inherit Styles from the Body Element</h3>\\n<p>\u4ecebody\u5143\u7d20\u7ee7\u627f\u6837\u5f0f\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">body</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: black;\\n    <span class=\\"hljs-attribute\\">color</span>: green;\\n    <span class=\\"hljs-attribute\\">font-family</span>: Monospace;\\n  }\\n\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">h1</span>&gt;</span>Hello World<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">h1</span>&gt;</span></code></pre><h3 id=\\"50-prioritize-one-style-over-another\\">50. Prioritize One Style Over Another</h3>\\n<p>\u4f18\u5148\u8003\u8651\u4e00\u4e2a\u6837\u5f0f\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">body</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: black;\\n    <span class=\\"hljs-attribute\\">font-family</span>: Monospace;\\n    <span class=\\"hljs-attribute\\">color</span>: green;\\n  }\\n  <span class=\\"hljs-selector-class\\">.pink-text</span>{\\n    <span class=\\"hljs-attribute\\">color</span>:pink;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">h1</span> <span class=\\"hljs-attr\\">class</span>=<span class=\\"hljs-string\\">\\"pink-text\\"</span>&gt;</span>Hello World!<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">h1</span>&gt;</span></code></pre><h3 id=\\"51-override-styles-in-subsequent-css\\">51. Override Styles in Subsequent CSS</h3>\\n<p>\u5728\u540e\u6765\u7684CSS\u4e2d\u8986\u76d6\u6837\u5f0f,\u6ce8\u91ca\u4e2d\u7684\u6837\u5f0f\u8ddf\u672a\u6ce8\u91ca\u7684\u4e00\u6837\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">body</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: black;\\n    <span class=\\"hljs-attribute\\">font-family</span>: Monospace;\\n    <span class=\\"hljs-attribute\\">color</span>: green;\\n  }\\n  <span class=\\"hljs-selector-class\\">.pink-text</span> {\\n    <span class=\\"hljs-attribute\\">color</span>: pink;\\n  }\\n  <span class=\\"hljs-selector-class\\">.blue-text</span>{\\n    <span class=\\"hljs-attribute\\">color</span>:blue;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span>\\n<span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">h1</span> <span class=\\"hljs-attr\\">class</span>=<span class=\\"hljs-string\\">\\"blue-text pink-text\\"</span>&gt;</span>Hello World!<span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">h1</span>&gt;</span>\\n<span class=\\"hljs-comment\\">&lt;!-- &lt;h1 class=\\"pink-text blue-text\\"&gt;Hello World!&lt;/h1&gt; --&gt;</span></code></pre><h3 id=\\"52-override-class-declarations-by-styling-id-attributes\\">52. Override Class Declarations by Styling ID Attributes</h3>\\n<p>\u7528ID\u5c5e\u6027\u5f0f\u6837\u8986\u76d6\u7c7b\u58f0\u660e(\u82f1\u8bed\u4e0d\u597d\u3002\u3002\u3002)\uff1a</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n\\n<span class=\\"hljs-selector-id\\">#orange-text</span> {\\n    <span class=\\"hljs-attribute\\">color</span>:orange;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"53-override-class-declarations-with-inline-styles\\">53. Override Class Declarations with Inline Styles</h3>\\n<p>\u7528\u5185\u8054\u6837\u5f0f\u8986\u76d6\u7c7b\u58f0\u660e\uff1a</p>\\n<pre><code>&lt;h1 id=<span class=\\"hljs-string\\">\\"orange-text\\"</span> <span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span></span>=<span class=\\"hljs-string\\">\\"pink-text blue-text\\"</span> style=<span class=\\"hljs-string\\">\\"color:white\\"</span>&gt;Hello World!<span class=\\"xml\\"><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">h1</span>&gt;</span></span></code></pre><h3 id=\\"54-override-all-other-styles-by-using-important\\">54. Override All Other Styles by using Important</h3>\\n<p>\u4f7f\u7528 important \u8986\u76d6\u5176\u4ed6\u6240\u6709\u6837\u5f0f</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n<span class=\\"hljs-selector-class\\">.pink-text</span> {\\n    <span class=\\"hljs-attribute\\">color</span>: pink <span class=\\"hljs-meta\\">!important</span>;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"55-use-hex-code-for-specific-colors\\">55. Use Hex Code for Specific Colors</h3>\\n<p>\u4e3a\u7279\u6b8a\u7684\u989c\u8272\u4f7f\u7528\u5341\u516d\u8fdb\u5236\u4ee3\u7801</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n<span class=\\"hljs-selector-tag\\">body</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: <span class=\\"hljs-number\\">#000</span>;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"56-use-hex-code-to-color-elements-white\\">56. Use Hex Code to Color Elements White</h3>\\n<p>\u4f7f\u7528\u5341\u516d\u8fdb\u5236\u7684\u767d\u8272\u5143\u7d20</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">body</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: <span class=\\"hljs-number\\">#fff</span>;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"57-use-hex-code-to-color-elements-red\\">57. Use Hex Code to Color Elements Red</h3>\\n<p>\u4f7f\u7528\u5341\u516d\u8fdb\u5236\u7684\u7ea2\u8272\u5143\u7d20</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">body</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: <span class=\\"hljs-number\\">#FF0000</span>;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"58-use-hex-code-to-color-elements-green\\">58. Use Hex Code to Color Elements Green</h3>\\n<p>\u4f7f\u7528\u5341\u516d\u8fdb\u5236\u7684\u7eff\u8272\u5143\u7d20</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">body</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: <span class=\\"hljs-number\\">#00FF00</span>;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"59-use-hex-code-to-color-elements-blue\\">59. Use Hex Code to Color Elements Blue</h3>\\n<p>\u4f7f\u7528\u5341\u516d\u8fdb\u5236\u7684\u84dd\u8272\u5143\u7d20</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">body</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: <span class=\\"hljs-number\\">#0000FF</span>;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"60-use-hex-code-to-mix-colors\\">60. Use Hex Code to Mix Colors</h3>\\n<p>\u4f7f\u7528\u5341\u516d\u8fdb\u5236\u4ee3\u7801\u6df7\u5408\u989c\u8272</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">body</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: <span class=\\"hljs-number\\">#FFA500</span>;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"61-use-hex-code-to-color-elements-gray\\">61. Use Hex Code to Color Elements Gray</h3>\\n<p>\u4f7f\u7528\u5341\u516d\u8fdb\u5236\u7684\u7070\u8272\u5143\u7d20</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">body</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: <span class=\\"hljs-number\\">#808080</span>;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"62-use-hex-code-for-specific-shades-of-gray\\">62. Use Hex Code for Specific Shades of Gray</h3>\\n<p>\u4f7f\u7528\u5341\u516d\u8fdb\u5236\u4ee3\u7801\u4e3a\u4e86\u7279\u6b8a\u7070\u5ea6\u7684\u7070\u8272</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">body</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: <span class=\\"hljs-number\\">#111111</span>;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"63-use-abbreviated-hex-code\\">63. Use Abbreviated Hex Code</h3>\\n<p>\u4f7f\u7528\u7f29\u5199\u5341\u516d\u8fdb\u5236\u4ee3\u7801</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">body</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: <span class=\\"hljs-number\\">#F00</span> ;\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"64-use-rgb-values-to-color-elements\\">64. Use RGB values to Color Elements</h3>\\n<p>\u4f7f\u7528RGB\u503c\u989c\u8272\u5143\u7d20</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">body</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: <span class=\\"hljs-built_in\\">rgb</span>(0, 0, 0);\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"65-use-rgb-to-color-elements-white\\">65. Use RGB to Color Elements White</h3>\\n<p>\u4f7f\u7528RGB\u989c\u8272\u767d\u8272\u7684\u5143\u7d20</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">body</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>:  <span class=\\"hljs-built_in\\">rgb</span>(255, 255, 255);\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"66-use-rgb-to-color-elements-red\\">66. Use RGB to Color Elements Red</h3>\\n<p>\u4f7f\u7528RGB\u989c\u8272\u7ea2\u8272\u7684\u5143\u7d20</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">body</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: <span class=\\"hljs-built_in\\">rgb</span>(255, 0, 0);\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"67-use-rgb-to-color-elements-green\\">67. Use RGB to Color Elements Green</h3>\\n<p>\u4f7f\u7528RGB \u989c\u8272\u7eff\u8272\u7684\u5143\u7d20</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">body</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: <span class=\\"hljs-built_in\\">rgb</span>(0, 255, 0);\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"68-use-rgb-to-color-elements-blue\\">68. Use RGB to Color Elements Blue</h3>\\n<p>\u4f7f\u7528RGB \u989c\u8272\u84dd\u8272\u7684\u5143\u7d20</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">body</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: <span class=\\"hljs-built_in\\">rgb</span>(0, 0, 255);\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h3 id=\\"69-use-rgb-to-mix-colors\\">69. Use RGB to Mix Colors</h3>\\n<p>\u4f7f\u7528RGB \u989c\u8272\u6df7\u5408\u7684\u5143\u7d20</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">style</span>&gt;</span><span class=\\"css\\">\\n  <span class=\\"hljs-selector-tag\\">body</span> {\\n    <span class=\\"hljs-attribute\\">background-color</span>: <span class=\\"hljs-built_in\\">rgb</span>(255, 165, 0);\\n  }\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">style</span>&gt;</span></code></pre><h2 id=\\"basic-javascript\\">Basic JavaScript</h2>\\n<h3 id=\\"1-comment-your-javascript-code\\">1. Comment your JavaScript Code</h3>\\n<p>\u6ce8\u91ca\u4f60\u7684Javascript\u4ee3\u7801</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">Script</span>&gt;</span><span class=\\"actionscript\\">\\n<span class=\\"hljs-comment\\">// This is an in-line comment.</span>\\n<span class=\\"hljs-comment\\">/* This is a\\n   multi-line comment */</span>\\n   </span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">Script</span>&gt;</span></code></pre><h3 id=\\"2-declare-javascript-variables\\">2. Declare JavaScript Variables</h3>\\n<p>\u58f0\u660eJavaScript\u53d8\u91cf</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">Script</span>&gt;</span><span class=\\"actionscript\\">\\n<span class=\\"hljs-comment\\">// Define myName below this line</span>\\n\\n<span class=\\"hljs-keyword\\">var</span> myName;\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">Script</span>&gt;</span></code></pre><h3 id=\\"3-storing-values-with-the-equal-operator\\">3. Storing Values with the Equal Operator</h3>\\n<p>\u7528=\u5b58\u50a8\u503c</p>\\n<pre><code>&lt;Script&gt;\\n// Only change code below this line\\n<span class=\\"hljs-attribute\\">a</span> = <span class=\\"hljs-number\\">7</span><span class=\\"hljs-comment\\">;</span>\\n<span class=\\"hljs-attribute\\">b</span> = a<span class=\\"hljs-comment\\">;</span>\\n&lt;/Script&gt;</code></pre><h3 id=\\"4-initializing-variables-with-the-equal-operator\\">4. Initializing Variables with the Equal Operator</h3>\\n<p>\u7528= \u521d\u59cb\u5316\u53d8\u91cf</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">script</span> <span class=\\"hljs-attr\\">type</span>=<span class=\\"hljs-string\\">\\"text/javascript\\"</span>&gt;</span><span class=\\"actionscript\\">\\n<span class=\\"hljs-comment\\">// Only change code below this line</span>\\n<span class=\\"hljs-keyword\\">var</span> a = <span class=\\"hljs-number\\">9</span>;\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">script</span>&gt;</span></code></pre><h3 id=\\"5-understanding-uninitialized-variables\\">5. Understanding Uninitialized Variables</h3>\\n<p>\u4e86\u89e3\u672a\u521d\u59cb\u5316\u53d8\u91cf</p>\\n<pre><code><span class=\\"hljs-tag\\">&lt;<span class=\\"hljs-name\\">script</span> <span class=\\"hljs-attr\\">type</span>=<span class=\\"hljs-string\\">\\"text/javascript\\"</span>&gt;</span><span class=\\"actionscript\\">\\n<span class=\\"hljs-comment\\">// Initialize these three variables</span>\\n<span class=\\"hljs-keyword\\">var</span> a = <span class=\\"hljs-number\\">5</span>;\\n<span class=\\"hljs-keyword\\">var</span> b = <span class=\\"hljs-number\\">10</span>;\\n<span class=\\"hljs-keyword\\">var</span> c = <span class=\\"hljs-string\\">\\"I am a\\"</span>;\\n</span><span class=\\"hljs-tag\\">&lt;/<span class=\\"hljs-name\\">script</span>&gt;</span></code></pre><h3 id=\\"6\\">6.</h3>\\n","title":"FreeCodeCamp\u5b66\u4e60\u7b14\u8bb0","tags":["FreeCodeCamp"],"slug":"free-code-camp","createDate":1458883963258,"id":"free-code-camp","thumb":"https://images.unsplash.com/photo-1582246915745-10e34377da98?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>\u6628\u665a\u5728\u5e8a\u4e0a\u53d1\u73b0\u6709\u5b66\u4e60\u7b14\u8bb0\uff0c\u4e5f\u60f3\u5199\u4e00\u4e2a\u5206\u4eab\u4e00\u4e0b\uff0c\u5199\u70b9\u4ec0\u4e48\u5462\uff1f\u9274\u4e8e\u6709\u4e0d\u5c11\u4eba\u662f\u521d\u6b21\u63a5\u89e6Git\uff0c\u5e72\u8106\u5c31\u8bf4\u8bf4\u8fd9\u4e2a\u5427\uff0c\u6211\u53ea\u4f1a\u4e00\u4e9b\u57fa\u672c\u7684\u64cd\u4f5c\uff0c\u5927\u795e\u53ef\u4ee5\u81ea\u52a8\u5ffd\u7565\u3002</p>\\n","content":"<p>\u6628\u665a\u5728\u5e8a\u4e0a\u53d1\u73b0\u6709\u5b66\u4e60\u7b14\u8bb0\uff0c\u4e5f\u60f3\u5199\u4e00\u4e2a\u5206\u4eab\u4e00\u4e0b\uff0c\u5199\u70b9\u4ec0\u4e48\u5462\uff1f\u9274\u4e8e\u6709\u4e0d\u5c11\u4eba\u662f\u521d\u6b21\u63a5\u89e6Git\uff0c\u5e72\u8106\u5c31\u8bf4\u8bf4\u8fd9\u4e2a\u5427\uff0c\u6211\u53ea\u4f1a\u4e00\u4e9b\u57fa\u672c\u7684\u64cd\u4f5c\uff0c\u5927\u795e\u53ef\u4ee5\u81ea\u52a8\u5ffd\u7565\u3002</p>\\n<h3 id=\\"\u5173\u4e8egithub\\">\u5173\u4e8egithub</h3>\\n<p>\u4ec0\u4e48\u662fgithub(\u5168\u7403\u6700\u5927\u7684\u540c\u6027\u4ea4\u53cb\u5e73\u53f0\uff0c\u6ca1\u6709\u6027\u522b\u6b67\u89c6==)\u5462\uff1f\\n\u8bf4\u767d\u4e86\u5c31\u662f\u4e00\u4e2a\u4ed3\u5e93\uff0c\u4f60\u53ef\u4ee5\u628a\u4f60\u7684\u4ee3\u7801\u653e\u5728\u4e00\u4e2a\u5c0f\u4ed3\u5e93\u4e0a\uff0c\u522b\u4eba\u4e5f\u628a\u4ed6\u4eec\u7684\u4ee3\u7801\u653e\u5728\u4e00\u4e2a\u5c0f\u4ed3\u5e93\u4e0a\uff0c\u7136\u540e\u8fd9\u4e9b\u5c0f\u4ed3\u5e93\u5c31\u7ec4\u6210\u4e86github\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u91cc\u9762\u4e92\u76f8\u4e32\u95e8\uff0c\u770b\u5230\u559c\u6b22\u7684\u4eba\u53ef\u4ee5follow\uff0c\u770b\u5230\u559c\u6b22\u7684\u9879\u76ee\u53ef\u4ee5star\u6216\u8005fork\u3002\u770b\u5230\u8fd9\uff0c\u4f60\u662f\u5426\u8feb\u4e0d\u53ca\u5f85\u60f3\u6709\u4e00\u4e2a\u81ea\u5df1\u7684\u4ed3\u5e93\u6765\u4fdd\u5b58\u4f60\u6210\u679c\u4e30\u7855\u7684\u4ee3\u7801\u5462\uff1f\u53bb<a href=\\"https://github.com/\\">\u5b98\u7f51</a>\u6ce8\u518c\u4e00\u4e2a\u8d26\u53f7\u5427\u3002</p>\\n<h3 id=\\"\u5173\u4e8egit\\">\u5173\u4e8eGit</h3>\\n<p>\u90a3\u4e48\u600e\u4e48\u628a\u4ee3\u7801\u4e0a\u4f20\u5230github\u7684\u4ed3\u5e93\u4e0a\u5462\uff1f</p>\\n<h4 id=\\"1\u3001\u9996\u5148\u6211\u4eec\u5728github\u4e0a\u8981\u5efa\u7acb\u4e00\u4e2a\u4ed3\u5e93\\">1\u3001\u9996\u5148\u6211\u4eec\u5728github\u4e0a\u8981\u5efa\u7acb\u4e00\u4e2a\u4ed3\u5e93</h4>\\n<p>\u6211\u4eec\u8fdb\u5165\u81ea\u5df1\u7684\u5b98\u7f51\uff0c\u53ef\u4ee5\u770b\u89c1\u53f3\u4e0a\u89d2\u5934\u50cf\u5de6\u8fb9\u6709\u4e2a\u52a0\u53f7,\u70b9\u51fb\u9009\u62e9new repository</p>\\n<p><img src=\\"https://xiao555.netlify.com/005NJVkbjw1f1ymc2ulnuj309h04y3yn.jpg\\" alt=\\"\\"></p>\\n<p>\u8fdb\u5165\u8fd9\u6837\u4e00\u4e2a\u9875\u9762\uff0c\u586b\u4e00\u4e0b\u540d\u5b57\u548c\u63cf\u8ff0\uff0c\u7136\u540e\u70b9\u51fb\u5de6\u4e0b\u89d2\u7684Creat</p>\\n<p><img src=\\"https://xiao555.netlify.com/005NJVkbjw1f1ymenjrv4j30lj0fhq5w.jpg\\" alt=\\"\\"></p>\\n<p>\u7136\u540e\u8fdb\u5165\u8fd9\u6837\u4e00\u4e2a\u9875\u9762\uff0c\u8fd9\u8868\u793a\u8fd9\u4e2a\u4ed3\u5e93\u7a7a\u7a7a\u5982\u4e5f\uff0c\u9700\u8981\u6211\u4eec\u4e0a\u4f20\u4e1c\u897f\uff0c\u63a5\u4e0b\u6765\u5c31\u8981\u7528\u5230Git\u55bd\uff0c\u6ca1\u6709Git\u7684\u53bb<a href=\\"https://git-scm.com/downloads\\">\u5b98\u7f51</a>\u4e0b\u4e00\u4e2a\u5427.\u56fe\u4e2d\u7bad\u5934\u6240\u6307\u7684\u5c31\u662f\u6211\u4eec\u65b0\u5efa\u7684\u8fd9\u4e2agithub\u4ed3\u5e93\u7684\u5730\u5740\uff0c\u65b9\u6846\u4e2d\u7684\u5c31\u662f\u6211\u4eec\u4e00\u4f1a\u8981\u7528\u5230\u7684git\u547d\u4ee4\u3002</p>\\n<p><img src=\\"https://xiao555.netlify.com/005NJVkbjw1f1ymkab7fkj30o90hgwjf.jpg\\" alt=\\"\\"></p>\\n<p>\u597d\uff0c\u73b0\u5728\u6211\u4eec\u5728\u684c\u9762\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u91cc\u9762\u653e\u4e86\u6211\u4eec\u8981\u4e0a\u4f20\u7684\u4ee3\u7801\uff0c\u5b89\u88c5\u597dgit\u540e\u9f20\u6807\u53f3\u952e\u4f1a\u6709\u4e00\u4e2aGit Bash here\uff0c\u70b9\u51fb\u51fa\u73b0\u4e00\u4e2a\u719f\u6089\u7684\u9ed1\u6846\u6846</p>\\n<p><img src=\\"https://xiao555.netlify.com/005NJVkbjw1f1ymvjn5hnj30il0goq8z.jpg\\" alt=\\"\\"></p>\\n<p><code>git init</code> \u5c31\u662f\u521d\u59cb\u5316\u4e00\u4e0b\uff0c\u6211\u4eec\u4f1a\u53d1\u73b0\u6587\u4ef6\u5939\u91cc\u591a\u4e86\u4e00\u4e2a<code>.git</code>\u7684\u9690\u85cf\u6587\u4ef6\uff0c\u8fd9\u4e2a\u4e0d\u8981\u968f\u4fbf\u6539\u3002<code>git add</code>\u5c31\u662f\u628a\u672c\u673a\u6587\u4ef6\u6dfb\u52a0\u8fdb\u53bb <code>git add .</code>\u5c31\u662f\u6dfb\u52a0\u6240\u6709\u7684\u610f\u601d\u3002\u6dfb\u52a0\u5b8c\u4e86\u5c31\u8981\u63d0\u4ea4\u4e86\uff0c<code>git commit -m &quot;&quot;</code>,-m\u5c31\u662fmessage\u7684\u610f\u601d\uff0c\u540e\u9762\u7684\u53cc\u5f15\u53f7\u91cc\u5199\u4e0a\u8fd9\u6b21\u63d0\u4ea4\u7684\u4fe1\u606f\u3002<code>git remote add ...</code>\u6dfb\u52a0\u8fdc\u7a0b\u670d\u52a1\u5668\uff0c\u540d\u5b57\u53ef\u4ee5\u968f\u4fbf\uff0c\u5730\u5740\u5c31\u662f\u4f60git\u4ed3\u5e93\u7684\u5730\u5740\uff0c\u6dfb\u52a0\u4e00\u6b21\u4ee5\u540e\u5c31\u4e0d\u7528\u518d\u6dfb\u52a0\u4e86\u3002\u7136\u540e\u5c31\u662f<code>git push \u8fdc\u7a0b\u670d\u52a1\u5668\u540d\u5b57 \u5206\u652f</code>\uff0c\u5206\u652f\u4e00\u822c\u662fmaster\u4e3b\u5206\u652f\u3002\u56de\u8f66\u540e\u4f1a\u8ba9\u4f60\u8f93\u5165github\u8d26\u53f7\u548c\u5bc6\u7801\u3002\u53ef\u4ee5\u4f7f\u7528 <a href=\\"https://git-scm.com/docs/gitcredentials\\">credential helper</a>\u6765\u907f\u514d\u6bcf\u6b21\u63d0\u4ea4\u90fd\u8981\u8f93\u5165\u5bc6\u7801\uff0c\u5982\u4f55\u914d\u7f6e\u53ef\u4ee5\u53c2\u89c1\uff1a<a href=\\"https://help.github.com/articles/caching-your-github-password-in-git/\\">https://help.github.com/articles/caching-your-github-password-in-git/</a>.</p>\\n<pre><code><span class=\\"hljs-symbol\\">XIAO555@</span>XIAO555-PC MINGW64 ~/Desktop/\u65b0\u5efa\u6587\u4ef6\u5939 (master)\\n$ git push origin master\\nCounting objects: <span class=\\"hljs-number\\">3</span>, done.\\nDelta compression using up to <span class=\\"hljs-number\\">4</span> threads.\\nCompressing objects: <span class=\\"hljs-number\\">100</span>% (<span class=\\"hljs-number\\">2</span>/<span class=\\"hljs-number\\">2</span>), done.\\nWriting objects: <span class=\\"hljs-number\\">100</span>% (<span class=\\"hljs-number\\">3</span>/<span class=\\"hljs-number\\">3</span>), <span class=\\"hljs-number\\">1.23</span> KiB | <span class=\\"hljs-number\\">0</span> bytes/s, done.\\nTotal <span class=\\"hljs-number\\">3</span> (delta <span class=\\"hljs-number\\">0</span>), reused <span class=\\"hljs-number\\">0</span> (delta <span class=\\"hljs-number\\">0</span>)\\nTo https:<span class=\\"hljs-comment\\">//github.com/xiao555/example.git</span>\\n * [new branch]      master -&gt; master</code></pre><p>\u8fd9\u6837\u5c31\u8868\u793a\u4e0a\u4f20\u5b8c\u6210\u4e86\uff0c\u56de\u5230\u4f60\u7684github\u4e0a\u770b\u770b\u5427\u3002</p>\\n<p><a href=\\"http://ww3.sinaimg.cn/mw1024/005NJVkbjw1f1ynaltri1j30sg0ar41g.jpg\\"><img src=\\"http://ww3.sinaimg.cn/mw1024/005NJVkbjw1f1ynaltri1j30sg0ar41g.jpg\\" alt=\\"\\"></a></p>\\n<p>\u5927\u529f\u544a\u6210\uff01\u54a6\uff0c\u8981\u662f\u6211\u4eec\u5728\u672c\u5730\u4fee\u6539\u4e86\u4ee3\u7801\u8981\u540c\u6b65\u5230github\u4e0a\u600e\u4e48\u529e\uff1f\u6ca1\u5173\u7cfb\uff0c\u7ee7\u7eed\u4e0b\u5217\u6b65\u9aa4\uff1a</p>\\n<pre><code><span class=\\"hljs-symbol\\">git</span> <span class=\\"hljs-keyword\\">add </span>. //\u4f1a\u663e\u793a\u6709\u51e0\u4e2a\u6539\u52a8\\n<span class=\\"hljs-symbol\\">git</span> commit -m <span class=\\"hljs-string\\">\\"...\\"</span>\\n<span class=\\"hljs-symbol\\">git</span> <span class=\\"hljs-keyword\\">push </span>origin master</code></pre><h3 id=\\"\u5173\u4e8egithub-pages\\">\u5173\u4e8egithub pages</h3>\\n<p>\u6211\u60f3\u8ba9\u6211\u7684\u4ee3\u7801\u53ef\u4ee5\u5728\u7ebf\u6f14\u793a\u600e\u4e48\u529e\uff1f\u7528Github Pages\u3002\u8ba9\u6211\u4eec\u56de\u5230git bash\u90a3\u4e2a\u9ed1\u6846\u6846\uff0c\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a</p>\\n<pre><code>XIAO555<span class=\\"hljs-meta\\">@XIAO</span>555-PC MINGW64 <span class=\\"hljs-regexp\\">~/Desktop/</span>\u65b0\u5efa\u6587\u4ef6\u5939 (master)\\n$ git checkout -b gh-pages\\nSwitched to a <span class=\\"hljs-keyword\\">new</span> branch <span class=\\"hljs-string\\">\'gh-pages\'</span>\\n<span class=\\"hljs-comment\\">//\u521b\u5efa\u540d\u4e3agh-pages\u7684\u5206\u652f</span>\\n\\nXIAO555<span class=\\"hljs-meta\\">@XIAO</span>555-PC MINGW64 <span class=\\"hljs-regexp\\">~/Desktop/</span>\u65b0\u5efa\u6587\u4ef6\u5939 (gh-pages)\\n$ git push origin gh-pages\\nTotal <span class=\\"hljs-number\\">0</span> (delta <span class=\\"hljs-number\\">0</span>), reused <span class=\\"hljs-number\\">0</span> (delta <span class=\\"hljs-number\\">0</span>)\\nTo <span class=\\"hljs-string\\">https:</span><span class=\\"hljs-comment\\">//github.com/xiao555/example.git</span>\\n * [<span class=\\"hljs-keyword\\">new</span> branch]      gh-pages -&gt; gh-pages\\n<span class=\\"hljs-comment\\">//\u4e0a\u4f20\u5230gh-pages\u5206\u652f</span></code></pre><p>\u6211\u4eec\u8fd9\u65f6\u5019\u56de\u5230github\u4e0a\u5237\u65b0\u4e00\u4e0b\uff0c\u4f1a\u53d1\u73b0\u8fd9\u91cc\u591a\u4e86gh-pages\u7684\u5206\u652f</p>\\n<p><img src=\\"https://xiao555.netlify.com/005NJVkbjw1f1ynooepmdj30en0erwgg.jpg\\" alt=\\"\\"></p>\\n<p>\u6211\u4eec\u7684\u6587\u4ef6\u4e5f\u5728\u8fd9\u4e2a\u5206\u652f\u4e0a\u3002github pages\u9700\u8981index.html\u6587\u4ef6\uff0c\u6211\u5728\u672c\u5730\u65b0\u5efa\u4e86\u4e00\u4e2a\u4e0a\u4f20\u5230gh-pages\u5206\u652f\u4e0a\uff0c\u5185\u5bb9\u662f <code>Hello!</code>.\u7136\u540e\u6211\u4eec\u8fdb\u5165\u8fd9\u4e2a\u94fe\u63a5\uff1a<a href=\\"http://xiao555.github.io/example/\\">http://xiao555.github.io/example/</a>,\u8fd9\u4e0d\u5c31\u662f\u521a\u4e0a\u4f20\u7684\u90a3\u4e2aindex.html\u5417\uff0c</p>\\n<p>\u5173\u4e8egithub pages\u5177\u4f53\u53ef\u4ee5\u53c2\u8003<a href=\\"https://help.github.com/categories/github-pages-basics/\\">\u8fd9\u4e2a</a>.</p>\\n<p>\u54c8\u54c8\uff0c\u5230\u8fd9\u91cc\u5c31\u7ed3\u675f\u4e86\uff0c\u4e0d\u8fc7git\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u4f1a\u9047\u5230\u4e00\u4e9b\u5947\u602a\u7684\u95ee\u9898\uff0c\u5927\u5bb6\u53ef\u4ee5\u767e\u5ea6\uff0c\u627e\u6211\u4e5f\u884c.</p>\\n","title":"\u5173\u4e8eGit \u548c Github \u4ee5\u53caGit pages","tags":["git","github","git-pages"],"slug":"about-git-github-and-git-pages","createDate":1458108281766,"id":"about-git-github-and-git-pages","thumb":"https://images.unsplash.com/photo-1580956990950-81503947e9f8?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>\u5f88\u65e9\u4ee5\u524d\u5c31\u60f3\u642d\u4e00\u4e2a\u535a\u5ba2\u4e86\uff0c\u4e09\u4e2a\u6708\u524d\u4e3a\u4e86\u7ffb\u8d8a\u4f1f\u5927\u7684\u9632\u706b\u5899\uff0c\u53bb\u642c\u74e6\u5de5\u4e70\u4e86\u4e2avps\uff0c\u914d\u4e86\u4e2ashadowsocks\u3002\u65e2\u7136\u6709\u4e86vps\uff0c\u5f53\u7136\u4e5f\u5e0c\u671b\u641e\u4e2a\u535a\u5ba2\uff0c\u8fd9\u4e2a\u5bd2\u5047\u5728\u5bb6\u6ca1\u4e8b\u5c31\u5f00\u5de5\u4e86\u3002</p>\\n<p>\u4e4b\u524d\u4e00\u76f4\u4e0d\u6e05\u695a\u642d\u4e00\u4e2a\u535a\u5ba2\u9700\u8981\u5565\uff0c\u6240\u4ee5\u7528\u4e86<a href=\\"https://hexo.io/zh-cn/\\">hexo</a>\u8fd9\u4e2a\u9759\u6001\u535a\u5ba2\u7cfb\u7edf\u3002</p>\\n","content":"<p>\u5f88\u65e9\u4ee5\u524d\u5c31\u60f3\u642d\u4e00\u4e2a\u535a\u5ba2\u4e86\uff0c\u4e09\u4e2a\u6708\u524d\u4e3a\u4e86\u7ffb\u8d8a\u4f1f\u5927\u7684\u9632\u706b\u5899\uff0c\u53bb\u642c\u74e6\u5de5\u4e70\u4e86\u4e2avps\uff0c\u914d\u4e86\u4e2ashadowsocks\u3002\u65e2\u7136\u6709\u4e86vps\uff0c\u5f53\u7136\u4e5f\u5e0c\u671b\u641e\u4e2a\u535a\u5ba2\uff0c\u8fd9\u4e2a\u5bd2\u5047\u5728\u5bb6\u6ca1\u4e8b\u5c31\u5f00\u5de5\u4e86\u3002</p>\\n<p>\u4e4b\u524d\u4e00\u76f4\u4e0d\u6e05\u695a\u642d\u4e00\u4e2a\u535a\u5ba2\u9700\u8981\u5565\uff0c\u6240\u4ee5\u7528\u4e86<a href=\\"https://hexo.io/zh-cn/\\">hexo</a>\u8fd9\u4e2a\u9759\u6001\u535a\u5ba2\u7cfb\u7edf\u3002</p>\\n<p>\u6211\u7684vps\u7cfb\u7edf\u662fCentos 6 x86\u3002\\n\u672c\u673a\u662fwindows7.</p>\\n<h2 id=\\"\u642d\u5efa\u8fc7\u7a0b\\">\u642d\u5efa\u8fc7\u7a0b</h2>\\n<p>\u642d\u5efa\u8fc7\u7a0b\u5206\u4e24\u90e8\u5206\uff0c\u9700\u8981\u5728\u672c\u673a\u548c\u670d\u52a1\u7aef\u90fd\u5b89\u88c5Hexo\u548cGit\uff0cVPS\u4e0a\u8fd8\u9700\u8981\u5b89\u88c5Nginx\u670d\u52a1\u5668\uff0c\u914d\u7f6eGit Hooks\u3002</p>\\n<h3 id=\\"\u672c\u673a1\\">\u672c\u673a1</h3>\\n<h4 id=\\"\u88c5git\\">\u88c5Git</h4>\\n<p>\u4e0b\u8f7d<a href=\\"https://git-scm.com/download/win\\">Git for windows</a>\uff0c\u4e00\u8def\u9ed8\u8ba4\u5b89\u88c5</p>\\n<h4 id=\\"\u5b89\u88c5nodejs\\">\u5b89\u88c5Node.js</h4>\\n<p>\u5728<a href=\\"https://nodejs.org/en/\\">Node.js</a>\u5b98\u7f51\u4e0b\u8f7d\u6700\u65b0\u7248\uff0c\u4e00\u8def\u9ed8\u8ba4\u5b89\u88c5</p>\\n<h4 id=\\"\u521b\u5efa\u7f51\u7ad9\u76ee\u5f55\\">\u521b\u5efa\u7f51\u7ad9\u76ee\u5f55</h4>\\n<p>\u5728\u4f60\u7535\u8111\u7684\u4efb\u610f\u4f4d\u7f6e\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\uff08\u6211\u7684\u662fD:\\\\blog\uff0c\u4e0b\u6587\u4ee5\u6b64\u4ee3\u66ff\uff09\uff0c\u4f5c\u4e3a\u7f51\u7ad9\u76ee\u5f55\u3002</p>\\n<h4 id=\\"\u5b89\u88c5hexo\\">\u5b89\u88c5Hexo</h4>\\n<p>\u6253\u5f00\u4f60\u521b\u5efa\u7684\u7f51\u7ad9\u76ee\u5f55\uff0c\u53f3\u952egit bash here\u6253\u5f00\u547d\u4ee4\u884c\u3002</p>\\n<pre><code><span class=\\"hljs-meta\\"><span class=\\"hljs-meta-keyword\\">$npm</span> install -g hexo-cli</span>\\n<span class=\\"hljs-meta\\"><span class=\\"hljs-meta-keyword\\">$hexo</span> init</span>\\n<span class=\\"hljs-meta\\"><span class=\\"hljs-meta-keyword\\">$npm</span> install</span>\\n<span class=\\"hljs-meta\\"><span class=\\"hljs-meta-keyword\\">$hexo</span> d -fg</span>\\n<span class=\\"hljs-meta\\"><span class=\\"hljs-meta-keyword\\">$hexo</span> serve</span></code></pre><p>\u6253\u5f00<a href=\\"http://localhost:4000\\">http://localhost:4000</a> \u5982\u679c\u770b\u5230hexo\u7684\u521d\u59cb\u9875\u9762\u8bc1\u660e\u5b89\u88c5\u6210\u529f\u3002</p>\\n<p>PS:\u5728\u6211\u7684\u7535\u8111\u4e0a4000\u8c8c\u4f3c\u88ab\u5360\u4e86\uff0c\u5982\u679c\u8981\u6539\u7aef\u53e3\u7684\u8bdd\uff1a</p>\\n<pre><code><span class=\\"hljs-meta\\"><span class=\\"hljs-meta-keyword\\">$hexo</span> serve -p ****</span></code></pre><h4 id=\\"\u914d\u7f6egit\\">\u914d\u7f6eGit</h4>\\n<p>\u5728\u7f51\u7ad9\u76ee\u5f55git bash\uff0c\u6267\u884c</p>\\n<pre><code><span class=\\"hljs-variable\\">$ </span>git init\\n<span class=\\"hljs-variable\\">$ </span>git add .\\n<span class=\\"hljs-variable\\">$ </span>git commit -m <span class=\\"hljs-string\\">\\"Initial commit\\"</span></code></pre><p>\u6211\u4eec\u8fd8\u8981\u7ed9\u4ed6\u52a0\u4e2a\u63d2\u4ef6\\n$npm install hexo-deployer-git \u2013save</p>\\n<h4 id=\\"\u751f\u6210ssh\u5bc6\u94a5\\">\u751f\u6210ssh\u5bc6\u94a5</h4>\\n<p>\u8f93\u5165\u547d\u4ee4 <code>ssh-keygen -t rsa -C \u201cblog\u201d</code> ,\u751f\u6210\u516c\u94a5\u548c\u79c1\u94a5\uff0c\u6253\u5f00\u751f\u6210\u5bc6\u94a5\u7684\u6587\u4ef6\u5939\uff0c\u627e\u5230id_rsa.pub\u3002</p>\\n<h3 id=\\"vpscentos-6\\">VPS(CentOS 6)</h3>\\n<p>\u6211\u4eec\u9009\u62e9Git\u4ed3\u5e93+Git Hooks\u4f5c\u4e3a\u670d\u52a1\u5668\u7aef\u7684\u89e3\u51b3\u65b9\u6848.\\nPS:\u6211\u64cd\u4f5c\u7684\u7528\u6237\u662froot\uff0c\u56e0\u4e3a\u8fd9\u6837\u53ef\u4ee5\u65b9\u4fbf\u70b9.</p>\\n<h4 id=\\"\u5b89\u88c5git\\">\u5b89\u88c5Git</h4>\\n<pre><code>yum update &amp;&amp; apt-<span class=\\"hljs-builtin-name\\">get</span><span class=\\"hljs-built_in\\"> upgrade </span>-y #\u66f4\u65b0\u5185\u6838\\nyum install git-core</code></pre><h4 id=\\"git\u4ed3\u5e93\\">Git\u4ed3\u5e93</h4>\\n<pre><code><span class=\\"hljs-keyword\\">cd</span> ~\\nmkdir blog.git &amp;&amp; <span class=\\"hljs-keyword\\">cd</span> blog.git <span class=\\"hljs-comment\\">#\u521b\u5efaGIT\u4ed3\u5e93\u76ee\u5f55</span>\\ngit init <span class=\\"hljs-params\\">--bare</span> <span class=\\"hljs-comment\\">#\u521d\u59cb\u5316\u4e00\u4e2a\u7a7a\u4ed3\u5e93</span></code></pre><h4 id=\\"ssh\u516c\u94a5\u914d\u7f6e\\">SSH\u516c\u94a5\u914d\u7f6e</h4>\\n<p>\u4e3a\u4e86\u672c\u673a\u4e0d\u767b\u5f55\u81ea\u52a8\u90e8\u7f72</p>\\n<pre><code><span class=\\"hljs-keyword\\">cd</span> ~\\nmkdir <span class=\\"hljs-string\\">.ssh</span> &amp;&amp; <span class=\\"hljs-keyword\\">cd</span> <span class=\\"hljs-string\\">.ssh</span>\\nvim authorized_keys</code></pre><p>\u7136\u540e\u628aid_rsa.pub\u91cc\u7684\u90a3\u4e00\u4e32\u590d\u5236\u8fc7\u53bb\u3002</p>\\n<p>\u672c\u673aGit Bash\u91cc\u5b9e\u9a8c\u4e00\u4e0b</p>\\n<pre><code><span class=\\"hljs-selector-tag\\">ssh</span> <span class=\\"hljs-selector-tag\\">username</span>@<span class=\\"hljs-keyword\\">yourVps</span>(<span class=\\"hljs-keyword\\">IP</span> Or URL)</code></pre><p>\u5982\u679c\u914d\u7f6e\u6210\u529f\u7684\u8bdd\u4e0d\u7528\u8f93\u5165\u5bc6\u7801\u5c31\u4f1a\u767b\u9646\u3002</p>\\n<h4 id=\\"\u914d\u7f6e\u672c\u673ahexo\\">\u914d\u7f6e\u672c\u673aHexo</h4>\\n<p>\u8bbe\u7f6egit\u7528\u6237\u540d</p>\\n<pre><code>$ git<span class=\\"hljs-built_in\\"> config </span>--global user.email <span class=\\"hljs-string\\">\\"email@example.com\\"</span>\\n$ git<span class=\\"hljs-built_in\\"> config </span>--global user.name <span class=\\"hljs-string\\">\\"username\\"</span></code></pre><p>\u914d\u7f6e\u7ad9\u70b9\u76ee\u5f55\u91cc\u7684_config.yml</p>\\n<pre><code><span class=\\"hljs-meta\\"># Deployment</span>\\n<span class=\\"hljs-meta\\"># Docs: https:<span class=\\"hljs-comment\\">//hexo.io/docs/deployment.html</span></span>\\n<span class=\\"hljs-symbol\\">deploy:</span>\\n<span class=\\"hljs-symbol\\">  type:</span> git\\n<span class=\\"hljs-symbol\\">  message:</span> update\\n<span class=\\"hljs-symbol\\">  repo:</span> root@YOURVPSIP:blog.git\\n<span class=\\"hljs-symbol\\">  branch:</span> master</code></pre><p>\u8fd9\u5e94\u8be5\u662f\u5355\u7528\u6237\u7684\u8bbe\u7f6e\uff0c\u591a\u7528\u6237\u8bf7\u81ea\u884cgoogle,\u57fa\u672c\u662f</p>\\n<pre><code><span class=\\"hljs-attribute\\">repo</span>:\\n  <span class=\\"hljs-attribute\\">s1</span>: root<span class=\\"hljs-variable\\">@YOURVPSIP</span>:blog.git,master</code></pre><p>\u8fd0\u884c <code>hexo g &amp;&amp; hexo d</code>\uff0c\u5982\u679c\u4e00\u5207\u6b63\u5e38\uff0c\u9759\u6001\u6587\u4ef6\u5df2\u7ecf\u88ab\u6210\u529f\u7684push\u5230\u4e86blog\u7684\u4ed3\u5e93\u91cc</p>\\n<p>PS:\u6ce8\u610f\u914d\u7f6e\u6587\u4ef6\u7684\u5192\u53f7 \uff1a \u540e\u9762\u4e00\u5b9a\u8981\u6709\u7a7a\u683c</p>\\n<h4 id=\\"\u914d\u7f6enginx\\">\u914d\u7f6eNginx</h4>\\n<h5 id=\\"\u5b89\u88c5nginx\u548cnodejs\\">\u5b89\u88c5Nginx\u548cNode.js</h5>\\n<pre><code><span class=\\"hljs-variable\\">$yum</span> update &amp;&amp; apt-<span class=\\"hljs-builtin-name\\">get</span><span class=\\"hljs-built_in\\"> upgrade </span>-y #\u66f4\u65b0\u5185\u6838\\n<span class=\\"hljs-variable\\">$yun</span> install nodejs -y\\n<span class=\\"hljs-variable\\">$yum</span> install nginx -y\\n<span class=\\"hljs-variable\\">$cd</span> /etc/nginx/conf.d/\\n<span class=\\"hljs-variable\\">$vi</span> default.conf</code></pre><p>\u6211\u8fd9\u91cc\u4e3a\u4e86\u65b9\u4fbf\u76f4\u63a5\u6539\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u4e86\uff0c\u5176\u4ed6\u535a\u5ba2\u4e00\u822c\u4ecb\u7ecd\u65b0\u5efa\u4e00\u4e2avhost\u7684\u65b9\u6cd5\u3002</p>\\n<pre><code><span class=\\"hljs-section\\">server</span> {\\n    <span class=\\"hljs-attribute\\">listen</span> IP:<span class=\\"hljs-number\\">80</span> ;\\n    <span class=\\"hljs-attribute\\">root</span> /var/www/blog;  <span class=\\"hljs-comment\\"># \u8fd9\u91cc\u662f\u4f60\u7f51\u7ad9\u7684\u8def\u5f84 \u8def\u5f84\u4e0b\u5305\u542bindex.html\u7b49\u4e00\u7cfb\u5217\u6587\u4ef6</span>\\n    <span class=\\"hljs-attribute\\">server_name</span> _;   <span class=\\"hljs-comment\\"># \u5982\u679c\u6ca1\u6709\u57df\u540d\u5c31\u50cf\u6211\u8fd9\u6837\u5199\uff0c\u6709\u57df\u540d\u5c31\u5199\u57df\u540d</span>\\n    <span class=\\"hljs-attribute\\">access_log</span>  /var/log/nginx/example_access.log;\\n    <span class=\\"hljs-attribute\\">error_log</span>   /var/log/nginx/example_error.log;\\n    <span class=\\"hljs-attribute\\">location</span> <span class=\\"hljs-regexp\\">~* ^.+\\\\.(ico|gif|jpg|jpeg|png)$</span> {\\n            <span class=\\"hljs-attribute\\">root</span> /var/www/example.com/public;\\n            <span class=\\"hljs-attribute\\">access_log</span>   <span class=\\"hljs-literal\\">off</span>;\\n            <span class=\\"hljs-attribute\\">expires</span>      <span class=\\"hljs-number\\">1d</span>;\\n        }\\n    <span class=\\"hljs-attribute\\">location</span> <span class=\\"hljs-regexp\\">~* ^.+\\\\.(css|js|txt|xml|swf|wav)$</span> {\\n        <span class=\\"hljs-attribute\\">root</span> /var/www/example.com/public;\\n        <span class=\\"hljs-attribute\\">access_log</span>   <span class=\\"hljs-literal\\">off</span>;\\n        <span class=\\"hljs-attribute\\">expires</span>      <span class=\\"hljs-number\\">10m</span>;\\n    }\\n    <span class=\\"hljs-attribute\\">location</span> / {\\n        <span class=\\"hljs-attribute\\">root</span> /var/www/example.com/public;\\n        <span class=\\"hljs-attribute\\">if</span> (-f <span class=\\"hljs-variable\\">$request_filename</span>) {\\n            <span class=\\"hljs-attribute\\">rewrite</span><span class=\\"hljs-regexp\\"> ^/(.*)$</span>  /<span class=\\"hljs-variable\\">$1</span> <span class=\\"hljs-literal\\">break</span>;\\n        }\\n    }\\n}</code></pre><h5 id=\\"\u521b\u5efa\u76ee\u5f55-\u5206\u914d\u6743\u9650\\">\u521b\u5efa\u76ee\u5f55 \u5206\u914d\u6743\u9650</h5>\\n<pre><code><span class=\\"hljs-meta\\"><span class=\\"hljs-meta-keyword\\">$cd</span> /var/www</span>\\n<span class=\\"hljs-meta\\"><span class=\\"hljs-meta-keyword\\">$mkdir</span> blog</span>\\n<span class=\\"hljs-meta\\"><span class=\\"hljs-meta-keyword\\">$chmod</span> 775 -R /var/www/blog</span></code></pre><p>\u987a\u4fbf\u521d\u59cb\u5316\u4e00\u4e0b\u4ed3\u5e93</p>\\n<pre><code><span class=\\"hljs-attr\\">git</span> <span class=\\"hljs-string\\">init</span>\\n<span class=\\"hljs-attr\\">git</span> <span class=\\"hljs-string\\">remote add origin ~/blog.git</span>\\n<span class=\\"hljs-attr\\">git</span> <span class=\\"hljs-string\\">fetch</span>\\n<span class=\\"hljs-attr\\">git</span> <span class=\\"hljs-string\\">checkout master</span></code></pre><h5 id=\\"\u8fd0\u884cnginx\\">\u8fd0\u884cNginx</h5>\\n<pre><code>$<span class=\\"hljs-regexp\\">/etc/i</span>nit.d<span class=\\"hljs-regexp\\">/nginx restart</span></code></pre><h4 id=\\"\u914d\u7f6e-git-hooks\\">\u914d\u7f6e Git Hooks</h4>\\n<p>\u8fd9\u4e2a\u662f\u4e0d\u540c\u4e8e\u7f51\u4e0a\u641c\u7684\u5927\u591a\u6570\u65b9\u6cd5\u7684git hooks\u914d\u7f6e\uff0c\u56e0\u4e3a\u4ed6\u4eec\u90a3\u79cd\u65b9\u6cd5\u6211\u7528\u4e0d\u6210\u529f==</p>\\n<pre><code><span class=\\"hljs-attr\\">cd</span> <span class=\\"hljs-string\\">~/blog.git/hooks</span>\\n<span class=\\"hljs-attr\\">touch</span> <span class=\\"hljs-string\\">post-receive</span>\\n<span class=\\"hljs-attr\\">vi</span> <span class=\\"hljs-string\\">post-receive</span></code></pre><p>\u914d\u7f6e\u5982\u4e0b</p>\\n<pre><code><span class=\\"hljs-meta\\">#!/bin/sh\\n</span>\\n<span class=\\"hljs-built_in\\">unset</span> GIT_DIR\\n\\nNowPath=`<span class=\\"hljs-built_in\\">pwd</span>`\\nDeployPath=<span class=\\"hljs-string\\">\\"/var/www/blog\\"</span>\\n\\n<span class=\\"hljs-built_in\\">cd</span> <span class=\\"hljs-variable\\">$DeployPath</span>\\ngit pull origin master\\n\\n<span class=\\"hljs-built_in\\">cd</span> <span class=\\"hljs-variable\\">$NowPath</span>\\n<span class=\\"hljs-built_in\\">exit</span> 0</code></pre><p>\u66f4\u6539\u6743\u9650</p>\\n<pre><code><span class=\\"hljs-variable\\">$ </span>chmod +x post-receive</code></pre><p>\u5230\u8fd9\u91cc\u5c31\u914d\u7f6eok\u4e86\uff0c\u56de\u5230\u672c\u673a\u7ad9\u70b9\u76ee\u5f55git bash\u6d4b\u8bd5\u4e00\u4e0b\uff0c\u53ef\u4ee5\u7565\u4f5c\u4fee\u6539\uff0c\u6bd4\u5982\u6362\u4e00\u4e0b\u6807\u9898 <code>title: Xiao555</code>,\u7136\u540e</p>\\n<pre><code>hexo g <span class=\\"hljs-meta\\">&amp;&amp; hexo d</span></code></pre><p>\u4ece\u6d4f\u89c8\u5668\u6253\u5f00\u4f60\u7684\u7f51\u7ad9\u6216\u8005\u670d\u52a1\u5668\u7684ip\u770b\u770b\u662f\u5426\u6210\u529f\u3002\\n\u5f53\u7136\uff0c\u6bcf\u6b21\u66f4\u65b0\u5b8c\u90fd\u8981\u5199\u8fd9\u884c\u867d\u7136\u4e0d\u591a\u4f46\u662f\u8fd8\u6709\u611f\u89c9\u6709\u70b9\u9ebb\u70e6\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u7ed9Git\u914d\u7f6e\u4e00\u4e0b\uff0c\u7f16\u8f91~/.bashrc\u6587\u4ef6\uff0c\u6ca1\u6709\u4f1a\u52a0\u4e0a\uff1a</p>\\n<pre><code>vim ~<span class=\\"hljs-string\\">/.bashrc</span></code></pre><p>\u7f16\u8f91\u5185\u5bb9\uff1a</p>\\n<pre><code><span class=\\"hljs-keyword\\">alias</span> blog=\'<span class=\\"hljs-keyword\\">cd</span> D:<span class=\\"hljs-string\\">/blog</span>;hexo g &amp;&amp; hexo d\'</code></pre><p>cd \u540e\u9762\u662f\u4f60\u7684\u672c\u673a\u7ad9\u70b9\u76ee\u5f55\u3002\u4fdd\u5b58\u5e76\u9000\u51fa\uff0c\u518d\u8fd0\u884c(\u4e0d\u7136\u4e0d\u751f\u6548\uff09\uff1a</p>\\n<pre><code><span class=\\"hljs-built_in\\">source</span> ~/.bashrc</code></pre><p>\u8fd9\u6837\u4ee5\u540e\u5199\u5b8c\u4e00\u7bc7\u6587\u7ae0\u8981\u66f4\u65b0\u53ea\u9700\u8981\u76f4\u63a5\u6253\u5f00git bash\u8f93\u5165blog\u5c31\u53ef\u4ee5\u4e86\u3002</p>\\n<p>\u81f3\u4e8ehexo\u7ad9\u70b9\u7684\u914d\u7f6e\uff0c\u53c2\u7167\u5b98\u7f51\u5c31\u597d\u3002\u8fd9\u91cc\u6dfb\u52a0\u4e00\u9879\u5c31\u662f\u7ad9\u70b9\u914d\u7f6e\u6587\u4ef6\u91cc\u7684<code>auto_detect: false</code>\u8981\u6539\u4e3atrue\uff0c\u5426\u5219\u4ee3\u7801\u5757\u884c\u53f7\u53ea\u67091\uff0c\u5176\u4ed6\u4e3a\u7a7a\u767d\uff1a</p>\\n<p><img src=\\"https://xiao555.netlify.com/codebug.png\\" alt=\\"\\"></p>\\n<p>\u554a\uff0c\u7a81\u7136\u53d1\u73b0\u5199\u4e2a\u535a\u5ba2\u597d\u96be\u554a\uff0c\u8bb0\u6027\u4e0d\u597d\u6015\u5199\u5f97\u4e0d\u5bf9\uff0c\u6709\u9519\u8bef\u8fd8\u5e0c\u671b\u8bfb\u8005\u591a\u591a\u6307\u51fa\uff0c\u53c2\u8003\u8d44\u6599\u57fa\u672c\u5c31\u662f\u4f60\u80fdgoogle\u5230\u7684\u90a3\u4e9b\u6709\u5173\u7684\u535a\u6587\uff0c\u5c31\u4e0d\u4e00\u4e00\u5217\u4e3e\u4e86,\u4e3b\u8981\u7684\u533a\u522b\u5c31\u662fgit hooks\u7684\u3002</p>\\n","title":"\u5728vps\u4e0a\u642d\u5efahexo\u535a\u5ba2\u7528Git Hooks \u66f4\u65b0","tags":["vps","hexo","blog","git-hooks"],"slug":"set-up-a-hexo-blog-on-vps-and-update-it-with-git-hooks","createDate":1457431802283,"id":"set-up-a-hexo-blog-on-vps-and-update-it-with-git-hooks","thumb":"https://images.unsplash.com/photo-1581252167648-643051a9433e?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>\u5728\u8fd9\u521a\u5f00\u5b66\u4e0d\u4e45\u7684\uff0c\u820d\u53cb\u4eec\u90fd\u65e0\u5fe7\u65e0\u8651\u7684\u73a9\u7740\u6e38\u620f\u7684\u65f6\u5019\uff0c\u6211\u7684\u5fc3\u60c5\u5f88\u4e0d\u723d\u3002\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f\u56e0\u4e3a\u6211\u8981\u8865\u8003\uff01\uff01\uff01</p>\\n","content":"<p>\u5728\u8fd9\u521a\u5f00\u5b66\u4e0d\u4e45\u7684\uff0c\u820d\u53cb\u4eec\u90fd\u65e0\u5fe7\u65e0\u8651\u7684\u73a9\u7740\u6e38\u620f\u7684\u65f6\u5019\uff0c\u6211\u7684\u5fc3\u60c5\u5f88\u4e0d\u723d\u3002\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f\u56e0\u4e3a\u6211\u8981\u8865\u8003\uff01\uff01\uff01</p>\\n<p>\u800c\u5728\u6211\u9ed8\u9ed8\u51c6\u5907\u8865\u8003\u7684\u65f6\u5019\uff0c\u6b63\u5728\u8fdb\u884c\u7740\u5404\u5927\u516c\u53f8\u7684\u6625\u62db\u5de5\u4f5c\uff0c\u770b\u7740\u5927\u4e09\u7684\u5b66\u957f\u5b66\u59d0\u4eec\u90fd\u5728\u79ef\u6781\u5730\u627e\u5185\u63a8\uff0c\u6295\u7b80\u5386\uff0c\u9762\u8bd5\u3002\u6211\u611f\u5230\u5f88\u4e0d\u662f\u6ecb\u5473\u3002\u8fd9\u53c8\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f\u4e14\u542c\u6211\u5a13\u5a13\u9053\u6765\uff1a</p>\\n<p>\u5f53\u6211\u521a\u4ece\u4e1c\u90e8\u6cbf\u6d77\u6765\u5230\u5185\u9646\u7684\u897f\u7535\u65f6\uff0c\u6211\u5728\u6240\u8c13\u7684\u6280\u672f\u4e0a\u5b8c\u5168\u662f\u4e2a\u5c0f\u767d\uff0c\u4e0d\u61c2\u4ec0\u4e48\u662fC\u8bed\u8a00\uff0c\u4ec0\u4e48\u662fhtml\uff0c\u4ec0\u4e48\u662fjs\u3002\u540e\u6765\uff0c\u53c2\u52a0\u96c1\u5854E6\u7684\u62db\u65b0\u9762\u8bd5\u65f6\uff0c\u5b66\u957f\u95ee\u6211\u77e5\u9053\u4ec0\u4e48\u662fweb\u5417\uff1f\u6211\u5f53\u65f6\u4e00\u8138\u61f5\u903c\u554a\uff0c\u4f46\u662f\u4e3a\u4e86\u78b0\u78b0\u8fd0\u6c14\uff0c\u6211\u5f88\u6ca1\u5e95\u6c14\u7684\u8bf4\u201c\u5916\u5305?\u201d \u963f\u897f\u5427\uff0c\u6211\u73b0\u5728\u80fd\u60f3\u8c61\u5f53\u65f6\u5b66\u957f\u4f1a\u600e\u4e48\u60f3\uff0c\u5475\u5475\u3002\u4e8e\u662f\u5b66\u957f\u8ddf\u6211\u8bb2\u89e3\u4e86html\u7684\u6545\u4e8b\uff0c\u4e8e\u662f\u6211\u77e5\u9053\u4e86\u6709\u4e2a\u53ebw3school\u7684\u4e1c\u897f\uff0c\u4e8e\u662f\u6211\u5728\u5f53\u65f6\u5927\u4e00\u4e0d\u5141\u8bb8\u5e26\u7535\u8111\u7684\u60c5\u51b5\u4e0b\u6bc5\u7136\u4e70\u4e86\u6211\u7684Dell\u6e38\u620f\u672c\u5f00\u59cb\u5b66\u4e60html\uff0ccss\uff0cjs\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u6211\u53d1\u73b0\u4e86\u8bb8\u591a\u6709\u8da3\u7684\u4e1c\u897f\u3002\u6211\u5c1d\u8bd5\u7740\u505a\u4e2a\u4eba\u7f51\u7ad9\uff0c\u4f46\u662f\u9875\u9762\u5199\u7684\u4e00\u584c\u7cca\u6d82\uff0c\u8ba9\u4eba\u4e0d\u5fcd\u76f4\u89c6\uff0c\u54c8\u54c8\u3002\u4e8e\u662f\u6709\u81ea\u77e5\u4e4b\u660e\u7684\u6211\u53bb\u7f51\u4e0a\u627e\u522b\u4eba\u7684\u7f51\u9875\uff0c\u7136\u540e\u8bd5\u7740\u6539\u6210\u6211\u7684(\u597d\u65e0\u803b)\uff0c\u8fd9\u662f\u5f53\u65f6\u7684<a href=\\"http://1.jianli2015.applinzi.com/\\">\u4f5c\u54c1</a>(\u94fe\u63a5\u5728\u5de6\u8fb9)\uff0c\u5f88\u7b80\u964b\u6709\u6ca1\u6709\u3002\u54ce\uff0c\u5f53\u65f6\u61f5\u61c2\u7684\u6211\u60f3\u4ee5\u540e\u5c31\u5b66\u8fd9\u4e2a\u4e86\uff0c\u5403\u524d\u7aef\u7684\u996d\uff0c\u52a0\u6cb9\uff0c\u52aa\u529b\u594b\u6597\uff01\uff01</p>\\n<p>\u7136\u800c\uff0c\u771f\u76f8\u662f\uff1a\u4e0a\u8bfe\u7761\u89c9\uff0c\u665a\u4e0aLOL\uff0c\u7136\u540e\u4e0a\u5e8a\u6263\u624b\u673a\uff0c\u5468\u672b\u4e5f\u662fLOL\u3002\u867d\u7136\u6709\u70b9\u5938\u5f20\uff0c\u6211\u53ea\u662f\u60f3\u8868\u8fbe\u611f\u89c9\u5927\u4e00\u4e00\u5e74\u8ddf\u5927\u4e8c\u4e0a\u5b66\u671f\u57fa\u672c\u90fd\u5728\u6e38\u620f\u4e2d\u8352\u5e9f\u4e86\u3002</p>\\n<p>\u554a\uff0c\u5c11\u5e74\u4f60\u7684\u7406\u60f3\u5462\uff1f\u6211\u4eec\u7684\u5f81\u9014\u662f\u661f\u8fb0\u5927\u6d77\u554a\uff01\uff01\u770b\u770b\u5468\u56f4\u90a3\u4e9b\u52aa\u529b\u594b\u6597\u7684\u4eba\uff0c\u770b\u770b\u79d1\u534f\u52aa\u529b\u5b66\u6280\u672f\u7684\u90a3\u7fa4\u4eba\uff0c\u518d\u770b\u770b\u4f60\u81ea\u5df1\uff0c\u8fd9\u6837\u5bf9\u5f97\u8d77\u4f60\u7684\u4eba\u751f\u5417\uff01\uff01</p>\\n<p>\u786e\u5b9e\u5f88\u591a\u65f6\u5019\u90fd\u611f\u5230\u6ca1\u6709\u5b66\u597d\u4e00\u9879\u6280\u80fd\uff0c\u6bd5\u4e1a\u540e\u627e\u4e0d\u5230\u5de5\u4f5c\uff0c\u524d\u9014\u6e3a\u832b\u3002\u672c\u6765\u5c31\u6ca1\u6709\u59b9\u5b50\u76f8\u4f34\uff0c\u4ee5\u540e\u7a77\u56f0\u6f66\u5012\u7684\u65f6\u5019\u53bb\u54ea\u627e\u4f60\u7684\u989c\u5982\u7389\u554a\u3002\\n\u5176\u5b9e\u6211\u4e4b\u524d\u662f\u60f3\u5927\u4e8c\u7ed3\u675f\u90a3\u4e2a\u6691\u5047\u51fa\u53bb\u627e\u4e00\u4efd\u5b9e\u4e60\uff0c\u4f46\u662f\u73b0\u5728\u770b\u6765\uff0c\u6211\u9700\u8981\u5b66\u7684\u8fd8\u6709\u5f88\u591a\uff0c\u5b8c\u5168\u8fbe\u4e0d\u5230\u4eba\u5bb6\u7684\u8981\u6c42\u554a\u3002</p>\\n<p>\u54ce\uff0c\u597d\u5427\uff0c\u7eaf\u7cb9\u662f\u65e0\u75c5\u547b\u541f\u3002\u5c31\u662f\u4eca\u5929\u611f\u89c9\u5fc3\u60c5\u6c89\u91cd\uff0c\u8111\u5b50\u91cc\u60f3\u7684\u90fd\u662f\u8fd9\u4e9b\uff0c\u7136\u540e\u603b\u60f3\u5199\u70b9\u5565\u3002\u7136\u800c\u597d\u4e45\u6ca1\u4e0a\u8bed\u6587\u7684\u6211\u65e9\u5df2\u5931\u53bb\u4e86\u5f53\u521d\u768450+\u7684\u4f5c\u6587\u6c34\u5e73\u3002</p>\\n<p>\u8a00\u5f52\u6b63\u4f20\uff0c\u6211\u89c9\u5f97\u81ea\u5df1\u8fd8\u6709\u6551\u3002\u90a3\u5c31\u505a\u4e2a\u8ba1\u5212\u5427\u3002\u8fd9\u5b66\u671f\u597d\u597d\u5b66js\u3002\u4eca\u5929\u770b\u77e5\u4e4e\u7684\u65f6\u5019\u770b\u5230\u4e00\u4e2a\u5b66\u4e60\u8ba1\u5212\u611f\u89c9\u4e0d\u9519\u7684\u6837\u5b50\uff0c\u6458\u6284\u5982\u4e0b\uff1a</p>\\n<pre><code><span class=\\"hljs-number\\">1</span>\u3001 css\u3001html (ES5\uff0cES2015\uff0cES2016)\u9075\u5faa\u6807\u51c6\u6765\u5b66\u4e60\u3002\\n<span class=\\"hljs-number\\">2</span>\u3001 http\u3001socket\u7b49\u7f51\u7edc\u5c42\u534f\u8bae\u3002\\n<span class=\\"hljs-number\\">3</span>\u3001 \u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u3002\\n<span class=\\"hljs-number\\">4</span>\u3001 \u8bbe\u8ba1\u6a21\u5f0f\u3002\u8fd9\u91cc\u4e0d\u5efa\u8bae\u4e3a\u4e86\u8bbe\u8ba1\u800c\u5b66\u4e60\uff0c\u591a\u4e86\u89e3\uff0c\u591a\u601d\u8003\u3002\\n<span class=\\"hljs-number\\">5</span>\u3001 \u9879\u76ee(\u53ef\u80fd\u662f\u953b\u70bc\uff1f)\u62bd\u8c61\u3001\u5efa\u6a21\u3001\u5206\u5c42\u7684\u80fd\u529b\u3002\\n\\n\u603b\u4e4b\uff0c\u4ee3\u7801\u5c3d\u53ef\u80fd\u4e0d\u91cd\u590d\uff0c\u6613\u8bfb\u6613\u7ef4\u62a4\u6613\u6269\u5c55\u3002\\n\\n\u8f6f\u80fd\u529b\uff1a\\n<span class=\\"hljs-number\\">1</span>\u3001 \u6c9f\u901a\u80fd\u529b\\n<span class=\\"hljs-number\\">2</span>\u3001 \u63a8\u52a8\u9879\u76ee\u53ef\u6267\u884c\uff0c\u6709\u53cd\u9988\\n<span class=\\"hljs-number\\">3</span>\u3001 \u63d0\u9ad8\u82f1\u8bed\u80fd\u529b\\n<span class=\\"hljs-number\\">4</span>\u3001 \u953b\u70bc\u51fa\u81ea\u5df1\u7684\u5b66\u4e60\u65b9\u6cd5\\n\\n<span class=\\"hljs-keyword\\">final</span>\uff1a\u6691\u5047\u6709\u80fd\u529b\u627e\u5230\u4e00\u4efd\u5b9e\u4e60\u5de5\u4f5c\uff01\uff08\u81ea\u5df1\u52a0\u7684\uff09\\nao\uff0c\u5bf9\u4e86\uff0c\u8fd8\u6709\u4e00\u6761\uff1a\u6bcf\u5929\u5c3d\u91cf\u5c11\u71ac\u591c\u554a\u9a9a\u5e74\uff01</code></pre><p>\u597d\u5427\uff0c\u9a9a\u5e74\u52aa\u529b\u5427\uff0c\u65e2\u7136\u5df2\u7ecf\u6212\u64b8\uff0c\u90a3\u5c31\u627f\u62c5\u8d77\u4f60\u5e94\u8be5\u62c5\u8d1f\u7684\u8d23\u4efb\uff0c\u52aa\u529b\u5b66\u4e60\u524d\u7aef\u5427\uff01(\u54a6\uff0c\u6709\u70b9\u4f3c\u66fe\u76f8\u8bc6\u554a==\uff01)</p>\\n","title":"\u65e5\u8bb0\u2014\u20142016.3.3","tags":["\u65e5\u8bb0"],"slug":"diary-2016.3.3","createDate":1457018816993,"id":"diary-2016.3.3","thumb":"https://images.unsplash.com/photo-1581623301138-42e3513ddbf2?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>\u672c\u6559\u7a0b\u9002\u7528\u4e8eCentOS 6</p>\\n","content":"<p>\u672c\u6559\u7a0b\u9002\u7528\u4e8eCentOS 6</p>\\n<h2 id=\\"\u5b89\u88c5pptp\\">\u5b89\u88c5pptp</h2>\\n<pre><code>wget --<span class=\\"hljs-keyword\\">no</span>-check-certificate http<span class=\\"hljs-variable\\">s:</span>//raw.githubusercontent.<span class=\\"hljs-keyword\\">com</span>/teddysun/across/master/pptp.<span class=\\"hljs-keyword\\">sh</span>\\nchmod +<span class=\\"hljs-keyword\\">x</span> pptp.<span class=\\"hljs-keyword\\">sh</span>\\n./pptp.<span class=\\"hljs-keyword\\">sh</span></code></pre><p><a href=\\"http://www.bandwagong.com/wp-content/uploads/2015/04/258.png\\">http://www.bandwagong.com/wp-content/uploads/2015/04/258.png</a></p>\\n<p>\u5b89\u88c5\u6210\u529f\u540e\uff0c\u4f1a\u6709\u76f8\u5e94\u4fe1\u606f</p>\\n<p><a href=\\"http://www.bandwagong.com/wp-content/uploads/2015/04/259.jpg\\">http://www.bandwagong.com/wp-content/uploads/2015/04/259.jpg</a></p>\\n<p>\u589e\u52a0\u4e00\u4e2a\u65b0\u7528\u6237\uff0c\u5220\u9664\u7528\u6237\uff0c\u4fee\u6539\u5bc6\u7801\u7b49\u53ef\u4ee5\u4f7f\u7528\u7f16\u8f91\uff1a</p>\\n<pre><code>vi <span class=\\"hljs-regexp\\">/etc/</span>ppp<span class=\\"hljs-regexp\\">/chap-secrets</span></code></pre><p>\u6309i \u7f16\u8f91\uff0c\u683c\u5f0f\u5982\u4e0b\uff1a</p>\\n<pre><code>vpn pptpd <span class=\\"hljs-number\\">123456</span> *\\n<span class=\\"hljs-meta\\">#vpn \u7528\u6237\u540d</span>\\n<span class=\\"hljs-meta\\">#123456 \u5bc6\u7801</span>\\n<span class=\\"hljs-meta\\">#pptpd \u548c * \u4e0d\u53d8\uff0c\u5b57\u7b26\u4e2d\u95f4\u5fc5\u987b\u7528\u4e00\u4e2a\u7a7a\u683c\u9694\u5f00\u3002\u6570\u5b57123\uff0c\u9009\u7528\u952e\u76d8\u5b57\u6bcd\u952e\u4e0a\u65b9\uff0c\u4e0d\u8981\u7528\u6570\u5b57\u5c0f\u952e\u76d8</span></code></pre><p><a href=\\"http://www.bandwagong.com/wp-content/uploads/2015/04/230.jpg\\">http://www.bandwagong.com/wp-content/uploads/2015/04/230.jpg</a></p>\\n<p>\u5982\u4e0a\u8f93\u5165\u5b8c\u6210\uff0c\u6309\u4e0b\u952e\u76d8\u5de6\u4e0a\u65b9ESC\u952e\u76d8\uff0c\u82f1\u6587\u72b6\u6001\u4e0b\u8f93\u5165 \u201c\uff1a\u201d\u518d\u8f93\u5165\u5b57\u6bcd wq \uff0c\u56de\u8f66\u5373\u4fdd\u5b58\u597d\u4e86\u3002\\n\u73b0\u5728\u53ea\u8981\u7535\u8111\u8bbe\u7f6e\u597d\uff0c\u5c31\u53ef\u4ee5\u81ea\u7531\u7684\u7545\u4eab\u7f51\u7edc\u4e86\u3002</p>\\n<p>\u53c2\u8003\u6587\u7ae0\uff1a<a href=\\"http://www.bandwagong.com/pptpd-vpn/\\">http://www.bandwagong.com/pptpd-vpn/</a></p>\\n","title":"\u642c\u74e6\u5de5VPS pptpd VPN\u914d\u7f6e","tags":["vps","pptpd","vpn"],"slug":"bandwagonhost-pptpd-vpn","createDate":1455155301793,"id":"bandwagonhost-pptpd-vpn","thumb":"https://images.unsplash.com/photo-1581626274639-07cb175d188d?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"},{"intro":"<p>\u672c\u6587\u9002\u7528\u4e8eCentOS 6 \u7cfb\u7edf\\nshadowsocks\u5ba2\u6237\u7aef\u4e0b\u8f7d\u94fe\u63a5\uff1a<a href=\\"http://sourceforge.net/projects/shadowsocksgui/files/dist/\\">http://sourceforge.net/projects/shadowsocksgui/files/dist/</a></p>\\n","content":"<p>\u672c\u6587\u9002\u7528\u4e8eCentOS 6 \u7cfb\u7edf\\nshadowsocks\u5ba2\u6237\u7aef\u4e0b\u8f7d\u94fe\u63a5\uff1a<a href=\\"http://sourceforge.net/projects/shadowsocksgui/files/dist/\\">http://sourceforge.net/projects/shadowsocksgui/files/dist/</a></p>\\n<h2 id=\\"\u5b89\u88c5shadowsocks\\">\u5b89\u88c5shadowsocks</h2>\\n<p>root\u7528\u6237\u8fd0\u884c\uff1a</p>\\n<pre><code>wget --<span class=\\"hljs-keyword\\">no</span>-check-certificate http://www.bandwagong.<span class=\\"hljs-keyword\\">com</span>/vps/ss.<span class=\\"hljs-keyword\\">sh</span>\\nchmod +<span class=\\"hljs-keyword\\">x</span> ss.<span class=\\"hljs-keyword\\">sh</span>\\n./ss.<span class=\\"hljs-keyword\\">sh</span> <span class=\\"hljs-number\\">2</span>&gt;&amp;<span class=\\"hljs-number\\">1</span> | tee shadowsocks.<span class=\\"hljs-built_in\\">log</span></code></pre><p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u63d0\u793a\u5982\u4e0b\uff1a</p>\\n<pre><code>Congratulations, shadowsocks install completed!\\nYour Server IP:your_server_ip\\nYour Server Port:<span class=\\"hljs-number\\">443</span>\\nYour Password:your_password\\nYour Local IP:<span class=\\"hljs-number\\">127.0</span>.<span class=\\"hljs-number\\">0.1</span>\\nYour Local Port:<span class=\\"hljs-number\\">1080</span>\\nYour Encryption <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">Method</span>:</span>aes-<span class=\\"hljs-number\\">256</span>-cfb\\n\\nWelcome <span class=\\"hljs-keyword\\">to</span> visit:http:<span class=\\"hljs-comment\\">//www.bandwagong.com</span>\\nEnjoy it!</code></pre><h2 id=\\"\u5378\u8f7d\u65b9\u6cd5\\">\u5378\u8f7d\u65b9\u6cd5</h2>\\n<p>root\u7528\u6237\u8fd0\u884c\uff1a</p>\\n<pre><code><span class=\\"hljs-string\\">./ss.sh</span> uninstall</code></pre><p>#\u5355\u7528\u6237\u914d\u7f6e\u6587\u4ef6</p>\\n<p>\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff1a/etc/shadowsocks.json</p>\\n<pre><code>{\\n    <span class=\\"hljs-attr\\">\\"server\\"</span>:<span class=\\"hljs-string\\">\\"your_server_ip\\"</span>,\\n    <span class=\\"hljs-attr\\">\\"server_port\\"</span>:<span class=\\"hljs-number\\">443</span>,\\n    <span class=\\"hljs-attr\\">\\"local_address\\"</span>:<span class=\\"hljs-string\\">\\"127.0.0.1\\"</span>,\\n    <span class=\\"hljs-attr\\">\\"local_port\\"</span>:<span class=\\"hljs-number\\">1080</span>,\\n    <span class=\\"hljs-attr\\">\\"password\\"</span>:<span class=\\"hljs-string\\">\\"yourpassword\\"</span>,\\n    <span class=\\"hljs-attr\\">\\"timeout\\"</span>:<span class=\\"hljs-number\\">300</span>,\\n    <span class=\\"hljs-attr\\">\\"method\\"</span>:<span class=\\"hljs-string\\">\\"aes-256-cfb\\"</span>,\\n    <span class=\\"hljs-attr\\">\\"fast_open\\"</span>: <span class=\\"hljs-literal\\">false</span>\\n}</code></pre><h2 id=\\"\u591a\u7528\u6237\u591a\u7aef\u53e3\u914d\u7f6e\u6587\u4ef6\\">\u591a\u7528\u6237\u591a\u7aef\u53e3\u914d\u7f6e\u6587\u4ef6</h2>\\n<p>\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff1a/etc/shadowsocks.json</p>\\n<pre><code>{\\n    <span class=\\"hljs-attr\\">\\"server\\"</span>:<span class=\\"hljs-string\\">\\"your_server_ip\\"</span>,\\n    <span class=\\"hljs-attr\\">\\"local_address\\"</span>:<span class=\\"hljs-string\\">\\"127.0.0.1\\"</span>,\\n    <span class=\\"hljs-attr\\">\\"local_port\\"</span>:<span class=\\"hljs-number\\">1080</span>,\\n    <span class=\\"hljs-attr\\">\\"port_password\\"</span>:{\\n         <span class=\\"hljs-attr\\">\\"8989\\"</span>:<span class=\\"hljs-string\\">\\"password0\\"</span>,\\n         <span class=\\"hljs-attr\\">\\"9001\\"</span>:<span class=\\"hljs-string\\">\\"password1\\"</span>,\\n         <span class=\\"hljs-attr\\">\\"9002\\"</span>:<span class=\\"hljs-string\\">\\"password2\\"</span>,\\n         <span class=\\"hljs-attr\\">\\"9003\\"</span>:<span class=\\"hljs-string\\">\\"password3\\"</span>,\\n         <span class=\\"hljs-attr\\">\\"9004\\"</span>:<span class=\\"hljs-string\\">\\"password4\\"</span>\\n    },\\n    <span class=\\"hljs-attr\\">\\"timeout\\"</span>:<span class=\\"hljs-number\\">300</span>,\\n    <span class=\\"hljs-attr\\">\\"method\\"</span>:<span class=\\"hljs-string\\">\\"aes-256-cfb\\"</span>,\\n    <span class=\\"hljs-attr\\">\\"fast_open\\"</span>: <span class=\\"hljs-literal\\">false</span>\\n}</code></pre><h2 id=\\"\u4f7f\u7528\u547d\u4ee4\\">\u4f7f\u7528\u547d\u4ee4</h2>\\n<p>\u542f\u52a8\uff1a/etc/init.d/shadowsocks start\\n\u505c\u6b62\uff1a/etc/init.d/shadowsocks stop\\n\u91cd\u542f\uff1a/etc/init.d/shadowsocks restart\\n\u72b6\u6001\uff1a/etc/init.d/shadowsocks status</p>\\n","title":"\u642c\u74e6\u5de5VPS shadowsocks\u914d\u7f6e","tags":["vps","shadowsocks"],"slug":"bandwagonhost-vps-shadowsocks","createDate":1455155263549,"id":"bandwagonhost-vps-shadowsocks","thumb":"https://images.unsplash.com/photo-1581508525322-f5d437639ff9?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjEwNTE3MH0"}]')},20:function(s,a,n){s.exports=n(36)},25:function(s,a,n){},27:function(s,a,n){},33:function(s,a,n){},36:function(s,a,n){"use strict";n.r(a);var l=n(0),p=n.n(l),e=n(15),t=n.n(e),c=(n(25),n(26),n(2)),r=n(6),o=n(7);n(27);function h(){return p.a.createElement("div",{className:"progress-bar"},p.a.createElement("div",{className:"bg-red"}),p.a.createElement("div",{className:"bg-orange"}),p.a.createElement("div",{className:"bg-yellow"}),p.a.createElement("div",{className:"bg-green"}),p.a.createElement("div",{className:"bg-blue"}),p.a.createElement("div",{className:"bg-indigo"}),p.a.createElement("div",{className:"bg-purple"}))}var i=function(s,a,n){var p=s.map((function(s){return window.matchMedia(s)})),e=function(){var s=p.findIndex((function(s){return s.matches}));return"undefined"!==typeof a[s]?a[s]:n},t=Object(l.useState)(e),r=Object(c.a)(t,2),o=r[0],h=r[1];return Object(l.useEffect)((function(){var s=function(){return h(e)};return p.forEach((function(a){return a.addListener(s)})),function(){return p.forEach((function(a){return a.removeListener(s)}))}}),[]),o},j=function(s,a){var n=Object(l.useState)((function(){try{var n=window.localStorage.getItem(s);return n?JSON.parse(n):a}catch(l){return console.log(l),a}})),p=Object(c.a)(n,2),e=p[0],t=p[1];return[e,function(a){try{var n=a instanceof Function?a(e):a;t(n),window.localStorage.setItem(s,JSON.stringify(n))}catch(l){console.log(l)}}]};var d=function(){var s=j("dark-mode-enabled"),a=Object(c.a)(s,2),n=a[0],p=a[1],e=i(["(prefers-color-scheme: dark"],[!0],!1),t="undefined"!==typeof n?n:e;return Object(l.useEffect)((function(){var s=window.document.body;t?s.classList.add("dark-mode"):s.classList.remove("dark-mode")}),[t]),[t,p]};function m(){var s=d(),a=Object(c.a)(s,2),n=a[0],l=a[1],e=(new Date).getTime()-1583224596e3,t=Math.floor(e/864e5);return p.a.createElement("div",{className:"sidebar text-left"},p.a.createElement("h1",null,p.a.createElement(r.b,{className:"logo",to:"/"},"\u6253\u5f00\u5929\u773c\u770b\u6587\u7ae0")),p.a.createElement("p",null,"TECH | LIFE | X"),p.a.createElement("p",{className:"font-sm"},p.a.createElement(r.b,{className:"text-blue",to:"/about",title:"about me"},"@me |"),p.a.createElement("a",{className:"text-green",href:"https://github.com/xiao555",title:"github",target:"_blank",rel:"noopener noreferrer"},"@github")),p.a.createElement("p",{className:"font-sm"},p.a.createElement("a",{href:"mailto:zhangruiwu32@gmail.com"},"zhangruiwu32@gmail.com")),p.a.createElement("p",null,p.a.createElement("small",null,"\u672c\u7ad9\u5df2\u5b58\u6d3b ",t," \u5929")),p.a.createElement("button",{className:"border-0 px-0",onClick:function(){return l(!n)}},n?p.a.createElement("i",{className:"fas fa-sun"}):p.a.createElement("i",{className:"fas fa-moon"})))}var u=function(){return p.a.createElement("h1",null,"Loading...")};n(33);function g(s){return s instanceof Date&&!isNaN(s)}function b(s){var a=Number(s);return a<10?"0"+a:a.toString()}function y(s){var a=new Date(s);if(!g(a))return s;var n=function(s){return g(s)?{year:s.getFullYear(),month:b(s.getMonth()+1),date:b(s.getDate()),hour:b(s.getHours()),minute:b(s.getMinutes()),second:b(s.getSeconds())}:{}}(a),l=n.year,p=n.month,e=n.date;return"".concat(l,"-").concat(p,"-").concat(e)}var f=function(s,a){if("undefined"===typeof window.getComputedStyle(document.body).scrollBehavior){window.requestAnimationFrame||(window.requestAnimationFrame=function(s,a){return setTimeout(s,17)});!function n(){var l=s.scrollTop,p=a-l,e=l+(p>=0?Math.max(p/5,1):Math.min(p/5,-1));Math.abs(a-l)<=1?s.scrollTop=a:(s.scrollTop=e,requestAnimationFrame(n))}()}else s.style.scrollBehavior="smooth",s.scrollTop=a};var w=function(s){return s.posts.map((function(s){return p.a.createElement(r.b,{to:"/post/".concat(s.slug),key:s.id},p.a.createElement("article",{className:"post-list-item"},p.a.createElement("div",{className:"post-list-item-info"},p.a.createElement("h2",null,s.title),p.a.createElement("p",null,p.a.createElement("small",null,y(s.createDate))),p.a.createElement("p",{dangerouslySetInnerHTML:{__html:s.intro}})),p.a.createElement("div",{className:"post-list-item-thumb-wrapper"},p.a.createElement("div",{className:"post-list-item-thumb",style:{backgroundImage:"url(".concat(s.thumb,")")}}))))}))},k=n(18),v=function(){return{articles:k}},x=function(s){var a=v().articles,n=Object(l.useState)(a?a.find((function(a){return a.id===s})):null),p=Object(c.a)(n,2),e=p[0],t=p[1];return Object(l.useEffect)((function(){if(a){var n=a.find((function(a){return a.id===s}));t(n||null)}}),[a,s]),e},_=JSON.parse(window.localStorage.getItem("scroll-history"))||{},S=function(){var s=Object(o.f)();Object(l.useEffect)((function(){return document.documentElement.scrollTop=_[s.pathname]||0,function(){var a=document.documentElement.scrollTop;_[s.pathname]=a,window.localStorage.setItem("scroll-history",JSON.stringify(_))}}),[])};var E=function(){var s=v().articles;return S(),Object(l.useEffect)((function(){document.title="\u9996\u9875 | \u6253\u5f00\u5929\u773c\u770b\u6587\u7ae0"})),s?p.a.createElement("div",{className:"main-content"},p.a.createElement(w,{posts:s.filter((function(s){return"about-me"!==s.id}))})):p.a.createElement(u,null)},C=n(19),T=n.n(C);var O=function(){var s=Object(o.g)().id,a=x(s);return S(),Object(l.useEffect)((function(){document.title="".concat(a.title," | \u6253\u5f00\u5929\u773c\u770b\u6587\u7ae0")})),Object(l.useEffect)((function(){new T.a({el:"#vcomments",appId:"2VQxghv1P34UuWX18ynpOBhX-gzGzoHsz",appKey:"IUpu9P5iuaym0hGnWxogUvon",visitor:!0,recordIP:!0,path:s})}),[s]),a?p.a.createElement("article",{className:"main-content"},p.a.createElement("h2",null,a.title),p.a.createElement("p",null,p.a.createElement("small",null,y(a.createDate)),p.a.createElement("span",{id:s,className:"leancloud_visitors ml-1"},p.a.createElement("small",null,"\u9605\u8bfb\u91cf")," ",p.a.createElement("small",{className:"leancloud-visitors-count"}))),p.a.createElement("section",{dangerouslySetInnerHTML:{__html:a.content}}),p.a.createElement("section",{id:"vcomments"})):p.a.createElement(u,null)};var D=function(){var s=x("about-me");return Object(l.useEffect)((function(){document.title="\u5173\u4e8e | \u6253\u5f00\u5929\u773c\u770b\u6587\u7ae0"})),S(),s?p.a.createElement("article",{className:"main-content"},p.a.createElement("h2",null,s.title),p.a.createElement("p",null,p.a.createElement("small",null,y(s.createDate))),p.a.createElement("p",{dangerouslySetInnerHTML:{__html:s.content}})):p.a.createElement(u,null)},N=function(s,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,p=Object(l.useRef)();Object(l.useEffect)((function(){p.current=a}),[a]),Object(l.useEffect)((function(){if(n&&n.addEventListener){var a=function(s){return p.current(s)};return n.addEventListener(s,a),function(){n.removeEventListener(s,a)}}}),[s,n])},I=function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.documentElement,a=Object(l.useState)(s.scrollTop),n=Object(c.a)(a,2),p=n[0],e=n[1],t=function(){e(s.scrollTop)};return N("scroll",t),[p]};function M(){return p.a.createElement("div",{className:"back-to-top",onClick:function(){return f(document.documentElement,0)}},p.a.createElement("i",{className:"fa fa-fighter-jet"}))}var A=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(s,a){navigator.serviceWorker.register(s).then((function(s){s.onupdatefound=function(){var n=s.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(s)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(s)))})}})).catch((function(s){console.error("Error during service worker registration:",s)}))}window.AV=n(34),t.a.render(p.a.createElement((function(){var s=I(),a=Object(c.a)(s,1)[0];return p.a.createElement(r.a,null,p.a.createElement("div",{className:"app"},p.a.createElement(h,null),p.a.createElement("main",{className:"main"},p.a.createElement(m,null),p.a.createElement(o.c,null,p.a.createElement(o.a,{exact:!0,path:"/",component:E}),p.a.createElement(o.a,{path:"/post/:id",component:O}),p.a.createElement(o.a,{path:"/about",component:D}))),a>800&&p.a.createElement(M,null)))}),null),document.getElementById("root")),function(s){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");A?(!function(s,a){fetch(s).then((function(n){var l=n.headers.get("content-type");404===n.status||null!=l&&-1===l.indexOf("javascript")?navigator.serviceWorker.ready.then((function(s){s.unregister().then((function(){window.location.reload()}))})):B(s,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,s),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):B(a,s)}))}}(),window.addEventListener("beforeinstallprompt",(function(s){console.log(s.platforms),s.userChoice.then((function(s){console.log(s)}),(function(s){return console.error(s)}))}))}},[[20,1,2]]]);
//# sourceMappingURL=main.59ad918c.chunk.js.map